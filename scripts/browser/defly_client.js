! function (a) {
    function b(a) {
        if (x = q(b), !(a < e + l)) {
            for (d += a - e, e = a, t(a, d), a > i + h && (f = g * j * 1e3 / (a - i) + (1 - g) * f, i = a, j = 0), j++, k = 0; d >= c;)
                if (u(c), d -= c, ++k >= 240) {
                    o = !0;
                    break
                } v(d / c), w(f, o), o = !1
        }
    }
    var c = 1e3 / 60,
        d = 0,
        e = 0,
        f = 60,
        g = .9,
        h = 1e3,
        i = 0,
        j = 0,
        k = 0,
        l = 0,
        m = !1,
        n = !1,
        o = !1,
        p = "object" == typeof window ? window : a,
        q = p.requestAnimationFrame || function () {
            var a = Date.now(),
                b, d;
            return function (e) {
                return b = Date.now(), d = Math.max(0, c - (b - a)), a = b + d, setTimeout(function () {
                    e(b + d)
                }, d)
            }
        }(),
        r = p.cancelAnimationFrame || clearTimeout,
        s = function () {},
        t = s,
        u = s,
        v = s,
        w = s,
        x;
    a.MainLoop = {
        getSimulationTimestep: function () {
            return c
        },
        setSimulationTimestep: function (a) {
            return c = a, this
        },
        getFPS: function () {
            return f
        },
        getMaxAllowedFPS: function () {
            return 1e3 / l
        },
        setMaxAllowedFPS: function (a) {
            return "undefined" == typeof a && (a = 1 / 0), 0 === a ? this.stop() : l = 1e3 / a, this
        },
        resetFrameDelta: function () {
            var a = d;
            return d = 0, a
        },
        setBegin: function (a) {
            return t = a || t, this
        },
        setUpdate: function (a) {
            return u = a || u, this
        },
        setDraw: function (a) {
            return v = a || v, this
        },
        setEnd: function (a) {
            return w = a || w, this
        },
        start: function () {
            return n || (n = !0, x = q(function (a) {
                v(1), m = !0, e = a, i = a, j = 0, x = q(b)
            })), this
        },
        stop: function () {
            return m = !1, n = !1, r(x), this
        },
        isRunning: function () {
            return m
        }
    }, "function" == typeof define && define.amd ? define(a.MainLoop) : "object" == typeof module && null !== module && "object" == typeof module.exports && (module.exports = a.MainLoop)
}(this);
! function (t) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = t();
    else if ("function" == typeof define && define.amd) define([], t);
    else {
        var e;
        e = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, e.PIXI = t()
    }
}(function () {
    var t;
    return function () {
        function t(e, r, n) {
            function i(s, a) {
                if (!r[s]) {
                    if (!e[s]) {
                        var u = "function" == typeof require && require;
                        if (!a && u) return u(s, !0);
                        if (o) return o(s, !0);
                        var h = new Error("Cannot find module '" + s + "'");
                        throw h.code = "MODULE_NOT_FOUND", h
                    }
                    var l = r[s] = {
                        exports: {}
                    };
                    e[s][0].call(l.exports, function (t) {
                        var r = e[s][1][t];
                        return i(r || t)
                    }, l, l.exports, t, e, r, n)
                }
                return r[s].exports
            }
            for (var o = "function" == typeof require && require, s = 0; s < n.length; s++) i(n[s]);
            return i
        }
        return t
    }()({
        1: [function (t, e, r) {
            "use strict";
            "use restrict";
            function n(t) {
                var e = 32;
                return t &= -t, t && e--, 65535 & t && (e -= 16), 16711935 & t && (e -= 8), 252645135 & t && (e -= 4), 858993459 & t && (e -= 2), 1431655765 & t && (e -= 1), e
            }
            r.INT_BITS = 32, r.INT_MAX = 2147483647, r.INT_MIN = -1 << 31, r.sign = function (t) {
                return (t > 0) - (t < 0)
            }, r.abs = function (t) {
                var e = t >> 31;
                return (t ^ e) - e
            }, r.min = function (t, e) {
                return e ^ (t ^ e) & -(t < e)
            }, r.max = function (t, e) {
                return t ^ (t ^ e) & -(t < e)
            }, r.isPow2 = function (t) {
                return !(t & t - 1 || !t)
            }, r.log2 = function (t) {
                var e, r;
                return e = (t > 65535) << 4, t >>>= e, r = (t > 255) << 3, t >>>= r, e |= r, r = (t > 15) << 2, t >>>= r, e |= r, r = (t > 3) << 1, t >>>= r, (e |= r) | t >> 1
            }, r.log10 = function (t) {
                return t >= 1e9 ? 9 : t >= 1e8 ? 8 : t >= 1e7 ? 7 : t >= 1e6 ? 6 : t >= 1e5 ? 5 : t >= 1e4 ? 4 : t >= 1e3 ? 3 : t >= 100 ? 2 : t >= 10 ? 1 : 0
            }, r.popCount = function (t) {
                return t -= t >>> 1 & 1431655765, 16843009 * ((t = (858993459 & t) + (t >>> 2 & 858993459)) + (t >>> 4) & 252645135) >>> 24
            }, r.countTrailingZeros = n, r.nextPow2 = function (t) {
                return t += 0 === t, --t, t |= t >>> 1, t |= t >>> 2, t |= t >>> 4, t |= t >>> 8, (t |= t >>> 16) + 1
            }, r.prevPow2 = function (t) {
                return t |= t >>> 1, t |= t >>> 2, t |= t >>> 4, t |= t >>> 8, (t |= t >>> 16) - (t >>> 1)
            }, r.parity = function (t) {
                return t ^= t >>> 16, t ^= t >>> 8, t ^= t >>> 4, 27030 >>> (t &= 15) & 1
            };
            var i = new Array(256);
            ! function (t) {
                for (var e = 0; e < 256; ++e) {
                    var r = e,
                        n = e,
                        i = 7;
                    for (r >>>= 1; r; r >>>= 1) n <<= 1, n |= 1 & r, --i;
                    t[e] = n << i & 255
                }
            }(i), r.reverse = function (t) {
                return i[255 & t] << 24 | i[t >>> 8 & 255] << 16 | i[t >>> 16 & 255] << 8 | i[t >>> 24 & 255]
            }, r.interleave2 = function (t, e) {
                return t &= 65535, t = 16711935 & (t | t << 8), t = 252645135 & (t | t << 4), t = 858993459 & (t | t << 2), t = 1431655765 & (t | t << 1), e &= 65535, e = 16711935 & (e | e << 8), e = 252645135 & (e | e << 4), e = 858993459 & (e | e << 2), e = 1431655765 & (e | e << 1), t | e << 1
            }, r.deinterleave2 = function (t, e) {
                return t = t >>> e & 1431655765, t = 858993459 & (t | t >>> 1), t = 252645135 & (t | t >>> 2), t = 16711935 & (t | t >>> 4), (t = 65535 & (t | t >>> 16)) << 16 >> 16
            }, r.interleave3 = function (t, e, r) {
                return t &= 1023, t = 4278190335 & (t | t << 16), t = 251719695 & (t | t << 8), t = 3272356035 & (t | t << 4), t = 1227133513 & (t | t << 2), e &= 1023, e = 4278190335 & (e | e << 16), e = 251719695 & (e | e << 8), e = 3272356035 & (e | e << 4), e = 1227133513 & (e | e << 2), t |= e << 1, r &= 1023, r = 4278190335 & (r | r << 16), r = 251719695 & (r | r << 8), r = 3272356035 & (r | r << 4), r = 1227133513 & (r | r << 2), t | r << 2
            }, r.deinterleave3 = function (t, e) {
                return t = t >>> e & 1227133513, t = 3272356035 & (t | t >>> 2), t = 251719695 & (t | t >>> 4), t = 4278190335 & (t | t >>> 8), (t = 1023 & (t | t >>> 16)) << 22 >> 22
            }, r.nextCombination = function (t) {
                var e = t | t - 1;
                return e + 1 | (~e & -~e) - 1 >>> n(t) + 1
            }
        }, {}],
        2: [function (t, e, r) {
            "use strict";
            function n(t, e, r) {
                r = r || 2;
                var n = e && e.length,
                    o = n ? e[0] * r : t.length,
                    a = i(t, 0, o, r, !0),
                    u = [];
                if (!a || a.next === a.prev) return u;
                var h, l, d, f, p, v, g;
                if (n && (a = c(t, e, a, r)), t.length > 80 * r) {
                    h = d = t[0], l = f = t[1];
                    for (var y = r; y < o; y += r) p = t[y], v = t[y + 1], p < h && (h = p), v < l && (l = v), p > d && (d = p), v > f && (f = v);
                    g = Math.max(d - h, f - l), g = 0 !== g ? 1 / g : 0
                }
                return s(a, u, r, h, l, g), u
            }
            function i(t, e, r, n, i) {
                var o, s;
                if (i === A(t, e, r, n) > 0)
                    for (o = e; o < r; o += n) s = P(o, t[o], t[o + 1], s);
                else
                    for (o = r - n; o >= e; o -= n) s = P(o, t[o], t[o + 1], s);
                return s && T(s, s.next) && (C(s), s = s.next), s
            }
            function o(t, e) {
                if (!t) return t;
                e || (e = t);
                var r, n = t;
                do {
                    if (r = !1, n.steiner || !T(n, n.next) && 0 !== x(n.prev, n, n.next)) n = n.next;
                    else {
                        if (C(n), (n = e = n.prev) === n.next) break;
                        r = !0
                    }
                } while (r || n !== e);
                return e
            }
            function s(t, e, r, n, i, c, d) {
                if (t) {
                    !d && c && v(t, n, i, c);
                    for (var f, p, g = t; t.prev !== t.next;)
                        if (f = t.prev, p = t.next, c ? u(t, n, i, c) : a(t)) e.push(f.i / r), e.push(t.i / r), e.push(p.i / r), C(t), t = p.next, g = p.next;
                        else if ((t = p) === g) {
                        d ? 1 === d ? (t = h(t, e, r), s(t, e, r, n, i, c, 2)) : 2 === d && l(t, e, r, n, i, c) : s(o(t), e, r, n, i, c, 1);
                        break
                    }
                }
            }
            function a(t) {
                var e = t.prev,
                    r = t,
                    n = t.next;
                if (x(e, r, n) >= 0) return !1;
                for (var i = t.next.next; i !== t.prev;) {
                    if (_(e.x, e.y, r.x, r.y, n.x, n.y, i.x, i.y) && x(i.prev, i, i.next) >= 0) return !1;
                    i = i.next
                }
                return !0
            }
            function u(t, e, r, n) {
                var i = t.prev,
                    o = t,
                    s = t.next;
                if (x(i, o, s) >= 0) return !1;
                for (var a = i.x < o.x ? i.x < s.x ? i.x : s.x : o.x < s.x ? o.x : s.x, u = i.y < o.y ? i.y < s.y ? i.y : s.y : o.y < s.y ? o.y : s.y, h = i.x > o.x ? i.x > s.x ? i.x : s.x : o.x > s.x ? o.x : s.x, l = i.y > o.y ? i.y > s.y ? i.y : s.y : o.y > s.y ? o.y : s.y, c = y(a, u, e, r, n), d = y(h, l, e, r, n), f = t.prevZ, p = t.nextZ; f && f.z >= c && p && p.z <= d;) {
                    if (f !== t.prev && f !== t.next && _(i.x, i.y, o.x, o.y, s.x, s.y, f.x, f.y) && x(f.prev, f, f.next) >= 0) return !1;
                    if (f = f.prevZ, p !== t.prev && p !== t.next && _(i.x, i.y, o.x, o.y, s.x, s.y, p.x, p.y) && x(p.prev, p, p.next) >= 0) return !1;
                    p = p.nextZ
                }
                for (; f && f.z >= c;) {
                    if (f !== t.prev && f !== t.next && _(i.x, i.y, o.x, o.y, s.x, s.y, f.x, f.y) && x(f.prev, f, f.next) >= 0) return !1;
                    f = f.prevZ
                }
                for (; p && p.z <= d;) {
                    if (p !== t.prev && p !== t.next && _(i.x, i.y, o.x, o.y, s.x, s.y, p.x, p.y) && x(p.prev, p, p.next) >= 0) return !1;
                    p = p.nextZ
                }
                return !0
            }
            function h(t, e, r) {
                var n = t;
                do {
                    var i = n.prev,
                        o = n.next.next;
                    !T(i, o) && w(i, n, n.next, o) && S(i, o) && S(o, i) && (e.push(i.i / r), e.push(n.i / r), e.push(o.i / r), C(n), C(n.next), n = t = o), n = n.next
                } while (n !== t);
                return n
            }
            function l(t, e, r, n, i, a) {
                var u = t;
                do {
                    for (var h = u.next.next; h !== u.prev;) {
                        if (u.i !== h.i && b(u, h)) {
                            var l = M(u, h);
                            return u = o(u, u.next), l = o(l, l.next), s(u, e, r, n, i, a), void s(l, e, r, n, i, a)
                        }
                        h = h.next
                    }
                    u = u.next
                } while (u !== t)
            }
            function c(t, e, r, n) {
                var s, a, u, h, l, c = [];
                for (s = 0, a = e.length; s < a; s++) u = e[s] * n, h = s < a - 1 ? e[s + 1] * n : t.length, l = i(t, u, h, n, !1), l === l.next && (l.steiner = !0), c.push(m(l));
                for (c.sort(d), s = 0; s < c.length; s++) f(c[s], r), r = o(r, r.next);
                return r
            }
            function d(t, e) {
                return t.x - e.x
            }
            function f(t, e) {
                if (e = p(t, e)) {
                    var r = M(e, t);
                    o(r, r.next)
                }
            }
            function p(t, e) {
                var r, n = e,
                    i = t.x,
                    o = t.y,
                    s = -1 / 0;
                do {
                    if (o <= n.y && o >= n.next.y && n.next.y !== n.y) {
                        var a = n.x + (o - n.y) * (n.next.x - n.x) / (n.next.y - n.y);
                        if (a <= i && a > s) {
                            if (s = a, a === i) {
                                if (o === n.y) return n;
                                if (o === n.next.y) return n.next
                            }
                            r = n.x < n.next.x ? n : n.next
                        }
                    }
                    n = n.next
                } while (n !== e);
                if (!r) return null;
                if (i === s) return r.prev;
                var u, h = r,
                    l = r.x,
                    c = r.y,
                    d = 1 / 0;
                for (n = r.next; n !== h;) i >= n.x && n.x >= l && i !== n.x && _(o < c ? i : s, o, l, c, o < c ? s : i, o, n.x, n.y) && ((u = Math.abs(o - n.y) / (i - n.x)) < d || u === d && n.x > r.x) && S(n, t) && (r = n, d = u), n = n.next;
                return r
            }
            function v(t, e, r, n) {
                var i = t;
                do {
                    null === i.z && (i.z = y(i.x, i.y, e, r, n)), i.prevZ = i.prev, i.nextZ = i.next, i = i.next
                } while (i !== t);
                i.prevZ.nextZ = null, i.prevZ = null, g(i)
            }
            function g(t) {
                var e, r, n, i, o, s, a, u, h = 1;
                do {
                    for (r = t, t = null, o = null, s = 0; r;) {
                        for (s++, n = r, a = 0, e = 0; e < h && (a++, n = n.nextZ); e++);
                        for (u = h; a > 0 || u > 0 && n;) 0 !== a && (0 === u || !n || r.z <= n.z) ? (i = r, r = r.nextZ, a--) : (i = n, n = n.nextZ, u--), o ? o.nextZ = i : t = i, i.prevZ = o, o = i;
                        r = n
                    }
                    o.nextZ = null, h *= 2
                } while (s > 1);
                return t
            }
            function y(t, e, r, n, i) {
                return t = 32767 * (t - r) * i, e = 32767 * (e - n) * i, t = 16711935 & (t | t << 8), t = 252645135 & (t | t << 4), t = 858993459 & (t | t << 2), t = 1431655765 & (t | t << 1), e = 16711935 & (e | e << 8), e = 252645135 & (e | e << 4), e = 858993459 & (e | e << 2), e = 1431655765 & (e | e << 1), t | e << 1
            }
            function m(t) {
                var e = t,
                    r = t;
                do {
                    e.x < r.x && (r = e), e = e.next
                } while (e !== t);
                return r
            }
            function _(t, e, r, n, i, o, s, a) {
                return (i - s) * (e - a) - (t - s) * (o - a) >= 0 && (t - s) * (n - a) - (r - s) * (e - a) >= 0 && (r - s) * (o - a) - (i - s) * (n - a) >= 0
            }
            function b(t, e) {
                return t.next.i !== e.i && t.prev.i !== e.i && !E(t, e) && S(t, e) && S(e, t) && O(t, e)
            }
            function x(t, e, r) {
                return (e.y - t.y) * (r.x - e.x) - (e.x - t.x) * (r.y - e.y)
            }
            function T(t, e) {
                return t.x === e.x && t.y === e.y
            }
            function w(t, e, r, n) {
                return !!(T(t, e) && T(r, n) || T(t, n) && T(r, e)) || x(t, e, r) > 0 != x(t, e, n) > 0 && x(r, n, t) > 0 != x(r, n, e) > 0
            }
            function E(t, e) {
                var r = t;
                do {
                    if (r.i !== t.i && r.next.i !== t.i && r.i !== e.i && r.next.i !== e.i && w(r, r.next, t, e)) return !0;
                    r = r.next
                } while (r !== t);
                return !1
            }
            function S(t, e) {
                return x(t.prev, t, t.next) < 0 ? x(t, e, t.next) >= 0 && x(t, t.prev, e) >= 0 : x(t, e, t.prev) < 0 || x(t, t.next, e) < 0
            }
            function O(t, e) {
                var r = t,
                    n = !1,
                    i = (t.x + e.x) / 2,
                    o = (t.y + e.y) / 2;
                do {
                    r.y > o != r.next.y > o && r.next.y !== r.y && i < (r.next.x - r.x) * (o - r.y) / (r.next.y - r.y) + r.x && (n = !n), r = r.next
                } while (r !== t);
                return n
            }
            function M(t, e) {
                var r = new R(t.i, t.x, t.y),
                    n = new R(e.i, e.x, e.y),
                    i = t.next,
                    o = e.prev;
                return t.next = e, e.prev = t, r.next = i, i.prev = r, n.next = r, r.prev = n, o.next = n, n.prev = o, n
            }
            function P(t, e, r, n) {
                var i = new R(t, e, r);
                return n ? (i.next = n.next, i.prev = n, n.next.prev = i, n.next = i) : (i.prev = i, i.next = i), i
            }
            function C(t) {
                t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ)
            }
            function R(t, e, r) {
                this.i = t, this.x = e, this.y = r, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1
            }
            function A(t, e, r, n) {
                for (var i = 0, o = e, s = r - n; o < r; o += n) i += (t[s] - t[o]) * (t[o + 1] + t[s + 1]), s = o;
                return i
            }
            e.exports = n, e.exports.default = n, n.deviation = function (t, e, r, n) {
                var i = e && e.length,
                    o = i ? e[0] * r : t.length,
                    s = Math.abs(A(t, 0, o, r));
                if (i)
                    for (var a = 0, u = e.length; a < u; a++) {
                        var h = e[a] * r,
                            l = a < u - 1 ? e[a + 1] * r : t.length;
                        s -= Math.abs(A(t, h, l, r))
                    }
                var c = 0;
                for (a = 0; a < n.length; a += 3) {
                    var d = n[a] * r,
                        f = n[a + 1] * r,
                        p = n[a + 2] * r;
                    c += Math.abs((t[d] - t[p]) * (t[f + 1] - t[d + 1]) - (t[d] - t[f]) * (t[p + 1] - t[d + 1]))
                }
                return 0 === s && 0 === c ? 0 : Math.abs((c - s) / s)
            }, n.flatten = function (t) {
                for (var e = t[0][0].length, r = {
                        vertices: [],
                        holes: [],
                        dimensions: e
                    }, n = 0, i = 0; i < t.length; i++) {
                    for (var o = 0; o < t[i].length; o++)
                        for (var s = 0; s < e; s++) r.vertices.push(t[i][o][s]);
                    i > 0 && (n += t[i - 1].length, r.holes.push(n))
                }
                return r
            }
        }, {}],
        3: [function (t, e, r) {
            "use strict";
            function n() {}
            function i(t, e, r) {
                this.fn = t, this.context = e, this.once = r || !1
            }
            function o() {
                this._events = new n, this._eventsCount = 0
            }
            var s = Object.prototype.hasOwnProperty,
                a = "~";
            Object.create && (n.prototype = Object.create(null), (new n).__proto__ || (a = !1)), o.prototype.eventNames = function () {
                var t, e, r = [];
                if (0 === this._eventsCount) return r;
                for (e in t = this._events) s.call(t, e) && r.push(a ? e.slice(1) : e);
                return Object.getOwnPropertySymbols ? r.concat(Object.getOwnPropertySymbols(t)) : r
            }, o.prototype.listeners = function (t, e) {
                var r = a ? a + t : t,
                    n = this._events[r];
                if (e) return !!n;
                if (!n) return [];
                if (n.fn) return [n.fn];
                for (var i = 0, o = n.length, s = new Array(o); i < o; i++) s[i] = n[i].fn;
                return s
            }, o.prototype.emit = function (t, e, r, n, i, o) {
                var s = a ? a + t : t;
                if (!this._events[s]) return !1;
                var u, h, l = this._events[s],
                    c = arguments.length;
                if (l.fn) {
                    switch (l.once && this.removeListener(t, l.fn, void 0, !0), c) {
                    case 1:
                        return l.fn.call(l.context), !0;
                    case 2:
                        return l.fn.call(l.context, e), !0;
                    case 3:
                        return l.fn.call(l.context, e, r), !0;
                    case 4:
                        return l.fn.call(l.context, e, r, n), !0;
                    case 5:
                        return l.fn.call(l.context, e, r, n, i), !0;
                    case 6:
                        return l.fn.call(l.context, e, r, n, i, o), !0
                    }
                    for (h = 1, u = new Array(c - 1); h < c; h++) u[h - 1] = arguments[h];
                    l.fn.apply(l.context, u)
                } else {
                    var d, f = l.length;
                    for (h = 0; h < f; h++) switch (l[h].once && this.removeListener(t, l[h].fn, void 0, !0), c) {
                    case 1:
                        l[h].fn.call(l[h].context);
                        break;
                    case 2:
                        l[h].fn.call(l[h].context, e);
                        break;
                    case 3:
                        l[h].fn.call(l[h].context, e, r);
                        break;
                    case 4:
                        l[h].fn.call(l[h].context, e, r, n);
                        break;
                    default:
                        if (!u)
                            for (d = 1, u = new Array(c - 1); d < c; d++) u[d - 1] = arguments[d];
                        l[h].fn.apply(l[h].context, u)
                    }
                }
                return !0
            }, o.prototype.on = function (t, e, r) {
                var n = new i(e, r || this),
                    o = a ? a + t : t;
                return this._events[o] ? this._events[o].fn ? this._events[o] = [this._events[o], n] : this._events[o].push(n) : (this._events[o] = n, this._eventsCount++), this
            }, o.prototype.once = function (t, e, r) {
                var n = new i(e, r || this, !0),
                    o = a ? a + t : t;
                return this._events[o] ? this._events[o].fn ? this._events[o] = [this._events[o], n] : this._events[o].push(n) : (this._events[o] = n, this._eventsCount++), this
            }, o.prototype.removeListener = function (t, e, r, i) {
                var o = a ? a + t : t;
                if (!this._events[o]) return this;
                if (!e) return 0 == --this._eventsCount ? this._events = new n : delete this._events[o], this;
                var s = this._events[o];
                if (s.fn) s.fn !== e || i && !s.once || r && s.context !== r || (0 == --this._eventsCount ? this._events = new n : delete this._events[o]);
                else {
                    for (var u = 0, h = [], l = s.length; u < l; u++)(s[u].fn !== e || i && !s[u].once || r && s[u].context !== r) && h.push(s[u]);
                    h.length ? this._events[o] = 1 === h.length ? h[0] : h : 0 == --this._eventsCount ? this._events = new n : delete this._events[o]
                }
                return this
            }, o.prototype.removeAllListeners = function (t) {
                var e;
                return t ? (e = a ? a + t : t, this._events[e] && (0 == --this._eventsCount ? this._events = new n : delete this._events[e])) : (this._events = new n, this._eventsCount = 0), this
            }, o.prototype.off = o.prototype.removeListener, o.prototype.addListener = o.prototype.on, o.prototype.setMaxListeners = function () {
                return this
            }, o.prefixed = a, o.EventEmitter = o, void 0 !== e && (e.exports = o)
        }, {}],
        4: [function (e, r, n) {
            ! function (e) {
                function n(t, e) {
                    return t.test(e)
                }
                function i(t) {
                    var e = t || ("undefined" != typeof navigator ? navigator.userAgent : ""),
                        r = e.split("[FBAN");
                    void 0 !== r[1] && (e = r[0]), void 0 !== (r = e.split("Twitter"))[1] && (e = r[0]);
                    var i = {
                        apple: {
                            phone: n(o, e) && !n(d, e),
                            ipod: n(s, e),
                            tablet: !n(o, e) && n(a, e) && !n(d, e),
                            device: (n(o, e) || n(s, e) || n(a, e)) && !n(d, e)
                        },
                        amazon: {
                            phone: n(l, e),
                            tablet: !n(l, e) && n(c, e),
                            device: n(l, e) || n(c, e)
                        },
                        android: {
                            phone: !n(d, e) && n(l, e) || !n(d, e) && n(u, e),
                            tablet: !n(d, e) && !n(l, e) && !n(u, e) && (n(c, e) || n(h, e)),
                            device: !n(d, e) && (n(l, e) || n(c, e) || n(u, e) || n(h, e))
                        },
                        windows: {
                            phone: n(d, e),
                            tablet: n(f, e),
                            device: n(d, e) || n(f, e)
                        },
                        other: {
                            blackberry: n(p, e),
                            blackberry10: n(v, e),
                            opera: n(g, e),
                            firefox: n(m, e),
                            chrome: n(y, e),
                            device: n(p, e) || n(v, e) || n(g, e) || n(m, e) || n(y, e)
                        }
                    };
                    return i.any = i.apple.device || i.android.device || i.windows.device || i.other.device, i.phone = i.apple.phone || i.android.phone || i.windows.phone, i.tablet = i.apple.tablet || i.android.tablet || i.windows.tablet, i
                }
                var o = /iPhone/i,
                    s = /iPod/i,
                    a = /iPad/i,
                    u = /\bAndroid(?:.+)Mobile\b/i,
                    h = /Android/i,
                    l = /\bAndroid(?:.+)SD4930UR\b/i,
                    c = /\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,
                    d = /Windows Phone/i,
                    f = /\bWindows(?:.+)ARM\b/i,
                    p = /BlackBerry/i,
                    v = /BB10/i,
                    g = /Opera Mini/i,
                    y = /\b(CriOS|Chrome)(?:.+)Mobile/i,
                    m = /\Mobile(?:.+)Firefox\b/i;
                void 0 !== r && r.exports && "undefined" == typeof window ? r.exports = i : void 0 !== r && r.exports && "undefined" != typeof window ? r.exports = i() : "function" == typeof t && t.amd ? t([], e.isMobile = i()) : e.isMobile = i()
            }(this)
        }, {}],
        5: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                return t._head ? (t._tail._next = e, e._prev = t._tail, t._tail = e) : (t._head = e, t._tail = e), e._owner = t, e
            }
            Object.defineProperty(r, "__esModule", {
                value: !0
            });
            var o = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                s = function () {
                    function t(e, r, i) {
                        void 0 === r && (r = !1), n(this, t), this._fn = e, this._once = r, this._thisArg = i, this._next = this._prev = this._owner = null
                    }
                    return o(t, [{
                        key: "detach",
                        value: function () {
                            return null !== this._owner && (this._owner.detach(this), !0)
                        }
                    }]), t
                }(),
                a = function () {
                    function t() {
                        n(this, t), this._head = this._tail = void 0
                    }
                    return o(t, [{
                        key: "handlers",
                        value: function () {
                            var t = !(arguments.length <= 0 || void 0 === arguments[0]) && arguments[0],
                                e = this._head;
                            if (t) return !!e;
                            for (var r = []; e;) r.push(e), e = e._next;
                            return r
                        }
                    }, {
                        key: "has",
                        value: function (t) {
                            if (!(t instanceof s)) throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");
                            return t._owner === this
                        }
                    }, {
                        key: "dispatch",
                        value: function () {
                            var t = this._head;
                            if (!t) return !1;
                            for (; t;) t._once && this.detach(t), t._fn.apply(t._thisArg, arguments), t = t._next;
                            return !0
                        }
                    }, {
                        key: "add",
                        value: function (t) {
                            var e = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1];
                            if ("function" != typeof t) throw new Error("MiniSignal#add(): First arg must be a Function.");
                            return i(this, new s(t, !1, e))
                        }
                    }, {
                        key: "once",
                        value: function (t) {
                            var e = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1];
                            if ("function" != typeof t) throw new Error("MiniSignal#once(): First arg must be a Function.");
                            return i(this, new s(t, !0, e))
                        }
                    }, {
                        key: "detach",
                        value: function (t) {
                            if (!(t instanceof s)) throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");
                            return t._owner !== this ? this : (t._prev && (t._prev._next = t._next), t._next && (t._next._prev = t._prev), t === this._head ? (this._head = t._next, null === t._next && (this._tail = null)) : t === this._tail && (this._tail = t._prev, this._tail._next = null), t._owner = null, this)
                        }
                    }, {
                        key: "detachAll",
                        value: function () {
                            var t = this._head;
                            if (!t) return this;
                            for (this._head = this._tail = null; t;) t._owner = null, t = t._next;
                            return this
                        }
                    }]), t
                }();
            a.MiniSignalBinding = s, r.default = a, e.exports = r.default
        }, {}],
        6: [function (t, e, r) {
            "use strict";
            function n(t) {
                if (null === t || void 0 === t) throw new TypeError("Object.assign cannot be called with null or undefined");
                return Object(t)
            }
            var i = Object.getOwnPropertySymbols,
                o = Object.prototype.hasOwnProperty,
                s = Object.prototype.propertyIsEnumerable;
            e.exports = function () {
                try {
                    if (!Object.assign) return !1;
                    var t = new String("abc");
                    if (t[5] = "de", "5" === Object.getOwnPropertyNames(t)[0]) return !1;
                    for (var e = {}, r = 0; r < 10; r++) e["_" + String.fromCharCode(r)] = r;
                    if ("0123456789" !== Object.getOwnPropertyNames(e).map(function (t) {
                            return e[t]
                        }).join("")) return !1;
                    var n = {};
                    return "abcdefghijklmnopqrst".split("").forEach(function (t) {
                        n[t] = t
                    }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, n)).join("")
                } catch (t) {
                    return !1
                }
            }() ? Object.assign : function (t, e) {
                for (var r, a, u = n(t), h = 1; h < arguments.length; h++) {
                    r = Object(arguments[h]);
                    for (var l in r) o.call(r, l) && (u[l] = r[l]);
                    if (i) {
                        a = i(r);
                        for (var c = 0; c < a.length; c++) s.call(r, a[c]) && (u[a[c]] = r[a[c]])
                    }
                }
                return u
            }
        }, {}],
        7: [function (t, e, r) {
            "use strict";
            e.exports = function (t, e) {
                e = e || {};
                for (var r = {
                        key: ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"],
                        q: {
                            name: "queryKey",
                            parser: /(?:^|&)([^&=]*)=?([^&]*)/g
                        },
                        parser: {
                            strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
                            loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
                        }
                    }, n = r.parser[e.strictMode ? "strict" : "loose"].exec(t), i = {}, o = 14; o--;) i[r.key[o]] = n[o] || "";
                return i[r.q.name] = {}, i[r.key[12]].replace(r.q.parser, function (t, e, n) {
                    e && (i[r.q.name][e] = n)
                }), i
            }
        }, {}],
        8: [function (t, e, r) {
            (function (t) {
                function e(t, e) {
                    for (var r = 0, n = t.length - 1; n >= 0; n--) {
                        var i = t[n];
                        "." === i ? t.splice(n, 1) : ".." === i ? (t.splice(n, 1), r++) : r && (t.splice(n, 1), r--)
                    }
                    if (e)
                        for (; r--; r) t.unshift("..");
                    return t
                }
                function n(t, e) {
                    if (t.filter) return t.filter(e);
                    for (var r = [], n = 0; n < t.length; n++) e(t[n], n, t) && r.push(t[n]);
                    return r
                }
                var i = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,
                    o = function (t) {
                        return i.exec(t).slice(1)
                    };
                r.resolve = function () {
                    for (var r = "", i = !1, o = arguments.length - 1; o >= -1 && !i; o--) {
                        var s = o >= 0 ? arguments[o] : t.cwd();
                        if ("string" != typeof s) throw new TypeError("Arguments to path.resolve must be strings");
                        s && (r = s + "/" + r, i = "/" === s.charAt(0))
                    }
                    return r = e(n(r.split("/"), function (t) {
                        return !!t
                    }), !i).join("/"), (i ? "/" : "") + r || "."
                }, r.normalize = function (t) {
                    var i = r.isAbsolute(t),
                        o = "/" === s(t, -1);
                    return t = e(n(t.split("/"), function (t) {
                        return !!t
                    }), !i).join("/"), t || i || (t = "."), t && o && (t += "/"), (i ? "/" : "") + t
                }, r.isAbsolute = function (t) {
                    return "/" === t.charAt(0)
                }, r.join = function () {
                    var t = Array.prototype.slice.call(arguments, 0);
                    return r.normalize(n(t, function (t, e) {
                        if ("string" != typeof t) throw new TypeError("Arguments to path.join must be strings");
                        return t
                    }).join("/"))
                }, r.relative = function (t, e) {
                    function n(t) {
                        for (var e = 0; e < t.length && "" === t[e]; e++);
                        for (var r = t.length - 1; r >= 0 && "" === t[r]; r--);
                        return e > r ? [] : t.slice(e, r - e + 1)
                    }
                    t = r.resolve(t).substr(1), e = r.resolve(e).substr(1);
                    for (var i = n(t.split("/")), o = n(e.split("/")), s = Math.min(i.length, o.length), a = s, u = 0; u < s; u++)
                        if (i[u] !== o[u]) {
                            a = u;
                            break
                        } for (var h = [], u = a; u < i.length; u++) h.push("..");
                    return h = h.concat(o.slice(a)), h.join("/")
                }, r.sep = "/", r.delimiter = ":", r.dirname = function (t) {
                    var e = o(t),
                        r = e[0],
                        n = e[1];
                    return r || n ? (n && (n = n.substr(0, n.length - 1)), r + n) : "."
                }, r.basename = function (t, e) {
                    var r = o(t)[2];
                    return e && r.substr(-1 * e.length) === e && (r = r.substr(0, r.length - e.length)), r
                }, r.extname = function (t) {
                    return o(t)[3]
                };
                var s = "b" === "ab".substr(-1) ? function (t, e, r) {
                    return t.substr(e, r)
                } : function (t, e, r) {
                    return e < 0 && (e = t.length + e), t.substr(e, r)
                }
            }).call(this, t("_process"))
        }, {
            _process: 26
        }],
        9: [function (t, e, r) {
            var n = new ArrayBuffer(0),
                i = function (t, e, r, i) {
                    this.gl = t, this.buffer = t.createBuffer(), this.type = e || t.ARRAY_BUFFER, this.drawType = i || t.STATIC_DRAW, this.data = n, r && this.upload(r), this._updateID = 0
                };
            i.prototype.upload = function (t, e, r) {
                r || this.bind();
                var n = this.gl;
                t = t || this.data, e = e || 0, this.data.byteLength >= t.byteLength ? n.bufferSubData(this.type, e, t) : n.bufferData(this.type, t, this.drawType), this.data = t
            }, i.prototype.bind = function () {
                this.gl.bindBuffer(this.type, this.buffer)
            }, i.createVertexBuffer = function (t, e, r) {
                return new i(t, t.ARRAY_BUFFER, e, r)
            }, i.createIndexBuffer = function (t, e, r) {
                return new i(t, t.ELEMENT_ARRAY_BUFFER, e, r)
            }, i.create = function (t, e, r, n) {
                return new i(t, e, r, n)
            }, i.prototype.destroy = function () {
                this.gl.deleteBuffer(this.buffer)
            }, e.exports = i
        }, {}],
        10: [function (t, e, r) {
            var n = t("./GLTexture"),
                i = function (t, e, r) {
                    this.gl = t, this.framebuffer = t.createFramebuffer(), this.stencil = null, this.texture = null, this.width = e || 100, this.height = r || 100
                };
            i.prototype.enableTexture = function (t) {
                var e = this.gl;
                this.texture = t || new n(e), this.texture.bind(), this.bind(), e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, this.texture.texture, 0)
            }, i.prototype.enableStencil = function () {
                if (!this.stencil) {
                    var t = this.gl;
                    this.stencil = t.createRenderbuffer(), t.bindRenderbuffer(t.RENDERBUFFER, this.stencil), t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, this.stencil), t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, this.width, this.height)
                }
            }, i.prototype.clear = function (t, e, r, n) {
                this.bind();
                var i = this.gl;
                i.clearColor(t, e, r, n), i.clear(i.COLOR_BUFFER_BIT | i.DEPTH_BUFFER_BIT)
            }, i.prototype.bind = function () {
                var t = this.gl;
                t.bindFramebuffer(t.FRAMEBUFFER, this.framebuffer)
            }, i.prototype.unbind = function () {
                var t = this.gl;
                t.bindFramebuffer(t.FRAMEBUFFER, null)
            }, i.prototype.resize = function (t, e) {
                var r = this.gl;
                this.width = t, this.height = e, this.texture && this.texture.uploadData(null, t, e), this.stencil && (r.bindRenderbuffer(r.RENDERBUFFER, this.stencil), r.renderbufferStorage(r.RENDERBUFFER, r.DEPTH_STENCIL, t, e))
            }, i.prototype.destroy = function () {
                var t = this.gl;
                this.texture && this.texture.destroy(), t.deleteFramebuffer(this.framebuffer), this.gl = null, this.stencil = null, this.texture = null
            }, i.createRGBA = function (t, e, r, o) {
                var s = n.fromData(t, null, e, r);
                s.enableNearestScaling(), s.enableWrapClamp();
                var a = new i(t, e, r);
                return a.enableTexture(s), a.unbind(), a
            }, i.createFloat32 = function (t, e, r, o) {
                var s = new n.fromData(t, o, e, r);
                s.enableNearestScaling(), s.enableWrapClamp();
                var a = new i(t, e, r);
                return a.enableTexture(s), a.unbind(), a
            }, e.exports = i
        }, {
            "./GLTexture": 12
        }],
        11: [function (t, e, r) {
            var n = t("./shader/compileProgram"),
                i = t("./shader/extractAttributes"),
                o = t("./shader/extractUniforms"),
                s = t("./shader/setPrecision"),
                a = t("./shader/generateUniformAccessObject"),
                u = function (t, e, r, u, h) {
                    this.gl = t, u && (e = s(e, u), r = s(r, u)), this.program = n(t, e, r, h), this.attributes = i(t, this.program), this.uniformData = o(t, this.program), this.uniforms = a(t, this.uniformData)
                };
            u.prototype.bind = function () {
                return this.gl.useProgram(this.program), this
            }, u.prototype.destroy = function () {
                this.attributes = null, this.uniformData = null, this.uniforms = null, this.gl.deleteProgram(this.program)
            }, e.exports = u
        }, {
            "./shader/compileProgram": 17,
            "./shader/extractAttributes": 19,
            "./shader/extractUniforms": 20,
            "./shader/generateUniformAccessObject": 21,
            "./shader/setPrecision": 25
        }],
        12: [function (t, e, r) {
            var n = function (t, e, r, n, i) {
                this.gl = t, this.texture = t.createTexture(), this.mipmap = !1, this.premultiplyAlpha = !1, this.width = e || -1, this.height = r || -1, this.format = n || t.RGBA, this.type = i || t.UNSIGNED_BYTE
            };
            n.prototype.upload = function (t) {
                this.bind();
                var e = this.gl;
                e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);
                var r = t.videoWidth || t.width,
                    n = t.videoHeight || t.height;
                n !== this.height || r !== this.width ? e.texImage2D(e.TEXTURE_2D, 0, this.format, this.format, this.type, t) : e.texSubImage2D(e.TEXTURE_2D, 0, 0, 0, this.format, this.type, t), this.width = r, this.height = n
            };
            var i = !1;
            n.prototype.uploadData = function (t, e, r) {
                this.bind();
                var n = this.gl;
                if (t instanceof Float32Array) {
                    if (!i) {
                        if (!n.getExtension("OES_texture_float")) throw new Error("floating point textures not available");
                        i = !0
                    }
                    this.type = n.FLOAT
                } else this.type = this.type || n.UNSIGNED_BYTE;
                n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha), e !== this.width || r !== this.height ? n.texImage2D(n.TEXTURE_2D, 0, this.format, e, r, 0, this.format, this.type, t || null) : n.texSubImage2D(n.TEXTURE_2D, 0, 0, 0, e, r, this.format, this.type, t || null), this.width = e, this.height = r
            }, n.prototype.bind = function (t) {
                var e = this.gl;
                void 0 !== t && e.activeTexture(e.TEXTURE0 + t), e.bindTexture(e.TEXTURE_2D, this.texture)
            }, n.prototype.unbind = function () {
                var t = this.gl;
                t.bindTexture(t.TEXTURE_2D, null)
            }, n.prototype.minFilter = function (t) {
                var e = this.gl;
                this.bind(), this.mipmap ? e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, t ? e.LINEAR_MIPMAP_LINEAR : e.NEAREST_MIPMAP_NEAREST) : e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, t ? e.LINEAR : e.NEAREST)
            }, n.prototype.magFilter = function (t) {
                var e = this.gl;
                this.bind(), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, t ? e.LINEAR : e.NEAREST)
            }, n.prototype.enableMipmap = function () {
                var t = this.gl;
                this.bind(), this.mipmap = !0, t.generateMipmap(t.TEXTURE_2D)
            }, n.prototype.enableLinearScaling = function () {
                this.minFilter(!0), this.magFilter(!0)
            }, n.prototype.enableNearestScaling = function () {
                this.minFilter(!1), this.magFilter(!1)
            }, n.prototype.enableWrapClamp = function () {
                var t = this.gl;
                this.bind(), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE)
            }, n.prototype.enableWrapRepeat = function () {
                var t = this.gl;
                this.bind(), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.REPEAT), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.REPEAT)
            }, n.prototype.enableWrapMirrorRepeat = function () {
                var t = this.gl;
                this.bind(), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.MIRRORED_REPEAT), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.MIRRORED_REPEAT)
            }, n.prototype.destroy = function () {
                this.gl.deleteTexture(this.texture)
            }, n.fromSource = function (t, e, r) {
                var i = new n(t);
                return i.premultiplyAlpha = r || !1, i.upload(e), i
            }, n.fromData = function (t, e, r, i) {
                var o = new n(t);
                return o.uploadData(e, r, i), o
            }, e.exports = n
        }, {}],
        13: [function (t, e, r) {
            function n(t, e) {
                if (this.nativeVaoExtension = null, n.FORCE_NATIVE || (this.nativeVaoExtension = t.getExtension("OES_vertex_array_object") || t.getExtension("MOZ_OES_vertex_array_object") || t.getExtension("WEBKIT_OES_vertex_array_object")), this.nativeState = e, this.nativeVaoExtension) {
                    this.nativeVao = this.nativeVaoExtension.createVertexArrayOES();
                    var r = t.getParameter(t.MAX_VERTEX_ATTRIBS);
                    this.nativeState = {
                        tempAttribState: new Array(r),
                        attribState: new Array(r)
                    }
                }
                this.gl = t, this.attributes = [], this.indexBuffer = null, this.dirty = !1
            }
            var i = t("./setVertexAttribArrays");
            n.prototype.constructor = n, e.exports = n, n.FORCE_NATIVE = !1, n.prototype.bind = function () {
                if (this.nativeVao) {
                    if (this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao), this.dirty) return this.dirty = !1, this.activate(), this;
                    this.indexBuffer && this.indexBuffer.bind()
                } else this.activate();
                return this
            }, n.prototype.unbind = function () {
                return this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(null), this
            }, n.prototype.activate = function () {
                for (var t = this.gl, e = null, r = 0; r < this.attributes.length; r++) {
                    var n = this.attributes[r];
                    e !== n.buffer && (n.buffer.bind(), e = n.buffer), t.vertexAttribPointer(n.attribute.location, n.attribute.size, n.type || t.FLOAT, n.normalized || !1, n.stride || 0, n.start || 0)
                }
                return i(t, this.attributes, this.nativeState), this.indexBuffer && this.indexBuffer.bind(), this
            }, n.prototype.addAttribute = function (t, e, r, n, i, o) {
                return this.attributes.push({
                    buffer: t,
                    attribute: e,
                    location: e.location,
                    type: r || this.gl.FLOAT,
                    normalized: n || !1,
                    stride: i || 0,
                    start: o || 0
                }), this.dirty = !0, this
            }, n.prototype.addIndex = function (t) {
                return this.indexBuffer = t, this.dirty = !0, this
            }, n.prototype.clear = function () {
                return this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao), this.attributes.length = 0, this.indexBuffer = null, this
            }, n.prototype.draw = function (t, e, r) {
                var n = this.gl;
                return this.indexBuffer ? n.drawElements(t, e || this.indexBuffer.data.length, n.UNSIGNED_SHORT, 2 * (r || 0)) : n.drawArrays(t, r, e || this.getSize()), this
            }, n.prototype.destroy = function () {
                this.gl = null, this.indexBuffer = null, this.attributes = null, this.nativeState = null, this.nativeVao && this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao), this.nativeVaoExtension = null, this.nativeVao = null
            }, n.prototype.getSize = function () {
                var t = this.attributes[0];
                return t.buffer.data.length / (t.stride / 4 || t.attribute.size)
            }
        }, {
            "./setVertexAttribArrays": 16
        }],
        14: [function (t, e, r) {
            var n = function (t, e) {
                var r = t.getContext("webgl", e) || t.getContext("experimental-webgl", e);
                if (!r) throw new Error("This browser does not support webGL. Try using the canvas renderer");
                return r
            };
            e.exports = n
        }, {}],
        15: [function (t, e, r) {
            var n = {
                createContext: t("./createContext"),
                setVertexAttribArrays: t("./setVertexAttribArrays"),
                GLBuffer: t("./GLBuffer"),
                GLFramebuffer: t("./GLFramebuffer"),
                GLShader: t("./GLShader"),
                GLTexture: t("./GLTexture"),
                VertexArrayObject: t("./VertexArrayObject"),
                shader: t("./shader")
            };
            void 0 !== e && e.exports && (e.exports = n), "undefined" != typeof window && (window.PIXI = window.PIXI || {}, window.PIXI.glCore = n)
        }, {
            "./GLBuffer": 9,
            "./GLFramebuffer": 10,
            "./GLShader": 11,
            "./GLTexture": 12,
            "./VertexArrayObject": 13,
            "./createContext": 14,
            "./setVertexAttribArrays": 16,
            "./shader": 22
        }],
        16: [function (t, e, r) {
            var n = function (t, e, r) {
                var n;
                if (r) {
                    var i = r.tempAttribState,
                        o = r.attribState;
                    for (n = 0; n < i.length; n++) i[n] = !1;
                    for (n = 0; n < e.length; n++) i[e[n].attribute.location] = !0;
                    for (n = 0; n < o.length; n++) o[n] !== i[n] && (o[n] = i[n], r.attribState[n] ? t.enableVertexAttribArray(n) : t.disableVertexAttribArray(n))
                } else
                    for (n = 0; n < e.length; n++) {
                        var s = e[n];
                        t.enableVertexAttribArray(s.attribute.location)
                    }
            };
            e.exports = n
        }, {}],
        17: [function (t, e, r) {
            var n = function (t, e, r, n) {
                    var o = i(t, t.VERTEX_SHADER, e),
                        s = i(t, t.FRAGMENT_SHADER, r),
                        a = t.createProgram();
                    if (t.attachShader(a, o), t.attachShader(a, s), n)
                        for (var u in n) t.bindAttribLocation(a, n[u], u);
                    return t.linkProgram(a), t.getProgramParameter(a, t.LINK_STATUS) || (console.error("Pixi.js Error: Could not initialize shader."), console.error("gl.VALIDATE_STATUS", t.getProgramParameter(a, t.VALIDATE_STATUS)), console.error("gl.getError()", t.getError()), "" !== t.getProgramInfoLog(a) && console.warn("Pixi.js Warning: gl.getProgramInfoLog()", t.getProgramInfoLog(a)), t.deleteProgram(a), a = null), t.deleteShader(o), t.deleteShader(s), a
                },
                i = function (t, e, r) {
                    var n = t.createShader(e);
                    return t.shaderSource(n, r), t.compileShader(n), t.getShaderParameter(n, t.COMPILE_STATUS) ? n : (console.log(t.getShaderInfoLog(n)), null)
                };
            e.exports = n
        }, {}],
        18: [function (t, e, r) {
            var n = function (t, e) {
                    switch (t) {
                    case "float":
                        return 0;
                    case "vec2":
                        return new Float32Array(2 * e);
                    case "vec3":
                        return new Float32Array(3 * e);
                    case "vec4":
                        return new Float32Array(4 * e);
                    case "int":
                    case "sampler2D":
                        return 0;
                    case "ivec2":
                        return new Int32Array(2 * e);
                    case "ivec3":
                        return new Int32Array(3 * e);
                    case "ivec4":
                        return new Int32Array(4 * e);
                    case "bool":
                        return !1;
                    case "bvec2":
                        return i(2 * e);
                    case "bvec3":
                        return i(3 * e);
                    case "bvec4":
                        return i(4 * e);
                    case "mat2":
                        return new Float32Array([1, 0, 0, 1]);
                    case "mat3":
                        return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
                    case "mat4":
                        return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
                    }
                },
                i = function (t) {
                    for (var e = new Array(t), r = 0; r < e.length; r++) e[r] = !1;
                    return e
                };
            e.exports = n
        }, {}],
        19: [function (t, e, r) {
            var n = t("./mapType"),
                i = t("./mapSize"),
                o = function (t, e) {
                    for (var r = {}, o = t.getProgramParameter(e, t.ACTIVE_ATTRIBUTES), a = 0; a < o; a++) {
                        var u = t.getActiveAttrib(e, a),
                            h = n(t, u.type);
                        r[u.name] = {
                            type: h,
                            size: i(h),
                            location: t.getAttribLocation(e, u.name),
                            pointer: s
                        }
                    }
                    return r
                },
                s = function (t, e, r, n) {
                    gl.vertexAttribPointer(this.location, this.size, t || gl.FLOAT, e || !1, r || 0, n || 0)
                };
            e.exports = o
        }, {
            "./mapSize": 23,
            "./mapType": 24
        }],
        20: [function (t, e, r) {
            var n = t("./mapType"),
                i = t("./defaultValue"),
                o = function (t, e) {
                    for (var r = {}, o = t.getProgramParameter(e, t.ACTIVE_UNIFORMS), s = 0; s < o; s++) {
                        var a = t.getActiveUniform(e, s),
                            u = a.name.replace(/\[.*?\]/, ""),
                            h = n(t, a.type);
                        r[u] = {
                            type: h,
                            size: a.size,
                            location: t.getUniformLocation(e, u),
                            value: i(h, a.size)
                        }
                    }
                    return r
                };
            e.exports = o
        }, {
            "./defaultValue": 18,
            "./mapType": 24
        }],
        21: [function (t, e, r) {
            function n(t, e) {
                return function (r) {
                    this.data[t].value = r;
                    var n = this.data[t].location;
                    1 === e.size ? a[e.type](this.gl, n, r) : u[e.type](this.gl, n, r)
                }
            }
            function i(t, e) {
                for (var r = e, n = 0; n < t.length - 1; n++) {
                    var i = r[t[n]] || {
                        data: {}
                    };
                    r[t[n]] = i, r = i
                }
                return r
            }
            var o = function (t, e) {
                    var r = {
                        data: {}
                    };
                    r.gl = t;
                    for (var o = Object.keys(e), a = 0; a < o.length; a++) {
                        var u = o[a],
                            h = u.split("."),
                            l = h[h.length - 1],
                            c = i(h, r),
                            d = e[u];
                        c.data[l] = d, c.gl = t, Object.defineProperty(c, l, {
                            get: s(l),
                            set: n(l, d)
                        })
                    }
                    return r
                },
                s = function (t) {
                    return function () {
                        return this.data[t].value
                    }
                },
                a = {
                    float: function (t, e, r) {
                        t.uniform1f(e, r)
                    },
                    vec2: function (t, e, r) {
                        t.uniform2f(e, r[0], r[1])
                    },
                    vec3: function (t, e, r) {
                        t.uniform3f(e, r[0], r[1], r[2])
                    },
                    vec4: function (t, e, r) {
                        t.uniform4f(e, r[0], r[1], r[2], r[3])
                    },
                    int: function (t, e, r) {
                        t.uniform1i(e, r)
                    },
                    ivec2: function (t, e, r) {
                        t.uniform2i(e, r[0], r[1])
                    },
                    ivec3: function (t, e, r) {
                        t.uniform3i(e, r[0], r[1], r[2])
                    },
                    ivec4: function (t, e, r) {
                        t.uniform4i(e, r[0], r[1], r[2], r[3])
                    },
                    bool: function (t, e, r) {
                        t.uniform1i(e, r)
                    },
                    bvec2: function (t, e, r) {
                        t.uniform2i(e, r[0], r[1])
                    },
                    bvec3: function (t, e, r) {
                        t.uniform3i(e, r[0], r[1], r[2])
                    },
                    bvec4: function (t, e, r) {
                        t.uniform4i(e, r[0], r[1], r[2], r[3])
                    },
                    mat2: function (t, e, r) {
                        t.uniformMatrix2fv(e, !1, r)
                    },
                    mat3: function (t, e, r) {
                        t.uniformMatrix3fv(e, !1, r)
                    },
                    mat4: function (t, e, r) {
                        t.uniformMatrix4fv(e, !1, r)
                    },
                    sampler2D: function (t, e, r) {
                        t.uniform1i(e, r)
                    }
                },
                u = {
                    float: function (t, e, r) {
                        t.uniform1fv(e, r)
                    },
                    vec2: function (t, e, r) {
                        t.uniform2fv(e, r)
                    },
                    vec3: function (t, e, r) {
                        t.uniform3fv(e, r)
                    },
                    vec4: function (t, e, r) {
                        t.uniform4fv(e, r)
                    },
                    int: function (t, e, r) {
                        t.uniform1iv(e, r)
                    },
                    ivec2: function (t, e, r) {
                        t.uniform2iv(e, r)
                    },
                    ivec3: function (t, e, r) {
                        t.uniform3iv(e, r)
                    },
                    ivec4: function (t, e, r) {
                        t.uniform4iv(e, r)
                    },
                    bool: function (t, e, r) {
                        t.uniform1iv(e, r)
                    },
                    bvec2: function (t, e, r) {
                        t.uniform2iv(e, r)
                    },
                    bvec3: function (t, e, r) {
                        t.uniform3iv(e, r)
                    },
                    bvec4: function (t, e, r) {
                        t.uniform4iv(e, r)
                    },
                    sampler2D: function (t, e, r) {
                        t.uniform1iv(e, r)
                    }
                };
            e.exports = o
        }, {}],
        22: [function (t, e, r) {
            e.exports = {
                compileProgram: t("./compileProgram"),
                defaultValue: t("./defaultValue"),
                extractAttributes: t("./extractAttributes"),
                extractUniforms: t("./extractUniforms"),
                generateUniformAccessObject: t("./generateUniformAccessObject"),
                setPrecision: t("./setPrecision"),
                mapSize: t("./mapSize"),
                mapType: t("./mapType")
            }
        }, {
            "./compileProgram": 17,
            "./defaultValue": 18,
            "./extractAttributes": 19,
            "./extractUniforms": 20,
            "./generateUniformAccessObject": 21,
            "./mapSize": 23,
            "./mapType": 24,
            "./setPrecision": 25
        }],
        23: [function (t, e, r) {
            var n = function (t) {
                    return i[t]
                },
                i = {
                    float: 1,
                    vec2: 2,
                    vec3: 3,
                    vec4: 4,
                    int: 1,
                    ivec2: 2,
                    ivec3: 3,
                    ivec4: 4,
                    bool: 1,
                    bvec2: 2,
                    bvec3: 3,
                    bvec4: 4,
                    mat2: 4,
                    mat3: 9,
                    mat4: 16,
                    sampler2D: 1
                };
            e.exports = n
        }, {}],
        24: [function (t, e, r) {
            var n = function (t, e) {
                    if (!i) {
                        var r = Object.keys(o);
                        i = {};
                        for (var n = 0; n < r.length; ++n) {
                            var s = r[n];
                            i[t[s]] = o[s]
                        }
                    }
                    return i[e]
                },
                i = null,
                o = {
                    FLOAT: "float",
                    FLOAT_VEC2: "vec2",
                    FLOAT_VEC3: "vec3",
                    FLOAT_VEC4: "vec4",
                    INT: "int",
                    INT_VEC2: "ivec2",
                    INT_VEC3: "ivec3",
                    INT_VEC4: "ivec4",
                    BOOL: "bool",
                    BOOL_VEC2: "bvec2",
                    BOOL_VEC3: "bvec3",
                    BOOL_VEC4: "bvec4",
                    FLOAT_MAT2: "mat2",
                    FLOAT_MAT3: "mat3",
                    FLOAT_MAT4: "mat4",
                    SAMPLER_2D: "sampler2D"
                };
            e.exports = n
        }, {}],
        25: [function (t, e, r) {
            var n = function (t, e) {
                return "precision" !== t.substring(0, 9) ? "precision " + e + " float;\n" + t : t
            };
            e.exports = n
        }, {}],
        26: [function (t, e, r) {
            function n() {
                throw new Error("setTimeout has not been defined")
            }
            function i() {
                throw new Error("clearTimeout has not been defined")
            }
            function o(t) {
                if (c === setTimeout) return setTimeout(t, 0);
                if ((c === n || !c) && setTimeout) return c = setTimeout, setTimeout(t, 0);
                try {
                    return c(t, 0)
                } catch (e) {
                    try {
                        return c.call(null, t, 0)
                    } catch (e) {
                        return c.call(this, t, 0)
                    }
                }
            }
            function s(t) {
                if (d === clearTimeout) return clearTimeout(t);
                if ((d === i || !d) && clearTimeout) return d = clearTimeout, clearTimeout(t);
                try {
                    return d(t)
                } catch (e) {
                    try {
                        return d.call(null, t)
                    } catch (e) {
                        return d.call(this, t)
                    }
                }
            }
            function a() {
                g && p && (g = !1, p.length ? v = p.concat(v) : y = -1, v.length && u())
            }
            function u() {
                if (!g) {
                    var t = o(a);
                    g = !0;
                    for (var e = v.length; e;) {
                        for (p = v, v = []; ++y < e;) p && p[y].run();
                        y = -1, e = v.length
                    }
                    p = null, g = !1, s(t)
                }
            }
            function h(t, e) {
                this.fun = t, this.array = e
            }
            function l() {}
            var c, d, f = e.exports = {};
            ! function () {
                try {
                    c = "function" == typeof setTimeout ? setTimeout : n
                } catch (t) {
                    c = n
                }
                try {
                    d = "function" == typeof clearTimeout ? clearTimeout : i
                } catch (t) {
                    d = i
                }
            }();
            var p, v = [],
                g = !1,
                y = -1;
            f.nextTick = function (t) {
                var e = new Array(arguments.length - 1);
                if (arguments.length > 1)
                    for (var r = 1; r < arguments.length; r++) e[r - 1] = arguments[r];
                v.push(new h(t, e)), 1 !== v.length || g || o(u)
            }, h.prototype.run = function () {
                this.fun.apply(null, this.array)
            }, f.title = "browser", f.browser = !0, f.env = {}, f.argv = [], f.version = "", f.versions = {}, f.on = l, f.addListener = l, f.once = l, f.off = l, f.removeListener = l, f.removeAllListeners = l, f.emit = l, f.prependListener = l, f.prependOnceListener = l, f.listeners = function (t) {
                return []
            }, f.binding = function (t) {
                throw new Error("process.binding is not supported")
            }, f.cwd = function () {
                return "/"
            }, f.chdir = function (t) {
                throw new Error("process.chdir is not supported")
            }, f.umask = function () {
                return 0
            }
        }, {}],
        27: [function (e, r, n) {
            (function (e) {
                ! function (i) {
                    function o(t) {
                        throw new RangeError(L[t])
                    }
                    function s(t, e) {
                        for (var r = t.length, n = []; r--;) n[r] = e(t[r]);
                        return n
                    }
                    function a(t, e) {
                        var r = t.split("@"),
                            n = "";
                        return r.length > 1 && (n = r[0] + "@", t = r[1]), t = t.replace(D, "."), n + s(t.split("."), e).join(".")
                    }
                    function u(t) {
                        for (var e, r, n = [], i = 0, o = t.length; i < o;) e = t.charCodeAt(i++), e >= 55296 && e <= 56319 && i < o ? (r = t.charCodeAt(i++), 56320 == (64512 & r) ? n.push(((1023 & e) << 10) + (1023 & r) + 65536) : (n.push(e), i--)) : n.push(e);
                        return n
                    }
                    function h(t) {
                        return s(t, function (t) {
                            var e = "";
                            return t > 65535 && (t -= 65536, e += k(t >>> 10 & 1023 | 55296), t = 56320 | 1023 & t), e += k(t)
                        }).join("")
                    }
                    function l(t) {
                        return t - 48 < 10 ? t - 22 : t - 65 < 26 ? t - 65 : t - 97 < 26 ? t - 97 : w
                    }
                    function c(t, e) {
                        return t + 22 + 75 * (t < 26) - ((0 != e) << 5)
                    }
                    function d(t, e, r) {
                        var n = 0;
                        for (t = r ? B(t / M) : t >> 1, t += B(t / e); t > N * S >> 1; n += w) t = B(t / N);
                        return B(n + (N + 1) * t / (t + O))
                    }
                    function f(t) {
                        var e, r, n, i, s, a, u, c, f, p, v = [],
                            g = t.length,
                            y = 0,
                            m = C,
                            _ = P;
                        for (r = t.lastIndexOf(R), r < 0 && (r = 0), n = 0; n < r; ++n) t.charCodeAt(n) >= 128 && o("not-basic"), v.push(t.charCodeAt(n));
                        for (i = r > 0 ? r + 1 : 0; i < g;) {
                            for (s = y, a = 1, u = w; i >= g && o("invalid-input"), c = l(t.charCodeAt(i++)), (c >= w || c > B((T - y) / a)) && o("overflow"), y += c * a, f = u <= _ ? E : u >= _ + S ? S : u - _, !(c < f); u += w) p = w - f, a > B(T / p) && o("overflow"), a *= p;
                            e = v.length + 1, _ = d(y - s, e, 0 == s), B(y / e) > T - m && o("overflow"), m += B(y / e), y %= e, v.splice(y++, 0, m)
                        }
                        return h(v)
                    }
                    function p(t) {
                        var e, r, n, i, s, a, h, l, f, p, v, g, y, m, _, b = [];
                        for (t = u(t), g = t.length, e = C, r = 0, s = P, a = 0; a < g; ++a)(v = t[a]) < 128 && b.push(k(v));
                        for (n = i = b.length, i && b.push(R); n < g;) {
                            for (h = T, a = 0; a < g; ++a)(v = t[a]) >= e && v < h && (h = v);
                            for (y = n + 1, h - e > B((T - r) / y) && o("overflow"), r += (h - e) * y, e = h, a = 0; a < g; ++a)
                                if (v = t[a], v < e && ++r > T && o("overflow"), v == e) {
                                    for (l = r, f = w; p = f <= s ? E : f >= s + S ? S : f - s, !(l < p); f += w) _ = l - p, m = w - p, b.push(k(c(p + _ % m, 0))), l = B(_ / m);
                                    b.push(k(c(l, 0))), s = d(r, y, n == i), r = 0, ++n
                                }++ r, ++e
                        }
                        return b.join("")
                    }
                    function v(t) {
                        return a(t, function (t) {
                            return A.test(t) ? f(t.slice(4).toLowerCase()) : t
                        })
                    }
                    function g(t) {
                        return a(t, function (t) {
                            return I.test(t) ? "xn--" + p(t) : t
                        })
                    }
                    var y = "object" == typeof n && n && !n.nodeType && n,
                        m = "object" == typeof r && r && !r.nodeType && r,
                        _ = "object" == typeof e && e;
                    _.global !== _ && _.window !== _ && _.self !== _ || (i = _);
                    var b, x, T = 2147483647,
                        w = 36,
                        E = 1,
                        S = 26,
                        O = 38,
                        M = 700,
                        P = 72,
                        C = 128,
                        R = "-",
                        A = /^xn--/,
                        I = /[^\x20-\x7E]/,
                        D = /[\x2E\u3002\uFF0E\uFF61]/g,
                        L = {
                            overflow: "Overflow: input needs wider integers to process",
                            "not-basic": "Illegal input >= 0x80 (not a basic code point)",
                            "invalid-input": "Invalid input"
                        },
                        N = w - E,
                        B = Math.floor,
                        k = String.fromCharCode;
                    if (b = {
                            version: "1.4.1",
                            ucs2: {
                                decode: u,
                                encode: h
                            },
                            decode: f,
                            encode: p,
                            toASCII: g,
                            toUnicode: v
                        }, "function" == typeof t && "object" == typeof t.amd && t.amd) t("punycode", function () {
                        return b
                    });
                    else if (y && m)
                        if (r.exports == y) m.exports = b;
                        else
                            for (x in b) b.hasOwnProperty(x) && (y[x] = b[x]);
                    else i.punycode = b
                }(this)
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {}],
        28: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                return Object.prototype.hasOwnProperty.call(t, e)
            }
            e.exports = function (t, e, r, o) {
                e = e || "&", r = r || "=";
                var s = {};
                if ("string" != typeof t || 0 === t.length) return s;
                var a = /\+/g;
                t = t.split(e);
                var u = 1e3;
                o && "number" == typeof o.maxKeys && (u = o.maxKeys);
                var h = t.length;
                u > 0 && h > u && (h = u);
                for (var l = 0; l < h; ++l) {
                    var c, d, f, p, v = t[l].replace(a, "%20"),
                        g = v.indexOf(r);
                    g >= 0 ? (c = v.substr(0, g), d = v.substr(g + 1)) : (c = v, d = ""), f = decodeURIComponent(c), p = decodeURIComponent(d), n(s, f) ? i(s[f]) ? s[f].push(p) : s[f] = [s[f], p] : s[f] = p
                }
                return s
            };
            var i = Array.isArray || function (t) {
                return "[object Array]" === Object.prototype.toString.call(t)
            }
        }, {}],
        29: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (t.map) return t.map(e);
                for (var r = [], n = 0; n < t.length; n++) r.push(e(t[n], n));
                return r
            }
            var i = function (t) {
                switch (typeof t) {
                case "string":
                    return t;
                case "boolean":
                    return t ? "true" : "false";
                case "number":
                    return isFinite(t) ? t : "";
                default:
                    return ""
                }
            };
            e.exports = function (t, e, r, a) {
                return e = e || "&", r = r || "=", null === t && (t = void 0), "object" == typeof t ? n(s(t), function (s) {
                    var a = encodeURIComponent(i(s)) + r;
                    return o(t[s]) ? n(t[s], function (t) {
                        return a + encodeURIComponent(i(t))
                    }).join(e) : a + encodeURIComponent(i(t[s]))
                }).join(e) : a ? encodeURIComponent(i(a)) + r + encodeURIComponent(i(t)) : ""
            };
            var o = Array.isArray || function (t) {
                    return "[object Array]" === Object.prototype.toString.call(t)
                },
                s = Object.keys || function (t) {
                    var e = [];
                    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.push(r);
                    return e
                }
        }, {}],
        30: [function (t, e, r) {
            "use strict";
            r.decode = r.parse = t("./decode"), r.encode = r.stringify = t("./encode")
        }, {
            "./decode": 28,
            "./encode": 29
        }],
        31: [function (t, e, r) {
            "use strict";
            e.exports = function (t, e, r) {
                var n, i = t.length;
                if (!(e >= i || 0 === r)) {
                    r = e + r > i ? i - e : r;
                    var o = i - r;
                    for (n = e; n < o; ++n) t[n] = t[n + r];
                    t.length = o
                }
            }
        }, {}],
        32: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0, r.Loader = void 0;
            var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                    return typeof t
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                },
                s = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                a = t("mini-signals"),
                u = n(a),
                h = t("parse-uri"),
                l = n(h),
                c = t("./async"),
                d = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(c),
                f = t("./Resource"),
                p = /(#[\w-]+)?$/,
                v = r.Loader = function () {
                    function t() {
                        var e = this,
                            r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10;
                        i(this, t), this.baseUrl = r, this.progress = 0, this.loading = !1, this.defaultQueryString = "", this._beforeMiddleware = [], this._afterMiddleware = [], this._resourcesParsing = [], this._boundLoadResource = function (t, r) {
                            return e._loadResource(t, r)
                        }, this._queue = d.queue(this._boundLoadResource, n), this._queue.pause(), this.resources = {}, this.onProgress = new u.default, this.onError = new u.default, this.onLoad = new u.default, this.onStart = new u.default, this.onComplete = new u.default;
                        for (var o = 0; o < t._defaultBeforeMiddleware.length; ++o) this.pre(t._defaultBeforeMiddleware[o]);
                        for (var s = 0; s < t._defaultAfterMiddleware.length; ++s) this.use(t._defaultAfterMiddleware[s])
                    }
                    return t.prototype.add = function (t, e, r, n) {
                        if (Array.isArray(t)) {
                            for (var i = 0; i < t.length; ++i) this.add(t[i]);
                            return this
                        }
                        if ("object" === (void 0 === t ? "undefined" : o(t)) && (n = e || t.callback || t.onComplete, r = t, e = t.url, t = t.name || t.key || t.url), "string" != typeof e && (n = r, r = e, e = t), "string" != typeof e) throw new Error("No url passed to add resource to loader.");
                        if ("function" == typeof r && (n = r, r = null), this.loading && (!r || !r.parentResource)) throw new Error("Cannot add resources while the loader is running.");
                        if (this.resources[t]) throw new Error('Resource named "' + t + '" already exists.');
                        if (e = this._prepareUrl(e), this.resources[t] = new f.Resource(t, e, r), "function" == typeof n && this.resources[t].onAfterMiddleware.once(n), this.loading) {
                            for (var s = r.parentResource, a = [], u = 0; u < s.children.length; ++u) s.children[u].isComplete || a.push(s.children[u]);
                            var h = s.progressChunk * (a.length + 1),
                                l = h / (a.length + 2);
                            s.children.push(this.resources[t]), s.progressChunk = l;
                            for (var c = 0; c < a.length; ++c) a[c].progressChunk = l;
                            this.resources[t].progressChunk = l
                        }
                        return this._queue.push(this.resources[t]), this
                    }, t.prototype.pre = function (t) {
                        return this._beforeMiddleware.push(t), this
                    }, t.prototype.use = function (t) {
                        return this._afterMiddleware.push(t), this
                    }, t.prototype.reset = function () {
                        this.progress = 0, this.loading = !1, this._queue.kill(), this._queue.pause();
                        for (var t in this.resources) {
                            var e = this.resources[t];
                            e._onLoadBinding && e._onLoadBinding.detach(), e.isLoading && e.abort()
                        }
                        return this.resources = {}, this
                    }, t.prototype.load = function (t) {
                        if ("function" == typeof t && this.onComplete.once(t), this.loading) return this;
                        if (this._queue.idle()) this._onStart(), this._onComplete();
                        else {
                            for (var e = this._queue._tasks.length, r = 100 / e, n = 0; n < this._queue._tasks.length; ++n) this._queue._tasks[n].data.progressChunk = r;
                            this._onStart(), this._queue.resume()
                        }
                        return this
                    }, t.prototype._prepareUrl = function (t) {
                        var e = (0, l.default)(t, {
                                strictMode: !0
                            }),
                            r = void 0;
                        if (r = e.protocol || !e.path || 0 === t.indexOf("//") ? t : this.baseUrl.length && this.baseUrl.lastIndexOf("/") !== this.baseUrl.length - 1 && "/" !== t.charAt(0) ? this.baseUrl + "/" + t : this.baseUrl + t, this.defaultQueryString) {
                            var n = p.exec(r)[0];
                            r = r.substr(0, r.length - n.length), -1 !== r.indexOf("?") ? r += "&" + this.defaultQueryString : r += "?" + this.defaultQueryString, r += n
                        }
                        return r
                    }, t.prototype._loadResource = function (t, e) {
                        var r = this;
                        t._dequeue = e, d.eachSeries(this._beforeMiddleware, function (e, n) {
                            e.call(r, t, function () {
                                n(t.isComplete ? {} : null)
                            })
                        }, function () {
                            t.isComplete ? r._onLoad(t) : (t._onLoadBinding = t.onComplete.once(r._onLoad, r), t.load())
                        }, !0)
                    }, t.prototype._onStart = function () {
                        this.progress = 0, this.loading = !0, this.onStart.dispatch(this)
                    }, t.prototype._onComplete = function () {
                        this.progress = 100, this.loading = !1, this.onComplete.dispatch(this, this.resources)
                    }, t.prototype._onLoad = function (t) {
                        var e = this;
                        t._onLoadBinding = null, this._resourcesParsing.push(t), t._dequeue(), d.eachSeries(this._afterMiddleware, function (r, n) {
                            r.call(e, t, n)
                        }, function () {
                            t.onAfterMiddleware.dispatch(t), e.progress = Math.min(100, e.progress + t.progressChunk), e.onProgress.dispatch(e, t), t.error ? e.onError.dispatch(t.error, e, t) : e.onLoad.dispatch(e, t), e._resourcesParsing.splice(e._resourcesParsing.indexOf(t), 1), e._queue.idle() && 0 === e._resourcesParsing.length && e._onComplete()
                        }, !0)
                    }, s(t, [{
                        key: "concurrency",
                        get: function () {
                            return this._queue.concurrency
                        },
                        set: function (t) {
                            this._queue.concurrency = t
                        }
                    }]), t
                }();
            v._defaultBeforeMiddleware = [], v._defaultAfterMiddleware = [], v.pre = function (t) {
                return v._defaultBeforeMiddleware.push(t), v
            }, v.use = function (t) {
                return v._defaultAfterMiddleware.push(t), v
            }
        }, {
            "./Resource": 33,
            "./async": 34,
            "mini-signals": 5,
            "parse-uri": 7
        }],
        33: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o() {}
            function s(t, e, r) {
                e && 0 === e.indexOf(".") && (e = e.substring(1)), e && (t[e] = r)
            }
            function a(t) {
                return t.toString().replace("object ", "")
            }
            r.__esModule = !0, r.Resource = void 0;
            var u = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                h = t("parse-uri"),
                l = n(h),
                c = t("mini-signals"),
                d = n(c),
                f = !(!window.XDomainRequest || "withCredentials" in new XMLHttpRequest),
                p = null,
                v = r.Resource = function () {
                    function t(e, r, n) {
                        if (i(this, t), "string" != typeof e || "string" != typeof r) throw new Error("Both name and url are required for constructing a resource.");
                        n = n || {}, this._flags = 0, this._setFlag(t.STATUS_FLAGS.DATA_URL, 0 === r.indexOf("data:")), this.name = e, this.url = r, this.extension = this._getExtension(), this.data = null, this.crossOrigin = !0 === n.crossOrigin ? "anonymous" : n.crossOrigin, this.timeout = n.timeout || 0, this.loadType = n.loadType || this._determineLoadType(), this.xhrType = n.xhrType, this.metadata = n.metadata || {}, this.error = null, this.xhr = null, this.children = [], this.type = t.TYPE.UNKNOWN, this.progressChunk = 0, this._dequeue = o, this._onLoadBinding = null, this._elementTimer = 0, this._boundComplete = this.complete.bind(this), this._boundOnError = this._onError.bind(this), this._boundOnProgress = this._onProgress.bind(this), this._boundOnTimeout = this._onTimeout.bind(this), this._boundXhrOnError = this._xhrOnError.bind(this), this._boundXhrOnTimeout = this._xhrOnTimeout.bind(this), this._boundXhrOnAbort = this._xhrOnAbort.bind(this), this._boundXhrOnLoad = this._xhrOnLoad.bind(this), this.onStart = new d.default, this.onProgress = new d.default, this.onComplete = new d.default, this.onAfterMiddleware = new d.default
                    }
                    return t.setExtensionLoadType = function (e, r) {
                        s(t._loadTypeMap, e, r)
                    }, t.setExtensionXhrType = function (e, r) {
                        s(t._xhrTypeMap, e, r)
                    }, t.prototype.complete = function () {
                        this._clearEvents(), this._finish()
                    }, t.prototype.abort = function (e) {
                        if (!this.error) {
                            if (this.error = new Error(e), this._clearEvents(), this.xhr) this.xhr.abort();
                            else if (this.xdr) this.xdr.abort();
                            else if (this.data)
                                if (this.data.src) this.data.src = t.EMPTY_GIF;
                                else
                                    for (; this.data.firstChild;) this.data.removeChild(this.data.firstChild);
                            this._finish()
                        }
                    }, t.prototype.load = function (e) {
                        var r = this;
                        if (!this.isLoading) {
                            if (this.isComplete) return void(e && setTimeout(function () {
                                return e(r)
                            }, 1));
                            switch (e && this.onComplete.once(e), this._setFlag(t.STATUS_FLAGS.LOADING, !0), this.onStart.dispatch(this), !1 !== this.crossOrigin && "string" == typeof this.crossOrigin || (this.crossOrigin = this._determineCrossOrigin(this.url)), this.loadType) {
                            case t.LOAD_TYPE.IMAGE:
                                this.type = t.TYPE.IMAGE, this._loadElement("image");
                                break;
                            case t.LOAD_TYPE.AUDIO:
                                this.type = t.TYPE.AUDIO, this._loadSourceElement("audio");
                                break;
                            case t.LOAD_TYPE.VIDEO:
                                this.type = t.TYPE.VIDEO, this._loadSourceElement("video");
                                break;
                            case t.LOAD_TYPE.XHR:
                            default:
                                f && this.crossOrigin ? this._loadXdr() : this._loadXhr()
                            }
                        }
                    }, t.prototype._hasFlag = function (t) {
                        return 0 != (this._flags & t)
                    }, t.prototype._setFlag = function (t, e) {
                        this._flags = e ? this._flags | t : this._flags & ~t
                    }, t.prototype._clearEvents = function () {
                        clearTimeout(this._elementTimer), this.data && this.data.removeEventListener && (this.data.removeEventListener("error", this._boundOnError, !1), this.data.removeEventListener("load", this._boundComplete, !1), this.data.removeEventListener("progress", this._boundOnProgress, !1), this.data.removeEventListener("canplaythrough", this._boundComplete, !1)), this.xhr && (this.xhr.removeEventListener ? (this.xhr.removeEventListener("error", this._boundXhrOnError, !1), this.xhr.removeEventListener("timeout", this._boundXhrOnTimeout, !1), this.xhr.removeEventListener("abort", this._boundXhrOnAbort, !1), this.xhr.removeEventListener("progress", this._boundOnProgress, !1), this.xhr.removeEventListener("load", this._boundXhrOnLoad, !1)) : (this.xhr.onerror = null, this.xhr.ontimeout = null, this.xhr.onprogress = null, this.xhr.onload = null))
                    }, t.prototype._finish = function () {
                        if (this.isComplete) throw new Error("Complete called again for an already completed resource.");
                        this._setFlag(t.STATUS_FLAGS.COMPLETE, !0), this._setFlag(t.STATUS_FLAGS.LOADING, !1), this.onComplete.dispatch(this)
                    }, t.prototype._loadElement = function (t) {
                        this.metadata.loadElement ? this.data = this.metadata.loadElement : "image" === t && void 0 !== window.Image ? this.data = new Image : this.data = document.createElement(t), this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), this.metadata.skipSource || (this.data.src = this.url), this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1), this.timeout && (this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout))
                    }, t.prototype._loadSourceElement = function (t) {
                        if (this.metadata.loadElement ? this.data = this.metadata.loadElement : "audio" === t && void 0 !== window.Audio ? this.data = new Audio : this.data = document.createElement(t), null === this.data) return void this.abort("Unsupported element: " + t);
                        if (this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), !this.metadata.skipSource)
                            if (navigator.isCocoonJS) this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;
                            else if (Array.isArray(this.url))
                            for (var e = this.metadata.mimeType, r = 0; r < this.url.length; ++r) this.data.appendChild(this._createSource(t, this.url[r], Array.isArray(e) ? e[r] : e));
                        else {
                            var n = this.metadata.mimeType;
                            this.data.appendChild(this._createSource(t, this.url, Array.isArray(n) ? n[0] : n))
                        }
                        this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1), this.data.addEventListener("canplaythrough", this._boundComplete, !1), this.data.load(), this.timeout && (this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout))
                    }, t.prototype._loadXhr = function () {
                        "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
                        var e = this.xhr = new XMLHttpRequest;
                        e.open("GET", this.url, !0), e.timeout = this.timeout, this.xhrType === t.XHR_RESPONSE_TYPE.JSON || this.xhrType === t.XHR_RESPONSE_TYPE.DOCUMENT ? e.responseType = t.XHR_RESPONSE_TYPE.TEXT : e.responseType = this.xhrType, e.addEventListener("error", this._boundXhrOnError, !1), e.addEventListener("timeout", this._boundXhrOnTimeout, !1), e.addEventListener("abort", this._boundXhrOnAbort, !1), e.addEventListener("progress", this._boundOnProgress, !1), e.addEventListener("load", this._boundXhrOnLoad, !1), e.send()
                    }, t.prototype._loadXdr = function () {
                        "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
                        var t = this.xhr = new XDomainRequest;
                        t.timeout = this.timeout || 5e3, t.onerror = this._boundXhrOnError, t.ontimeout = this._boundXhrOnTimeout, t.onprogress = this._boundOnProgress, t.onload = this._boundXhrOnLoad, t.open("GET", this.url, !0), setTimeout(function () {
                            return t.send()
                        }, 1)
                    }, t.prototype._createSource = function (t, e, r) {
                        r || (r = t + "/" + this._getExtension(e));
                        var n = document.createElement("source");
                        return n.src = e, n.type = r, n
                    }, t.prototype._onError = function (t) {
                        this.abort("Failed to load element using: " + t.target.nodeName)
                    }, t.prototype._onProgress = function (t) {
                        t && t.lengthComputable && this.onProgress.dispatch(this, t.loaded / t.total)
                    }, t.prototype._onTimeout = function () {
                        this.abort("Load timed out.")
                    }, t.prototype._xhrOnError = function () {
                        var t = this.xhr;
                        this.abort(a(t) + " Request failed. Status: " + t.status + ', text: "' + t.statusText + '"')
                    }, t.prototype._xhrOnTimeout = function () {
                        var t = this.xhr;
                        this.abort(a(t) + " Request timed out.")
                    }, t.prototype._xhrOnAbort = function () {
                        var t = this.xhr;
                        this.abort(a(t) + " Request was aborted by the user.")
                    }, t.prototype._xhrOnLoad = function () {
                        var e = this.xhr,
                            r = "",
                            n = void 0 === e.status ? 200 : e.status;
                        if ("" !== e.responseType && "text" !== e.responseType && void 0 !== e.responseType || (r = e.responseText), 0 === n && (r.length > 0 || e.responseType === t.XHR_RESPONSE_TYPE.BUFFER) ? n = 200 : 1223 === n && (n = 204), 2 != (n / 100 | 0)) return void this.abort("[" + e.status + "] " + e.statusText + ": " + e.responseURL);
                        if (this.xhrType === t.XHR_RESPONSE_TYPE.TEXT) this.data = r, this.type = t.TYPE.TEXT;
                        else if (this.xhrType === t.XHR_RESPONSE_TYPE.JSON) try {
                            this.data = JSON.parse(r), this.type = t.TYPE.JSON
                        } catch (t) {
                            return void this.abort("Error trying to parse loaded json: " + t)
                        } else if (this.xhrType === t.XHR_RESPONSE_TYPE.DOCUMENT) try {
                            if (window.DOMParser) {
                                var i = new DOMParser;
                                this.data = i.parseFromString(r, "text/xml")
                            } else {
                                var o = document.createElement("div");
                                o.innerHTML = r, this.data = o
                            }
                            this.type = t.TYPE.XML
                        } catch (t) {
                            return void this.abort("Error trying to parse loaded xml: " + t)
                        } else this.data = e.response || r;
                        this.complete()
                    }, t.prototype._determineCrossOrigin = function (t, e) {
                        if (0 === t.indexOf("data:")) return "";
                        if (window.origin !== window.location.origin) return "anonymous";
                        e = e || window.location, p || (p = document.createElement("a")), p.href = t, t = (0, l.default)(p.href, {
                            strictMode: !0
                        });
                        var r = !t.port && "" === e.port || t.port === e.port,
                            n = t.protocol ? t.protocol + ":" : "";
                        return t.host === e.hostname && r && n === e.protocol ? "" : "anonymous"
                    }, t.prototype._determineXhrType = function () {
                        return t._xhrTypeMap[this.extension] || t.XHR_RESPONSE_TYPE.TEXT
                    }, t.prototype._determineLoadType = function () {
                        return t._loadTypeMap[this.extension] || t.LOAD_TYPE.XHR
                    }, t.prototype._getExtension = function () {
                        var t = this.url,
                            e = "";
                        if (this.isDataUrl) {
                            var r = t.indexOf("/");
                            e = t.substring(r + 1, t.indexOf(";", r))
                        } else {
                            var n = t.indexOf("?"),
                                i = t.indexOf("#"),
                                o = Math.min(n > -1 ? n : t.length, i > -1 ? i : t.length);
                            t = t.substring(0, o), e = t.substring(t.lastIndexOf(".") + 1)
                        }
                        return e.toLowerCase()
                    }, t.prototype._getMimeFromXhrType = function (e) {
                        switch (e) {
                        case t.XHR_RESPONSE_TYPE.BUFFER:
                            return "application/octet-binary";
                        case t.XHR_RESPONSE_TYPE.BLOB:
                            return "application/blob";
                        case t.XHR_RESPONSE_TYPE.DOCUMENT:
                            return "application/xml";
                        case t.XHR_RESPONSE_TYPE.JSON:
                            return "application/json";
                        case t.XHR_RESPONSE_TYPE.DEFAULT:
                        case t.XHR_RESPONSE_TYPE.TEXT:
                        default:
                            return "text/plain"
                        }
                    }, u(t, [{
                        key: "isDataUrl",
                        get: function () {
                            return this._hasFlag(t.STATUS_FLAGS.DATA_URL)
                        }
                    }, {
                        key: "isComplete",
                        get: function () {
                            return this._hasFlag(t.STATUS_FLAGS.COMPLETE)
                        }
                    }, {
                        key: "isLoading",
                        get: function () {
                            return this._hasFlag(t.STATUS_FLAGS.LOADING)
                        }
                    }]), t
                }();
            v.STATUS_FLAGS = {
                NONE: 0,
                DATA_URL: 1,
                COMPLETE: 2,
                LOADING: 4
            }, v.TYPE = {
                UNKNOWN: 0,
                JSON: 1,
                XML: 2,
                IMAGE: 3,
                AUDIO: 4,
                VIDEO: 5,
                TEXT: 6
            }, v.LOAD_TYPE = {
                XHR: 1,
                IMAGE: 2,
                AUDIO: 3,
                VIDEO: 4
            }, v.XHR_RESPONSE_TYPE = {
                DEFAULT: "text",
                BUFFER: "arraybuffer",
                BLOB: "blob",
                DOCUMENT: "document",
                JSON: "json",
                TEXT: "text"
            }, v._loadTypeMap = {
                gif: v.LOAD_TYPE.IMAGE,
                png: v.LOAD_TYPE.IMAGE,
                bmp: v.LOAD_TYPE.IMAGE,
                jpg: v.LOAD_TYPE.IMAGE,
                jpeg: v.LOAD_TYPE.IMAGE,
                tif: v.LOAD_TYPE.IMAGE,
                tiff: v.LOAD_TYPE.IMAGE,
                webp: v.LOAD_TYPE.IMAGE,
                tga: v.LOAD_TYPE.IMAGE,
                svg: v.LOAD_TYPE.IMAGE,
                "svg+xml": v.LOAD_TYPE.IMAGE,
                mp3: v.LOAD_TYPE.AUDIO,
                ogg: v.LOAD_TYPE.AUDIO,
                wav: v.LOAD_TYPE.AUDIO,
                mp4: v.LOAD_TYPE.VIDEO,
                webm: v.LOAD_TYPE.VIDEO
            }, v._xhrTypeMap = {
                xhtml: v.XHR_RESPONSE_TYPE.DOCUMENT,
                html: v.XHR_RESPONSE_TYPE.DOCUMENT,
                htm: v.XHR_RESPONSE_TYPE.DOCUMENT,
                xml: v.XHR_RESPONSE_TYPE.DOCUMENT,
                tmx: v.XHR_RESPONSE_TYPE.DOCUMENT,
                svg: v.XHR_RESPONSE_TYPE.DOCUMENT,
                tsx: v.XHR_RESPONSE_TYPE.DOCUMENT,
                gif: v.XHR_RESPONSE_TYPE.BLOB,
                png: v.XHR_RESPONSE_TYPE.BLOB,
                bmp: v.XHR_RESPONSE_TYPE.BLOB,
                jpg: v.XHR_RESPONSE_TYPE.BLOB,
                jpeg: v.XHR_RESPONSE_TYPE.BLOB,
                tif: v.XHR_RESPONSE_TYPE.BLOB,
                tiff: v.XHR_RESPONSE_TYPE.BLOB,
                webp: v.XHR_RESPONSE_TYPE.BLOB,
                tga: v.XHR_RESPONSE_TYPE.BLOB,
                json: v.XHR_RESPONSE_TYPE.JSON,
                text: v.XHR_RESPONSE_TYPE.TEXT,
                txt: v.XHR_RESPONSE_TYPE.TEXT,
                ttf: v.XHR_RESPONSE_TYPE.BUFFER,
                otf: v.XHR_RESPONSE_TYPE.BUFFER
            }, v.EMPTY_GIF = "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==", void 0 !== e && (e.exports.default = v)
        }, {
            "mini-signals": 5,
            "parse-uri": 7
        }],
        34: [function (t, e, r) {
            "use strict";
            function n() {}
            function i(t, e, r, n) {
                var i = 0,
                    o = t.length;
                ! function s(a) {
                    if (a || i === o) return void(r && r(a));
                    n ? setTimeout(function () {
                        e(t[i++], s)
                    }, 1) : e(t[i++], s)
                }()
            }
            function o(t) {
                return function () {
                    if (null === t) throw new Error("Callback was already called.");
                    var e = t;
                    t = null, e.apply(this, arguments)
                }
            }
            function s(t, e) {
                function r(t, e, r) {
                    if (null != r && "function" != typeof r) throw new Error("task callback must be a function");
                    if (a.started = !0, null == t && a.idle()) return void setTimeout(function () {
                        return a.drain()
                    }, 1);
                    var i = {
                        data: t,
                        callback: "function" == typeof r ? r : n
                    };
                    e ? a._tasks.unshift(i) : a._tasks.push(i), setTimeout(function () {
                        return a.process()
                    }, 1)
                }
                function i(t) {
                    return function () {
                        s -= 1, t.callback.apply(t, arguments), null != arguments[0] && a.error(arguments[0], t.data), s <= a.concurrency - a.buffer && a.unsaturated(), a.idle() && a.drain(), a.process()
                    }
                }
                if (null == e) e = 1;
                else if (0 === e) throw new Error("Concurrency must not be zero");
                var s = 0,
                    a = {
                        _tasks: [],
                        concurrency: e,
                        saturated: n,
                        unsaturated: n,
                        buffer: e / 4,
                        empty: n,
                        drain: n,
                        error: n,
                        started: !1,
                        paused: !1,
                        push: function (t, e) {
                            r(t, !1, e)
                        },
                        kill: function () {
                            s = 0, a.drain = n, a.started = !1, a._tasks = []
                        },
                        unshift: function (t, e) {
                            r(t, !0, e)
                        },
                        process: function () {
                            for (; !a.paused && s < a.concurrency && a._tasks.length;) {
                                var e = a._tasks.shift();
                                0 === a._tasks.length && a.empty(), s += 1, s === a.concurrency && a.saturated(), t(e.data, o(i(e)))
                            }
                        },
                        length: function () {
                            return a._tasks.length
                        },
                        running: function () {
                            return s
                        },
                        idle: function () {
                            return a._tasks.length + s === 0
                        },
                        pause: function () {
                            !0 !== a.paused && (a.paused = !0)
                        },
                        resume: function () {
                            if (!1 !== a.paused) {
                                a.paused = !1;
                                for (var t = 1; t <= a.concurrency; t++) a.process()
                            }
                        }
                    };
                return a
            }
            r.__esModule = !0, r.eachSeries = i, r.queue = s
        }, {}],
        35: [function (t, e, r) {
            "use strict";
            function n(t) {
                for (var e = "", r = 0; r < t.length;) {
                    for (var n = [0, 0, 0], o = [0, 0, 0, 0], s = 0; s < n.length; ++s) r < t.length ? n[s] = 255 & t.charCodeAt(r++) : n[s] = 0;
                    o[0] = n[0] >> 2, o[1] = (3 & n[0]) << 4 | n[1] >> 4, o[2] = (15 & n[1]) << 2 | n[2] >> 6, o[3] = 63 & n[2];
                    switch (r - (t.length - 1)) {
                    case 2:
                        o[3] = 64, o[2] = 64;
                        break;
                    case 1:
                        o[3] = 64
                    }
                    for (var a = 0; a < o.length; ++a) e += i.charAt(o[a])
                }
                return e
            }
            r.__esModule = !0, r.encodeBinary = n;
            var i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
            void 0 !== e && (e.exports.default = n)
        }, {}],
        36: [function (t, e, r) {
            "use strict";
            var n = t("./Loader").Loader,
                i = t("./Resource").Resource,
                o = t("./async"),
                s = t("./b64");
            n.Resource = i, n.async = o, n.encodeBinary = s, n.base64 = s, e.exports = n, e.exports.Loader = n, e.exports.default = n
        }, {
            "./Loader": 32,
            "./Resource": 33,
            "./async": 34,
            "./b64": 35
        }],
        37: [function (t, e, r) {
            "use strict";
            function n() {
                return function (t, e) {
                    if (!t.data) return void e();
                    if (t.xhr && t.xhrType === i.Resource.XHR_RESPONSE_TYPE.BLOB)
                        if (window.Blob && "string" != typeof t.data) {
                            if (0 === t.data.type.indexOf("image")) {
                                var r = s.createObjectURL(t.data);
                                return t.blob = t.data, t.data = new Image, t.data.src = r, t.type = i.Resource.TYPE.IMAGE, void(t.data.onload = function () {
                                    s.revokeObjectURL(r), t.data.onload = null, e()
                                })
                            }
                        } else {
                            var n = t.xhr.getResponseHeader("content-type");
                            if (n && 0 === n.indexOf("image")) return t.data = new Image, t.data.src = "data:" + n + ";base64," + (0, o.encodeBinary)(t.xhr.responseText), t.type = i.Resource.TYPE.IMAGE, void(t.data.onload = function () {
                                t.data.onload = null, e()
                            })
                        } e()
                }
            }
            r.__esModule = !0, r.blobMiddlewareFactory = n;
            var i = t("../../Resource"),
                o = t("../../b64"),
                s = window.URL || window.webkitURL
        }, {
            "../../Resource": 33,
            "../../b64": 35
        }],
        38: [function (t, e, r) {
            "use strict";
            function n() {
                this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null
            }
            function i(t, e, r) {
                if (t && h.isObject(t) && t instanceof n) return t;
                var i = new n;
                return i.parse(t, e, r), i
            }
            function o(t) {
                return h.isString(t) && (t = i(t)), t instanceof n ? t.format() : n.prototype.format.call(t)
            }
            function s(t, e) {
                return i(t, !1, !0).resolve(e)
            }
            function a(t, e) {
                return t ? i(t, !1, !0).resolveObject(e) : e
            }
            var u = t("punycode"),
                h = t("./util");
            r.parse = i, r.resolve = s, r.resolveObject = a, r.format = o, r.Url = n;
            var l = /^([a-z0-9.+-]+:)/i,
                c = /:[0-9]*$/,
                d = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,
                f = ["<", ">", '"', "`", " ", "\r", "\n", "\t"],
                p = ["{", "}", "|", "\\", "^", "`"].concat(f),
                v = ["'"].concat(p),
                g = ["%", "/", "?", ";", "#"].concat(v),
                y = ["/", "?", "#"],
                m = /^[+a-z0-9A-Z_-]{0,63}$/,
                _ = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
                b = {
                    javascript: !0,
                    "javascript:": !0
                },
                x = {
                    javascript: !0,
                    "javascript:": !0
                },
                T = {
                    http: !0,
                    https: !0,
                    ftp: !0,
                    gopher: !0,
                    file: !0,
                    "http:": !0,
                    "https:": !0,
                    "ftp:": !0,
                    "gopher:": !0,
                    "file:": !0
                },
                w = t("querystring");
            n.prototype.parse = function (t, e, r) {
                if (!h.isString(t)) throw new TypeError("Parameter 'url' must be a string, not " + typeof t);
                var n = t.indexOf("?"),
                    i = -1 !== n && n < t.indexOf("#") ? "?" : "#",
                    o = t.split(i),
                    s = /\\/g;
                o[0] = o[0].replace(s, "/"), t = o.join(i);
                var a = t;
                if (a = a.trim(), !r && 1 === t.split("#").length) {
                    var c = d.exec(a);
                    if (c) return this.path = a, this.href = a, this.pathname = c[1], c[2] ? (this.search = c[2], this.query = e ? w.parse(this.search.substr(1)) : this.search.substr(1)) : e && (this.search = "", this.query = {}), this
                }
                var f = l.exec(a);
                if (f) {
                    f = f[0];
                    var p = f.toLowerCase();
                    this.protocol = p, a = a.substr(f.length)
                }
                if (r || f || a.match(/^\/\/[^@\/]+@[^@\/]+/)) {
                    var E = "//" === a.substr(0, 2);
                    !E || f && x[f] || (a = a.substr(2), this.slashes = !0)
                }
                if (!x[f] && (E || f && !T[f])) {
                    for (var S = -1, O = 0; O < y.length; O++) {
                        var M = a.indexOf(y[O]); - 1 !== M && (-1 === S || M < S) && (S = M)
                    }
                    var P, C;
                    C = -1 === S ? a.lastIndexOf("@") : a.lastIndexOf("@", S), -1 !== C && (P = a.slice(0, C), a = a.slice(C + 1), this.auth = decodeURIComponent(P)), S = -1;
                    for (var O = 0; O < g.length; O++) {
                        var M = a.indexOf(g[O]); - 1 !== M && (-1 === S || M < S) && (S = M)
                    } - 1 === S && (S = a.length), this.host = a.slice(0, S), a = a.slice(S), this.parseHost(), this.hostname = this.hostname || "";
                    var R = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
                    if (!R)
                        for (var A = this.hostname.split(/\./), O = 0, I = A.length; O < I; O++) {
                            var D = A[O];
                            if (D && !D.match(m)) {
                                for (var L = "", N = 0, B = D.length; N < B; N++) D.charCodeAt(N) > 127 ? L += "x" : L += D[N];
                                if (!L.match(m)) {
                                    var k = A.slice(0, O),
                                        F = A.slice(O + 1),
                                        j = D.match(_);
                                    j && (k.push(j[1]), F.unshift(j[2])), F.length && (a = "/" + F.join(".") + a), this.hostname = k.join(".");
                                    break
                                }
                            }
                        }
                    this.hostname.length > 255 ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(), R || (this.hostname = u.toASCII(this.hostname));
                    var U = this.port ? ":" + this.port : "",
                        X = this.hostname || "";
                    this.host = X + U, this.href += this.host, R && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), "/" !== a[0] && (a = "/" + a))
                }
                if (!b[p])
                    for (var O = 0, I = v.length; O < I; O++) {
                        var G = v[O];
                        if (-1 !== a.indexOf(G)) {
                            var W = encodeURIComponent(G);
                            W === G && (W = escape(G)), a = a.split(G).join(W)
                        }
                    }
                var H = a.indexOf("#"); - 1 !== H && (this.hash = a.substr(H), a = a.slice(0, H));
                var Y = a.indexOf("?");
                if (-1 !== Y ? (this.search = a.substr(Y), this.query = a.substr(Y + 1), e && (this.query = w.parse(this.query)), a = a.slice(0, Y)) : e && (this.search = "", this.query = {}), a && (this.pathname = a), T[p] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) {
                    var U = this.pathname || "",
                        V = this.search || "";
                    this.path = U + V
                }
                return this.href = this.format(), this
            }, n.prototype.format = function () {
                var t = this.auth || "";
                t && (t = encodeURIComponent(t), t = t.replace(/%3A/i, ":"), t += "@");
                var e = this.protocol || "",
                    r = this.pathname || "",
                    n = this.hash || "",
                    i = !1,
                    o = "";
                this.host ? i = t + this.host : this.hostname && (i = t + (-1 === this.hostname.indexOf(":") ? this.hostname : "[" + this.hostname + "]"), this.port && (i += ":" + this.port)), this.query && h.isObject(this.query) && Object.keys(this.query).length && (o = w.stringify(this.query));
                var s = this.search || o && "?" + o || "";
                return e && ":" !== e.substr(-1) && (e += ":"), this.slashes || (!e || T[e]) && !1 !== i ? (i = "//" + (i || ""), r && "/" !== r.charAt(0) && (r = "/" + r)) : i || (i = ""), n && "#" !== n.charAt(0) && (n = "#" + n), s && "?" !== s.charAt(0) && (s = "?" + s), r = r.replace(/[?#]/g, function (t) {
                    return encodeURIComponent(t)
                }), s = s.replace("#", "%23"), e + i + r + s + n
            }, n.prototype.resolve = function (t) {
                return this.resolveObject(i(t, !1, !0)).format()
            }, n.prototype.resolveObject = function (t) {
                if (h.isString(t)) {
                    var e = new n;
                    e.parse(t, !1, !0), t = e
                }
                for (var r = new n, i = Object.keys(this), o = 0; o < i.length; o++) {
                    var s = i[o];
                    r[s] = this[s]
                }
                if (r.hash = t.hash, "" === t.href) return r.href = r.format(), r;
                if (t.slashes && !t.protocol) {
                    for (var a = Object.keys(t), u = 0; u < a.length; u++) {
                        var l = a[u];
                        "protocol" !== l && (r[l] = t[l])
                    }
                    return T[r.protocol] && r.hostname && !r.pathname && (r.path = r.pathname = "/"), r.href = r.format(), r
                }
                if (t.protocol && t.protocol !== r.protocol) {
                    if (!T[t.protocol]) {
                        for (var c = Object.keys(t), d = 0; d < c.length; d++) {
                            var f = c[d];
                            r[f] = t[f]
                        }
                        return r.href = r.format(), r
                    }
                    if (r.protocol = t.protocol, t.host || x[t.protocol]) r.pathname = t.pathname;
                    else {
                        for (var p = (t.pathname || "").split("/"); p.length && !(t.host = p.shift()););
                        t.host || (t.host = ""), t.hostname || (t.hostname = ""), "" !== p[0] && p.unshift(""), p.length < 2 && p.unshift(""), r.pathname = p.join("/")
                    }
                    if (r.search = t.search, r.query = t.query, r.host = t.host || "", r.auth = t.auth, r.hostname = t.hostname || t.host, r.port = t.port, r.pathname || r.search) {
                        var v = r.pathname || "",
                            g = r.search || "";
                        r.path = v + g
                    }
                    return r.slashes = r.slashes || t.slashes, r.href = r.format(), r
                }
                var y = r.pathname && "/" === r.pathname.charAt(0),
                    m = t.host || t.pathname && "/" === t.pathname.charAt(0),
                    _ = m || y || r.host && t.pathname,
                    b = _,
                    w = r.pathname && r.pathname.split("/") || [],
                    p = t.pathname && t.pathname.split("/") || [],
                    E = r.protocol && !T[r.protocol];
                if (E && (r.hostname = "", r.port = null, r.host && ("" === w[0] ? w[0] = r.host : w.unshift(r.host)), r.host = "", t.protocol && (t.hostname = null, t.port = null, t.host && ("" === p[0] ? p[0] = t.host : p.unshift(t.host)), t.host = null), _ = _ && ("" === p[0] || "" === w[0])), m) r.host = t.host || "" === t.host ? t.host : r.host, r.hostname = t.hostname || "" === t.hostname ? t.hostname : r.hostname, r.search = t.search, r.query = t.query, w = p;
                else if (p.length) w || (w = []), w.pop(), w = w.concat(p), r.search = t.search, r.query = t.query;
                else if (!h.isNullOrUndefined(t.search)) {
                    if (E) {
                        r.hostname = r.host = w.shift();
                        var S = !!(r.host && r.host.indexOf("@") > 0) && r.host.split("@");
                        S && (r.auth = S.shift(), r.host = r.hostname = S.shift())
                    }
                    return r.search = t.search, r.query = t.query, h.isNull(r.pathname) && h.isNull(r.search) || (r.path = (r.pathname ? r.pathname : "") + (r.search ? r.search : "")), r.href = r.format(), r
                }
                if (!w.length) return r.pathname = null, r.search ? r.path = "/" + r.search : r.path = null, r.href = r.format(), r;
                for (var O = w.slice(-1)[0], M = (r.host || t.host || w.length > 1) && ("." === O || ".." === O) || "" === O, P = 0, C = w.length; C >= 0; C--) O = w[C], "." === O ? w.splice(C, 1) : ".." === O ? (w.splice(C, 1), P++) : P && (w.splice(C, 1), P--);
                if (!_ && !b)
                    for (; P--; P) w.unshift("..");
                !_ || "" === w[0] || w[0] && "/" === w[0].charAt(0) || w.unshift(""), M && "/" !== w.join("/").substr(-1) && w.push("");
                var R = "" === w[0] || w[0] && "/" === w[0].charAt(0);
                if (E) {
                    r.hostname = r.host = R ? "" : w.length ? w.shift() : "";
                    var S = !!(r.host && r.host.indexOf("@") > 0) && r.host.split("@");
                    S && (r.auth = S.shift(), r.host = r.hostname = S.shift())
                }
                return _ = _ || r.host && w.length, _ && !R && w.unshift(""), w.length ? r.pathname = w.join("/") : (r.pathname = null, r.path = null), h.isNull(r.pathname) && h.isNull(r.search) || (r.path = (r.pathname ? r.pathname : "") + (r.search ? r.search : "")), r.auth = t.auth || r.auth, r.slashes = r.slashes || t.slashes, r.href = r.format(), r
            }, n.prototype.parseHost = function () {
                var t = this.host,
                    e = c.exec(t);
                e && (e = e[0], ":" !== e && (this.port = e.substr(1)), t = t.substr(0, t.length - e.length)), t && (this.hostname = t)
            }
        }, {
            "./util": 39,
            punycode: 27,
            querystring: 30
        }],
        39: [function (t, e, r) {
            "use strict";
            e.exports = {
                isString: function (t) {
                    return "string" == typeof t
                },
                isObject: function (t) {
                    return "object" == typeof t && null !== t
                },
                isNull: function (t) {
                    return null === t
                },
                isNullOrUndefined: function (t) {
                    return null == t
                }
            }
        }, {}],
        40: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var o = t("../core"),
                s = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(o),
                a = t("ismobilejs"),
                u = n(a),
                h = t("./accessibleTarget"),
                l = n(h);
            s.utils.mixins.delayMixin(s.DisplayObject.prototype, l.default);
            var c = 100,
                d = 0,
                f = 0,
                p = 2,
                v = function () {
                    function t(e) {
                        i(this, t), !u.default.tablet && !u.default.phone || navigator.isCocoonJS || this.createTouchHook();
                        var r = document.createElement("div");
                        r.style.width = c + "px", r.style.height = c + "px", r.style.position = "absolute", r.style.top = d + "px", r.style.left = f + "px", r.style.zIndex = p, this.div = r, this.pool = [], this.renderId = 0, this.debug = !1, this.renderer = e, this.children = [], this._onKeyDown = this._onKeyDown.bind(this), this._onMouseMove = this._onMouseMove.bind(this), this.isActive = !1, this.isMobileAccessabillity = !1, window.addEventListener("keydown", this._onKeyDown, !1)
                    }
                    return t.prototype.createTouchHook = function () {
                        var t = this,
                            e = document.createElement("button");
                        e.style.width = "1px", e.style.height = "1px", e.style.position = "absolute", e.style.top = "-1000px", e.style.left = "-1000px", e.style.zIndex = 2, e.style.backgroundColor = "#FF0000", e.title = "HOOK DIV", e.addEventListener("focus", function () {
                            t.isMobileAccessabillity = !0, t.activate(), document.body.removeChild(e)
                        }), document.body.appendChild(e)
                    }, t.prototype.activate = function () {
                        this.isActive || (this.isActive = !0, window.document.addEventListener("mousemove", this._onMouseMove, !0), window.removeEventListener("keydown", this._onKeyDown, !1), this.renderer.on("postrender", this.update, this), this.renderer.view.parentNode && this.renderer.view.parentNode.appendChild(this.div))
                    }, t.prototype.deactivate = function () {
                        this.isActive && !this.isMobileAccessabillity && (this.isActive = !1, window.document.removeEventListener("mousemove", this._onMouseMove, !0), window.addEventListener("keydown", this._onKeyDown, !1), this.renderer.off("postrender", this.update), this.div.parentNode && this.div.parentNode.removeChild(this.div))
                    }, t.prototype.updateAccessibleObjects = function (t) {
                        if (t.visible) {
                            t.accessible && t.interactive && (t._accessibleActive || this.addChild(t), t.renderId = this.renderId);
                            for (var e = t.children, r = 0; r < e.length; r++) this.updateAccessibleObjects(e[r])
                        }
                    }, t.prototype.update = function () {
                        if (this.renderer.renderingToScreen) {
                            this.updateAccessibleObjects(this.renderer._lastObjectRendered);
                            var t = this.renderer.view.getBoundingClientRect(),
                                e = t.width / this.renderer.width,
                                r = t.height / this.renderer.height,
                                n = this.div;
                            n.style.left = t.left + "px", n.style.top = t.top + "px", n.style.width = this.renderer.width + "px", n.style.height = this.renderer.height + "px";
                            for (var i = 0; i < this.children.length; i++) {
                                var o = this.children[i];
                                if (o.renderId !== this.renderId) o._accessibleActive = !1, s.utils.removeItems(this.children, i, 1), this.div.removeChild(o._accessibleDiv), this.pool.push(o._accessibleDiv), o._accessibleDiv = null, i--, 0 === this.children.length && this.deactivate();
                                else {
                                    n = o._accessibleDiv;
                                    var a = o.hitArea,
                                        u = o.worldTransform;
                                    o.hitArea ? (n.style.left = (u.tx + a.x * u.a) * e + "px", n.style.top = (u.ty + a.y * u.d) * r + "px", n.style.width = a.width * u.a * e + "px", n.style.height = a.height * u.d * r + "px") : (a = o.getBounds(), this.capHitArea(a), n.style.left = a.x * e + "px", n.style.top = a.y * r + "px", n.style.width = a.width * e + "px", n.style.height = a.height * r + "px", n.title !== o.accessibleTitle && null !== o.accessibleTitle && (n.title = o.accessibleTitle), n.getAttribute("aria-label") !== o.accessibleHint && null !== o.accessibleHint && n.setAttribute("aria-label", o.accessibleHint))
                                }
                            }
                            this.renderId++
                        }
                    }, t.prototype.capHitArea = function (t) {
                        t.x < 0 && (t.width += t.x, t.x = 0), t.y < 0 && (t.height += t.y, t.y = 0), t.x + t.width > this.renderer.width && (t.width = this.renderer.width - t.x), t.y + t.height > this.renderer.height && (t.height = this.renderer.height - t.y)
                    }, t.prototype.addChild = function (t) {
                        var e = this.pool.pop();
                        e || (e = document.createElement("button"), e.style.width = c + "px", e.style.height = c + "px", e.style.backgroundColor = this.debug ? "rgba(255,0,0,0.5)" : "transparent", e.style.position = "absolute", e.style.zIndex = p, e.style.borderStyle = "none", navigator.userAgent.toLowerCase().indexOf("chrome") > -1 ? e.setAttribute("aria-live", "off") : e.setAttribute("aria-live", "polite"), navigator.userAgent.match(/rv:.*Gecko\//) ? e.setAttribute("aria-relevant", "additions") : e.setAttribute("aria-relevant", "text"), e.addEventListener("click", this._onClick.bind(this)), e.addEventListener("focus", this._onFocus.bind(this)), e.addEventListener("focusout", this._onFocusOut.bind(this))), t.accessibleTitle && null !== t.accessibleTitle ? e.title = t.accessibleTitle : t.accessibleHint && null !== t.accessibleHint || (e.title = "displayObject " + t.tabIndex), t.accessibleHint && null !== t.accessibleHint && e.setAttribute("aria-label", t.accessibleHint), t._accessibleActive = !0, t._accessibleDiv = e, e.displayObject = t, this.children.push(t), this.div.appendChild(t._accessibleDiv), t._accessibleDiv.tabIndex = t.tabIndex
                    }, t.prototype._onClick = function (t) {
                        var e = this.renderer.plugins.interaction;
                        e.dispatchEvent(t.target.displayObject, "click", e.eventData)
                    }, t.prototype._onFocus = function (t) {
                        t.target.getAttribute("aria-live", "off") || t.target.setAttribute("aria-live", "assertive");
                        var e = this.renderer.plugins.interaction;
                        e.dispatchEvent(t.target.displayObject, "mouseover", e.eventData)
                    }, t.prototype._onFocusOut = function (t) {
                        t.target.getAttribute("aria-live", "off") || t.target.setAttribute("aria-live", "polite");
                        var e = this.renderer.plugins.interaction;
                        e.dispatchEvent(t.target.displayObject, "mouseout", e.eventData)
                    }, t.prototype._onKeyDown = function (t) {
                        9 === t.keyCode && this.activate()
                    }, t.prototype._onMouseMove = function (t) {
                        0 === t.movementX && 0 === t.movementY || this.deactivate()
                    }, t.prototype.destroy = function () {
                        this.div = null;
                        for (var t = 0; t < this.children.length; t++) this.children[t].div = null;
                        window.document.removeEventListener("mousemove", this._onMouseMove, !0), window.removeEventListener("keydown", this._onKeyDown), this.pool = null, this.children = null, this.renderer = null
                    }, t
                }();
            r.default = v, s.WebGLRenderer.registerPlugin("accessibility", v), s.CanvasRenderer.registerPlugin("accessibility", v)
        }, {
            "../core": 65,
            "./accessibleTarget": 41,
            ismobilejs: 4
        }],
        41: [function (t, e, r) {
            "use strict";
            r.__esModule = !0, r.default = {
                accessible: !1,
                accessibleTitle: null,
                accessibleHint: null,
                tabIndex: 0,
                _accessibleActive: !1,
                _accessibleDiv: !1
            }
        }, {}],
        42: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            r.__esModule = !0;
            var i = t("./accessibleTarget");
            Object.defineProperty(r, "accessibleTarget", {
                enumerable: !0,
                get: function () {
                    return n(i).default
                }
            });
            var o = t("./AccessibilityManager");
            Object.defineProperty(r, "AccessibilityManager", {
                enumerable: !0,
                get: function () {
                    return n(o).default
                }
            })
        }, {
            "./AccessibilityManager": 40,
            "./accessibleTarget": 41
        }],
        43: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var o = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                s = t("./autoDetectRenderer"),
                a = t("./display/Container"),
                u = n(a),
                h = t("./ticker"),
                l = t("./settings"),
                c = n(l),
                d = t("./const"),
                f = function () {
                    function t(e, r, n, o, a) {
                        i(this, t), "number" == typeof e && (e = Object.assign({
                            width: e,
                            height: r || c.default.RENDER_OPTIONS.height,
                            forceCanvas: !!o,
                            sharedTicker: !!a
                        }, n)), this._options = e = Object.assign({
                            autoStart: !0,
                            sharedTicker: !1,
                            forceCanvas: !1,
                            sharedLoader: !1
                        }, e), this.renderer = (0, s.autoDetectRenderer)(e), this.stage = new u.default, this._ticker = null, this.ticker = e.sharedTicker ? h.shared : new h.Ticker, e.autoStart && this.start()
                    }
                    return t.prototype.render = function () {
                        this.renderer.render(this.stage)
                    }, t.prototype.stop = function () {
                        this._ticker.stop()
                    }, t.prototype.start = function () {
                        this._ticker.start()
                    }, t.prototype.destroy = function (t, e) {
                        if (this._ticker) {
                            var r = this._ticker;
                            this.ticker = null, r.destroy()
                        }
                        this.stage.destroy(e), this.stage = null, this.renderer.destroy(t), this.renderer = null, this._options = null
                    }, o(t, [{
                        key: "ticker",
                        set: function (t) {
                            this._ticker && this._ticker.remove(this.render, this), this._ticker = t, t && t.add(this.render, this, d.UPDATE_PRIORITY.LOW)
                        },
                        get: function () {
                            return this._ticker
                        }
                    }, {
                        key: "view",
                        get: function () {
                            return this.renderer.view
                        }
                    }, {
                        key: "screen",
                        get: function () {
                            return this.renderer.screen
                        }
                    }]), t
                }();
            r.default = f
        }, {
            "./autoDetectRenderer": 45,
            "./const": 46,
            "./display/Container": 48,
            "./settings": 101,
            "./ticker": 121
        }],
        44: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            function s(t, e) {
                if (t instanceof Array) {
                    if ("precision" !== t[0].substring(0, 9)) {
                        var r = t.slice(0);
                        return r.unshift("precision " + e + " float;"), r
                    }
                } else if ("precision" !== t.trim().substring(0, 9)) return "precision " + e + " float;\n" + t;
                return t
            }
            r.__esModule = !0;
            var a = t("pixi-gl-core"),
                u = t("./settings"),
                h = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(u),
                l = function (t) {
                    function e(r, o, a, u, l) {
                        return n(this, e), i(this, t.call(this, r, s(o, l || h.default.PRECISION_VERTEX), s(a, l || h.default.PRECISION_FRAGMENT), void 0, u))
                    }
                    return o(e, t), e
                }(a.GLShader);
            r.default = l
        }, {
            "./settings": 101,
            "pixi-gl-core": 15
        }],
        45: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e, r, n) {
                var i = t && t.forceCanvas;
                return void 0 !== n && (i = n), !i && s.isWebGLSupported() ? new l.default(t, e, r) : new u.default(t, e, r)
            }
            r.__esModule = !0, r.autoDetectRenderer = i;
            var o = t("./utils"),
                s = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(o),
                a = t("./renderers/canvas/CanvasRenderer"),
                u = n(a),
                h = t("./renderers/webgl/WebGLRenderer"),
                l = n(h)
        }, {
            "./renderers/canvas/CanvasRenderer": 77,
            "./renderers/webgl/WebGLRenderer": 84,
            "./utils": 125
        }],
        46: [function (t, e, r) {
            "use strict";
            r.__esModule = !0;
            r.VERSION = "4.8.6", r.PI_2 = 2 * Math.PI, r.RAD_TO_DEG = 180 / Math.PI, r.DEG_TO_RAD = Math.PI / 180, r.RENDERER_TYPE = {
                UNKNOWN: 0,
                WEBGL: 1,
                CANVAS: 2
            }, r.BLEND_MODES = {
                NORMAL: 0,
                ADD: 1,
                MULTIPLY: 2,
                SCREEN: 3,
                OVERLAY: 4,
                DARKEN: 5,
                LIGHTEN: 6,
                COLOR_DODGE: 7,
                COLOR_BURN: 8,
                HARD_LIGHT: 9,
                SOFT_LIGHT: 10,
                DIFFERENCE: 11,
                EXCLUSION: 12,
                HUE: 13,
                SATURATION: 14,
                COLOR: 15,
                LUMINOSITY: 16,
                NORMAL_NPM: 17,
                ADD_NPM: 18,
                SCREEN_NPM: 19
            }, r.DRAW_MODES = {
                POINTS: 0,
                LINES: 1,
                LINE_LOOP: 2,
                LINE_STRIP: 3,
                TRIANGLES: 4,
                TRIANGLE_STRIP: 5,
                TRIANGLE_FAN: 6
            }, r.SCALE_MODES = {
                LINEAR: 0,
                NEAREST: 1
            }, r.WRAP_MODES = {
                CLAMP: 0,
                REPEAT: 1,
                MIRRORED_REPEAT: 2
            }, r.GC_MODES = {
                AUTO: 0,
                MANUAL: 1
            }, r.URL_FILE_EXTENSION = /\.(\w{3,4})(?:$|\?|#)/i, r.DATA_URI = /^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i, r.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i, r.SHAPES = {
                POLY: 0,
                RECT: 1,
                CIRC: 2,
                ELIP: 3,
                RREC: 4
            }, r.PRECISION = {
                LOW: "lowp",
                MEDIUM: "mediump",
                HIGH: "highp"
            }, r.TRANSFORM_MODE = {
                STATIC: 0,
                DYNAMIC: 1
            }, r.TEXT_GRADIENT = {
                LINEAR_VERTICAL: 0,
                LINEAR_HORIZONTAL: 1
            }, r.UPDATE_PRIORITY = {
                INTERACTION: 50,
                HIGH: 25,
                NORMAL: 0,
                LOW: -25,
                UTILITY: -50
            }
        }, {}],
        47: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("../math"),
                o = function () {
                    function t() {
                        n(this, t), this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0, this.rect = null
                    }
                    return t.prototype.isEmpty = function () {
                        return this.minX > this.maxX || this.minY > this.maxY
                    }, t.prototype.clear = function () {
                        this.updateID++, this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0
                    }, t.prototype.getRectangle = function (t) {
                        return this.minX > this.maxX || this.minY > this.maxY ? i.Rectangle.EMPTY : (t = t || new i.Rectangle(0, 0, 1, 1), t.x = this.minX, t.y = this.minY, t.width = this.maxX - this.minX, t.height = this.maxY - this.minY, t)
                    }, t.prototype.addPoint = function (t) {
                        this.minX = Math.min(this.minX, t.x), this.maxX = Math.max(this.maxX, t.x), this.minY = Math.min(this.minY, t.y), this.maxY = Math.max(this.maxY, t.y)
                    }, t.prototype.addQuad = function (t) {
                        var e = this.minX,
                            r = this.minY,
                            n = this.maxX,
                            i = this.maxY,
                            o = t[0],
                            s = t[1];
                        e = o < e ? o : e, r = s < r ? s : r, n = o > n ? o : n, i = s > i ? s : i, o = t[2], s = t[3], e = o < e ? o : e, r = s < r ? s : r, n = o > n ? o : n, i = s > i ? s : i, o = t[4], s = t[5], e = o < e ? o : e, r = s < r ? s : r, n = o > n ? o : n, i = s > i ? s : i, o = t[6], s = t[7], e = o < e ? o : e, r = s < r ? s : r, n = o > n ? o : n, i = s > i ? s : i, this.minX = e, this.minY = r, this.maxX = n, this.maxY = i
                    }, t.prototype.addFrame = function (t, e, r, n, i) {
                        var o = t.worldTransform,
                            s = o.a,
                            a = o.b,
                            u = o.c,
                            h = o.d,
                            l = o.tx,
                            c = o.ty,
                            d = this.minX,
                            f = this.minY,
                            p = this.maxX,
                            v = this.maxY,
                            g = s * e + u * r + l,
                            y = a * e + h * r + c;
                        d = g < d ? g : d, f = y < f ? y : f, p = g > p ? g : p, v = y > v ? y : v, g = s * n + u * r + l, y = a * n + h * r + c, d = g < d ? g : d, f = y < f ? y : f, p = g > p ? g : p, v = y > v ? y : v, g = s * e + u * i + l, y = a * e + h * i + c, d = g < d ? g : d, f = y < f ? y : f, p = g > p ? g : p, v = y > v ? y : v, g = s * n + u * i + l, y = a * n + h * i + c, d = g < d ? g : d, f = y < f ? y : f, p = g > p ? g : p, v = y > v ? y : v, this.minX = d, this.minY = f, this.maxX = p, this.maxY = v
                    }, t.prototype.addVertices = function (t, e, r, n) {
                        for (var i = t.worldTransform, o = i.a, s = i.b, a = i.c, u = i.d, h = i.tx, l = i.ty, c = this.minX, d = this.minY, f = this.maxX, p = this.maxY, v = r; v < n; v += 2) {
                            var g = e[v],
                                y = e[v + 1],
                                m = o * g + a * y + h,
                                _ = u * y + s * g + l;
                            c = m < c ? m : c, d = _ < d ? _ : d, f = m > f ? m : f, p = _ > p ? _ : p
                        }
                        this.minX = c, this.minY = d, this.maxX = f, this.maxY = p
                    }, t.prototype.addBounds = function (t) {
                        var e = this.minX,
                            r = this.minY,
                            n = this.maxX,
                            i = this.maxY;
                        this.minX = t.minX < e ? t.minX : e, this.minY = t.minY < r ? t.minY : r, this.maxX = t.maxX > n ? t.maxX : n, this.maxY = t.maxY > i ? t.maxY : i
                    }, t.prototype.addBoundsMask = function (t, e) {
                        var r = t.minX > e.minX ? t.minX : e.minX,
                            n = t.minY > e.minY ? t.minY : e.minY,
                            i = t.maxX < e.maxX ? t.maxX : e.maxX,
                            o = t.maxY < e.maxY ? t.maxY : e.maxY;
                        if (r <= i && n <= o) {
                            var s = this.minX,
                                a = this.minY,
                                u = this.maxX,
                                h = this.maxY;
                            this.minX = r < s ? r : s, this.minY = n < a ? n : a, this.maxX = i > u ? i : u, this.maxY = o > h ? o : h
                        }
                    }, t.prototype.addBoundsArea = function (t, e) {
                        var r = t.minX > e.x ? t.minX : e.x,
                            n = t.minY > e.y ? t.minY : e.y,
                            i = t.maxX < e.x + e.width ? t.maxX : e.x + e.width,
                            o = t.maxY < e.y + e.height ? t.maxY : e.y + e.height;
                        if (r <= i && n <= o) {
                            var s = this.minX,
                                a = this.minY,
                                u = this.maxX,
                                h = this.maxY;
                            this.minX = r < s ? r : s, this.minY = n < a ? n : a, this.maxX = i > u ? i : u, this.maxY = o > h ? o : h
                        }
                    }, t
                }();
            r.default = o
        }, {
            "../math": 70
        }],
        48: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                a = t("../utils"),
                u = t("./DisplayObject"),
                h = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(u),
                l = function (t) {
                    function e() {
                        n(this, e);
                        var r = i(this, t.call(this));
                        return r.children = [], r
                    }
                    return o(e, t), e.prototype.onChildrenChange = function () {}, e.prototype.addChild = function (t) {
                        var e = arguments.length;
                        if (e > 1)
                            for (var r = 0; r < e; r++) this.addChild(arguments[r]);
                        else t.parent && t.parent.removeChild(t), t.parent = this, t.transform._parentID = -1, this.children.push(t), this._boundsID++, this.onChildrenChange(this.children.length - 1), t.emit("added", this);
                        return t
                    }, e.prototype.addChildAt = function (t, e) {
                        if (e < 0 || e > this.children.length) throw new Error(t + "addChildAt: The index " + e + " supplied is out of bounds " + this.children.length);
                        return t.parent && t.parent.removeChild(t), t.parent = this, t.transform._parentID = -1, this.children.splice(e, 0, t), this._boundsID++, this.onChildrenChange(e), t.emit("added", this), t
                    }, e.prototype.swapChildren = function (t, e) {
                        if (t !== e) {
                            var r = this.getChildIndex(t),
                                n = this.getChildIndex(e);
                            this.children[r] = e, this.children[n] = t, this.onChildrenChange(r < n ? r : n)
                        }
                    }, e.prototype.getChildIndex = function (t) {
                        var e = this.children.indexOf(t);
                        if (-1 === e) throw new Error("The supplied DisplayObject must be a child of the caller");
                        return e
                    }, e.prototype.setChildIndex = function (t, e) {
                        if (e < 0 || e >= this.children.length) throw new Error("The index " + e + " supplied is out of bounds " + this.children.length);
                        var r = this.getChildIndex(t);
                        (0, a.removeItems)(this.children, r, 1), this.children.splice(e, 0, t), this.onChildrenChange(e)
                    }, e.prototype.getChildAt = function (t) {
                        if (t < 0 || t >= this.children.length) throw new Error("getChildAt: Index (" + t + ") does not exist.");
                        return this.children[t]
                    }, e.prototype.removeChild = function (t) {
                        var e = arguments.length;
                        if (e > 1)
                            for (var r = 0; r < e; r++) this.removeChild(arguments[r]);
                        else {
                            var n = this.children.indexOf(t);
                            if (-1 === n) return null;
                            t.parent = null, t.transform._parentID = -1, (0, a.removeItems)(this.children, n, 1), this._boundsID++, this.onChildrenChange(n), t.emit("removed", this)
                        }
                        return t
                    }, e.prototype.removeChildAt = function (t) {
                        var e = this.getChildAt(t);
                        return e.parent = null, e.transform._parentID = -1, (0, a.removeItems)(this.children, t, 1), this._boundsID++, this.onChildrenChange(t), e.emit("removed", this), e
                    }, e.prototype.removeChildren = function () {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            e = arguments[1],
                            r = t,
                            n = "number" == typeof e ? e : this.children.length,
                            i = n - r,
                            o = void 0;
                        if (i > 0 && i <= n) {
                            o = this.children.splice(r, i);
                            for (var s = 0; s < o.length; ++s) o[s].parent = null, o[s].transform && (o[s].transform._parentID = -1);
                            this._boundsID++, this.onChildrenChange(t);
                            for (var a = 0; a < o.length; ++a) o[a].emit("removed", this);
                            return o
                        }
                        if (0 === i && 0 === this.children.length) return [];
                        throw new RangeError("removeChildren: numeric values are outside the acceptable range.")
                    }, e.prototype.updateTransform = function () {
                        this._boundsID++, this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha;
                        for (var t = 0, e = this.children.length; t < e; ++t) {
                            var r = this.children[t];
                            r.visible && r.updateTransform()
                        }
                    }, e.prototype.calculateBounds = function () {
                        this._bounds.clear(), this._calculateBounds();
                        for (var t = 0; t < this.children.length; t++) {
                            var e = this.children[t];
                            e.visible && e.renderable && (e.calculateBounds(), e._mask ? (e._mask.calculateBounds(), this._bounds.addBoundsMask(e._bounds, e._mask._bounds)) : e.filterArea ? this._bounds.addBoundsArea(e._bounds, e.filterArea) : this._bounds.addBounds(e._bounds))
                        }
                        this._lastBoundsID = this._boundsID
                    }, e.prototype._calculateBounds = function () {}, e.prototype.renderWebGL = function (t) {
                        if (this.visible && !(this.worldAlpha <= 0) && this.renderable)
                            if (this._mask || this._filters) this.renderAdvancedWebGL(t);
                            else {
                                this._renderWebGL(t);
                                for (var e = 0, r = this.children.length; e < r; ++e) this.children[e].renderWebGL(t)
                            }
                    }, e.prototype.renderAdvancedWebGL = function (t) {
                        t.flush();
                        var e = this._filters,
                            r = this._mask;
                        if (e) {
                            this._enabledFilters || (this._enabledFilters = []), this._enabledFilters.length = 0;
                            for (var n = 0; n < e.length; n++) e[n].enabled && this._enabledFilters.push(e[n]);
                            this._enabledFilters.length && t.filterManager.pushFilter(this, this._enabledFilters)
                        }
                        r && t.maskManager.pushMask(this, this._mask), this._renderWebGL(t);
                        for (var i = 0, o = this.children.length; i < o; i++) this.children[i].renderWebGL(t);
                        t.flush(), r && t.maskManager.popMask(this, this._mask), e && this._enabledFilters && this._enabledFilters.length && t.filterManager.popFilter()
                    }, e.prototype._renderWebGL = function (t) {}, e.prototype._renderCanvas = function (t) {}, e.prototype.renderCanvas = function (t) {
                        if (this.visible && !(this.worldAlpha <= 0) && this.renderable) {
                            this._mask && t.maskManager.pushMask(this._mask), this._renderCanvas(t);
                            for (var e = 0, r = this.children.length; e < r; ++e) this.children[e].renderCanvas(t);
                            this._mask && t.maskManager.popMask(t)
                        }
                    }, e.prototype.destroy = function (e) {
                        t.prototype.destroy.call(this);
                        var r = "boolean" == typeof e ? e : e && e.children,
                            n = this.removeChildren(0, this.children.length);
                        if (r)
                            for (var i = 0; i < n.length; ++i) n[i].destroy(e)
                    }, s(e, [{
                        key: "width",
                        get: function () {
                            return this.scale.x * this.getLocalBounds().width
                        },
                        set: function (t) {
                            var e = this.getLocalBounds().width;
                            this.scale.x = 0 !== e ? t / e : 1, this._width = t
                        }
                    }, {
                        key: "height",
                        get: function () {
                            return this.scale.y * this.getLocalBounds().height
                        },
                        set: function (t) {
                            var e = this.getLocalBounds().height;
                            this.scale.y = 0 !== e ? t / e : 1, this._height = t
                        }
                    }]), e
                }(h.default);
            r.default = l, l.prototype.containerUpdateTransform = l.prototype.updateTransform
        }, {
            "../utils": 125,
            "./DisplayObject": 49
        }],
        49: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                u = t("eventemitter3"),
                h = n(u),
                l = t("../const"),
                c = t("../settings"),
                d = n(c),
                f = t("./TransformStatic"),
                p = n(f),
                v = t("./Transform"),
                g = n(v),
                y = t("./Bounds"),
                m = n(y),
                _ = t("../math"),
                b = function (t) {
                    function e() {
                        i(this, e);
                        var r = o(this, t.call(this)),
                            n = d.default.TRANSFORM_MODE === l.TRANSFORM_MODE.STATIC ? p.default : g.default;
                        return r.tempDisplayObjectParent = null, r.transform = new n, r.alpha = 1, r.visible = !0, r.renderable = !0, r.parent = null, r.worldAlpha = 1, r.filterArea = null, r._filters = null, r._enabledFilters = null, r._bounds = new m.default, r._boundsID = 0, r._lastBoundsID = -1, r._boundsRect = null, r._localBoundsRect = null, r._mask = null, r._destroyed = !1, r
                    }
                    return s(e, t), e.prototype.updateTransform = function () {
                        this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha, this._bounds.updateID++
                    }, e.prototype._recursivePostUpdateTransform = function () {
                        this.parent ? (this.parent._recursivePostUpdateTransform(), this.transform.updateTransform(this.parent.transform)) : this.transform.updateTransform(this._tempDisplayObjectParent.transform)
                    }, e.prototype.getBounds = function (t, e) {
                        return t || (this.parent ? (this._recursivePostUpdateTransform(), this.updateTransform()) : (this.parent = this._tempDisplayObjectParent, this.updateTransform(), this.parent = null)), this._boundsID !== this._lastBoundsID && this.calculateBounds(), e || (this._boundsRect || (this._boundsRect = new _.Rectangle), e = this._boundsRect), this._bounds.getRectangle(e)
                    }, e.prototype.getLocalBounds = function (t) {
                        var e = this.transform,
                            r = this.parent;
                        this.parent = null, this.transform = this._tempDisplayObjectParent.transform, t || (this._localBoundsRect || (this._localBoundsRect = new _.Rectangle), t = this._localBoundsRect);
                        var n = this.getBounds(!1, t);
                        return this.parent = r, this.transform = e, n
                    }, e.prototype.toGlobal = function (t, e) {
                        return arguments.length > 2 && void 0 !== arguments[2] && arguments[2] || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.apply(t, e)
                    }, e.prototype.toLocal = function (t, e, r, n) {
                        return e && (t = e.toGlobal(t, r, n)), n || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.applyInverse(t, r)
                    }, e.prototype.renderWebGL = function (t) {}, e.prototype.renderCanvas = function (t) {}, e.prototype.setParent = function (t) {
                        if (!t || !t.addChild) throw new Error("setParent: Argument must be a Container");
                        return t.addChild(this), t
                    }, e.prototype.setTransform = function () {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                            n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1,
                            i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
                            o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0,
                            s = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 0,
                            a = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 0,
                            u = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : 0;
                        return this.position.x = t, this.position.y = e, this.scale.x = r || 1, this.scale.y = n || 1, this.rotation = i, this.skew.x = o, this.skew.y = s, this.pivot.x = a, this.pivot.y = u, this
                    }, e.prototype.destroy = function () {
                        this.removeAllListeners(), this.parent && this.parent.removeChild(this), this.transform = null, this.parent = null, this._bounds = null, this._currentBounds = null, this._mask = null, this.filterArea = null, this.interactive = !1, this.interactiveChildren = !1, this._destroyed = !0
                    }, a(e, [{
                        key: "_tempDisplayObjectParent",
                        get: function () {
                            return null === this.tempDisplayObjectParent && (this.tempDisplayObjectParent = new e), this.tempDisplayObjectParent
                        }
                    }, {
                        key: "x",
                        get: function () {
                            return this.position.x
                        },
                        set: function (t) {
                            this.transform.position.x = t
                        }
                    }, {
                        key: "y",
                        get: function () {
                            return this.position.y
                        },
                        set: function (t) {
                            this.transform.position.y = t
                        }
                    }, {
                        key: "worldTransform",
                        get: function () {
                            return this.transform.worldTransform
                        }
                    }, {
                        key: "localTransform",
                        get: function () {
                            return this.transform.localTransform
                        }
                    }, {
                        key: "position",
                        get: function () {
                            return this.transform.position
                        },
                        set: function (t) {
                            this.transform.position.copy(t)
                        }
                    }, {
                        key: "scale",
                        get: function () {
                            return this.transform.scale
                        },
                        set: function (t) {
                            this.transform.scale.copy(t)
                        }
                    }, {
                        key: "pivot",
                        get: function () {
                            return this.transform.pivot
                        },
                        set: function (t) {
                            this.transform.pivot.copy(t)
                        }
                    }, {
                        key: "skew",
                        get: function () {
                            return this.transform.skew
                        },
                        set: function (t) {
                            this.transform.skew.copy(t)
                        }
                    }, {
                        key: "rotation",
                        get: function () {
                            return this.transform.rotation
                        },
                        set: function (t) {
                            this.transform.rotation = t
                        }
                    }, {
                        key: "worldVisible",
                        get: function () {
                            var t = this;
                            do {
                                if (!t.visible) return !1;
                                t = t.parent
                            } while (t);
                            return !0
                        }
                    }, {
                        key: "mask",
                        get: function () {
                            return this._mask
                        },
                        set: function (t) {
                            this._mask && (this._mask.renderable = !0, this._mask.isMask = !1), this._mask = t, this._mask && (this._mask.renderable = !1, this._mask.isMask = !0)
                        }
                    }, {
                        key: "filters",
                        get: function () {
                            return this._filters && this._filters.slice()
                        },
                        set: function (t) {
                            this._filters = t && t.slice()
                        }
                    }]), e
                }(h.default);
            r.default = b, b.prototype.displayObjectUpdateTransform = b.prototype.updateTransform
        }, {
            "../const": 46,
            "../math": 70,
            "../settings": 101,
            "./Bounds": 47,
            "./Transform": 50,
            "./TransformStatic": 52,
            eventemitter3: 3
        }],
        50: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                a = t("../math"),
                u = t("./TransformBase"),
                h = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(u),
                l = function (t) {
                    function e() {
                        n(this, e);
                        var r = i(this, t.call(this));
                        return r.position = new a.Point(0, 0), r.scale = new a.Point(1, 1), r.skew = new a.ObservablePoint(r.updateSkew, r, 0, 0), r.pivot = new a.Point(0, 0), r._rotation = 0, r._cx = 1, r._sx = 0, r._cy = 0, r._sy = 1, r
                    }
                    return o(e, t), e.prototype.updateSkew = function () {
                        this._cx = Math.cos(this._rotation + this.skew._y), this._sx = Math.sin(this._rotation + this.skew._y), this._cy = -Math.sin(this._rotation - this.skew._x), this._sy = Math.cos(this._rotation - this.skew._x)
                    }, e.prototype.updateLocalTransform = function () {
                        var t = this.localTransform;
                        t.a = this._cx * this.scale.x, t.b = this._sx * this.scale.x, t.c = this._cy * this.scale.y, t.d = this._sy * this.scale.y, t.tx = this.position.x - (this.pivot.x * t.a + this.pivot.y * t.c), t.ty = this.position.y - (this.pivot.x * t.b + this.pivot.y * t.d)
                    }, e.prototype.updateTransform = function (t) {
                        var e = this.localTransform;
                        e.a = this._cx * this.scale.x, e.b = this._sx * this.scale.x, e.c = this._cy * this.scale.y, e.d = this._sy * this.scale.y, e.tx = this.position.x - (this.pivot.x * e.a + this.pivot.y * e.c), e.ty = this.position.y - (this.pivot.x * e.b + this.pivot.y * e.d);
                        var r = t.worldTransform,
                            n = this.worldTransform;
                        n.a = e.a * r.a + e.b * r.c, n.b = e.a * r.b + e.b * r.d, n.c = e.c * r.a + e.d * r.c, n.d = e.c * r.b + e.d * r.d, n.tx = e.tx * r.a + e.ty * r.c + r.tx, n.ty = e.tx * r.b + e.ty * r.d + r.ty, this._worldID++
                    }, e.prototype.setFromMatrix = function (t) {
                        t.decompose(this)
                    }, s(e, [{
                        key: "rotation",
                        get: function () {
                            return this._rotation
                        },
                        set: function (t) {
                            this._rotation = t, this.updateSkew()
                        }
                    }]), e
                }(h.default);
            r.default = l
        }, {
            "../math": 70,
            "./TransformBase": 51
        }],
        51: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("../math"),
                o = function () {
                    function t() {
                        n(this, t), this.worldTransform = new i.Matrix, this.localTransform = new i.Matrix, this._worldID = 0, this._parentID = 0
                    }
                    return t.prototype.updateLocalTransform = function () {}, t.prototype.updateTransform = function (t) {
                        var e = t.worldTransform,
                            r = this.worldTransform,
                            n = this.localTransform;
                        r.a = n.a * e.a + n.b * e.c, r.b = n.a * e.b + n.b * e.d, r.c = n.c * e.a + n.d * e.c, r.d = n.c * e.b + n.d * e.d, r.tx = n.tx * e.a + n.ty * e.c + e.tx, r.ty = n.tx * e.b + n.ty * e.d + e.ty, this._worldID++
                    }, t
                }();
            r.default = o, o.prototype.updateWorldTransform = o.prototype.updateTransform, o.IDENTITY = new o
        }, {
            "../math": 70
        }],
        52: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                a = t("../math"),
                u = t("./TransformBase"),
                h = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(u),
                l = function (t) {
                    function e() {
                        n(this, e);
                        var r = i(this, t.call(this));
                        return r.position = new a.ObservablePoint(r.onChange, r, 0, 0), r.scale = new a.ObservablePoint(r.onChange, r, 1, 1), r.pivot = new a.ObservablePoint(r.onChange, r, 0, 0), r.skew = new a.ObservablePoint(r.updateSkew, r, 0, 0), r._rotation = 0, r._cx = 1, r._sx = 0, r._cy = 0, r._sy = 1, r._localID = 0, r._currentLocalID = 0, r
                    }
                    return o(e, t), e.prototype.onChange = function () {
                        this._localID++
                    }, e.prototype.updateSkew = function () {
                        this._cx = Math.cos(this._rotation + this.skew._y), this._sx = Math.sin(this._rotation + this.skew._y), this._cy = -Math.sin(this._rotation - this.skew._x), this._sy = Math.cos(this._rotation - this.skew._x), this._localID++
                    }, e.prototype.updateLocalTransform = function () {
                        var t = this.localTransform;
                        this._localID !== this._currentLocalID && (t.a = this._cx * this.scale._x, t.b = this._sx * this.scale._x, t.c = this._cy * this.scale._y, t.d = this._sy * this.scale._y, t.tx = this.position._x - (this.pivot._x * t.a + this.pivot._y * t.c), t.ty = this.position._y - (this.pivot._x * t.b + this.pivot._y * t.d), this._currentLocalID = this._localID, this._parentID = -1)
                    }, e.prototype.updateTransform = function (t) {
                        var e = this.localTransform;
                        if (this._localID !== this._currentLocalID && (e.a = this._cx * this.scale._x, e.b = this._sx * this.scale._x, e.c = this._cy * this.scale._y, e.d = this._sy * this.scale._y, e.tx = this.position._x - (this.pivot._x * e.a + this.pivot._y * e.c), e.ty = this.position._y - (this.pivot._x * e.b + this.pivot._y * e.d), this._currentLocalID = this._localID, this._parentID = -1), this._parentID !== t._worldID) {
                            var r = t.worldTransform,
                                n = this.worldTransform;
                            n.a = e.a * r.a + e.b * r.c, n.b = e.a * r.b + e.b * r.d, n.c = e.c * r.a + e.d * r.c, n.d = e.c * r.b + e.d * r.d, n.tx = e.tx * r.a + e.ty * r.c + r.tx, n.ty = e.tx * r.b + e.ty * r.d + r.ty, this._parentID = t._worldID, this._worldID++
                        }
                    }, e.prototype.setFromMatrix = function (t) {
                        t.decompose(this), this._localID++
                    }, s(e, [{
                        key: "rotation",
                        get: function () {
                            return this._rotation
                        },
                        set: function (t) {
                            this._rotation !== t && (this._rotation = t, this.updateSkew())
                        }
                    }]), e
                }(h.default);
            r.default = l
        }, {
            "../math": 70,
            "./TransformBase": 51
        }],
        53: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = t("../display/Container"),
                u = n(a),
                h = t("../textures/RenderTexture"),
                l = n(h),
                c = t("../textures/Texture"),
                d = n(c),
                f = t("./GraphicsData"),
                p = n(f),
                v = t("../sprites/Sprite"),
                g = n(v),
                y = t("../math"),
                m = t("../utils"),
                _ = t("../const"),
                b = t("../display/Bounds"),
                x = n(b),
                T = t("./utils/bezierCurveTo"),
                w = n(T),
                E = t("../renderers/canvas/CanvasRenderer"),
                S = n(E),
                O = void 0,
                M = new y.Matrix,
                P = new y.Point,
                C = new Float32Array(4),
                R = new Float32Array(4),
                A = function (t) {
                    function e() {
                        var r = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        i(this, e);
                        var n = o(this, t.call(this));
                        return n.fillAlpha = 1, n.lineWidth = 0, n.nativeLines = r, n.lineColor = 0, n.lineAlignment = .5, n.graphicsData = [], n.tint = 16777215, n._prevTint = 16777215, n.blendMode = _.BLEND_MODES.NORMAL, n.currentPath = null, n._webGL = {}, n.isMask = !1, n.boundsPadding = 0, n._localBounds = new x.default, n.dirty = 0, n.fastRectDirty = -1, n.clearDirty = 0, n.boundsDirty = -1, n.cachedSpriteDirty = !1, n._spriteRect = null, n._fastRect = !1, n._prevRectTint = null, n._prevRectFillColor = null, n
                    }
                    return s(e, t), e.prototype.clone = function () {
                        var t = new e;
                        t.renderable = this.renderable, t.fillAlpha = this.fillAlpha, t.lineWidth = this.lineWidth, t.lineColor = this.lineColor, t.lineAlignment = this.lineAlignment, t.tint = this.tint, t.blendMode = this.blendMode, t.isMask = this.isMask, t.boundsPadding = this.boundsPadding, t.dirty = 0, t.cachedSpriteDirty = this.cachedSpriteDirty;
                        for (var r = 0; r < this.graphicsData.length; ++r) t.graphicsData.push(this.graphicsData[r].clone());
                        return t.currentPath = t.graphicsData[t.graphicsData.length - 1], t.updateLocalBounds(), t
                    }, e.prototype._quadraticCurveLength = function (t, e, r, n, i, o) {
                        var s = t - 2 * r + i,
                            a = e - 2 * n + o,
                            u = 2 * r - 2 * t,
                            h = 2 * n - 2 * e,
                            l = 4 * (s * s + a * a),
                            c = 4 * (s * u + a * h),
                            d = u * u + h * h,
                            f = 2 * Math.sqrt(l + c + d),
                            p = Math.sqrt(l),
                            v = 2 * l * p,
                            g = 2 * Math.sqrt(d),
                            y = c / p;
                        return (v * f + p * c * (f - g) + (4 * d * l - c * c) * Math.log((2 * p + y + f) / (y + g))) / (4 * v)
                    }, e.prototype._bezierCurveLength = function (t, e, r, n, i, o, s, a) {
                        for (var u = 0, h = 0, l = 0, c = 0, d = 0, f = 0, p = 0, v = 0, g = 0, y = 0, m = 0, _ = t, b = e, x = 1; x <= 10; ++x) h = x / 10, l = h * h, c = l * h, d = 1 - h, f = d * d, p = f * d, v = p * t + 3 * f * h * r + 3 * d * l * i + c * s, g = p * e + 3 * f * h * n + 3 * d * l * o + c * a, y = _ - v, m = b - g, _ = v, b = g, u += Math.sqrt(y * y + m * m);
                        return u
                    }, e.prototype._segmentsCount = function (t) {
                        var r = Math.ceil(t / e.CURVES.maxLength);
                        return r < e.CURVES.minSegments ? r = e.CURVES.minSegments : r > e.CURVES.maxSegments && (r = e.CURVES.maxSegments), r
                    }, e.prototype.lineStyle = function () {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                            n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : .5;
                        if (this.lineWidth = t, this.lineColor = e, this.lineAlpha = r, this.lineAlignment = n, this.currentPath)
                            if (this.currentPath.shape.points.length) {
                                var i = new y.Polygon(this.currentPath.shape.points.slice(-2));
                                i.closed = !1, this.drawShape(i)
                            } else this.currentPath.lineWidth = this.lineWidth, this.currentPath.lineColor = this.lineColor, this.currentPath.lineAlpha = this.lineAlpha, this.currentPath.lineAlignment = this.lineAlignment;
                        return this
                    }, e.prototype.moveTo = function (t, e) {
                        var r = new y.Polygon([t, e]);
                        return r.closed = !1, this.drawShape(r), this
                    }, e.prototype.lineTo = function (t, e) {
                        var r = this.currentPath.shape.points,
                            n = r[r.length - 2],
                            i = r[r.length - 1];
                        return n === t && i === e || (r.push(t, e), this.dirty++), this
                    }, e.prototype.quadraticCurveTo = function (t, r, n, i) {
                        this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
                        var o = this.currentPath.shape.points,
                            s = 0,
                            a = 0;
                        0 === o.length && this.moveTo(0, 0);
                        for (var u = o[o.length - 2], h = o[o.length - 1], l = e.CURVES.adaptive ? this._segmentsCount(this._quadraticCurveLength(u, h, t, r, n, i)) : 20, c = 1; c <= l; ++c) {
                            var d = c / l;
                            s = u + (t - u) * d, a = h + (r - h) * d, o.push(s + (t + (n - t) * d - s) * d, a + (r + (i - r) * d - a) * d)
                        }
                        return this.dirty++, this
                    }, e.prototype.bezierCurveTo = function (t, r, n, i, o, s) {
                        this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
                        var a = this.currentPath.shape.points,
                            u = a[a.length - 2],
                            h = a[a.length - 1];
                        a.length -= 2;
                        var l = e.CURVES.adaptive ? this._segmentsCount(this._bezierCurveLength(u, h, t, r, n, i, o, s)) : 20;
                        return (0, w.default)(u, h, t, r, n, i, o, s, l, a), this.dirty++, this
                    }, e.prototype.arcTo = function (t, e, r, n, i) {
                        this.currentPath ? 0 === this.currentPath.shape.points.length && this.currentPath.shape.points.push(t, e) : this.moveTo(t, e);
                        var o = this.currentPath.shape.points,
                            s = o[o.length - 2],
                            a = o[o.length - 1],
                            u = a - e,
                            h = s - t,
                            l = n - e,
                            c = r - t,
                            d = Math.abs(u * c - h * l);
                        if (d < 1e-8 || 0 === i) o[o.length - 2] === t && o[o.length - 1] === e || o.push(t, e);
                        else {
                            var f = u * u + h * h,
                                p = l * l + c * c,
                                v = u * l + h * c,
                                g = i * Math.sqrt(f) / d,
                                y = i * Math.sqrt(p) / d,
                                m = g * v / f,
                                _ = y * v / p,
                                b = g * c + y * h,
                                x = g * l + y * u,
                                T = h * (y + m),
                                w = u * (y + m),
                                E = c * (g + _),
                                S = l * (g + _),
                                O = Math.atan2(w - x, T - b),
                                M = Math.atan2(S - x, E - b);
                            this.arc(b + t, x + e, i, O, M, h * l > c * u)
                        }
                        return this.dirty++, this
                    }, e.prototype.arc = function (t, r, n, i, o) {
                        var s = arguments.length > 5 && void 0 !== arguments[5] && arguments[5];
                        if (i === o) return this;
                        !s && o <= i ? o += _.PI_2 : s && i <= o && (i += _.PI_2);
                        var a = o - i,
                            u = e.CURVES.adaptive ? this._segmentsCount(Math.abs(a) * n) : 40 * Math.ceil(Math.abs(a) / _.PI_2);
                        if (0 === a) return this;
                        var h = t + Math.cos(i) * n,
                            l = r + Math.sin(i) * n,
                            c = this.currentPath ? this.currentPath.shape.points : null;
                        if (c) {
                            var d = Math.abs(c[c.length - 2] - h),
                                f = Math.abs(c[c.length - 1] - l);
                            d < .001 && f < .001 || c.push(h, l)
                        } else this.moveTo(h, l), c = this.currentPath.shape.points;
                        for (var p = a / (2 * u), v = 2 * p, g = Math.cos(p), y = Math.sin(p), m = u - 1, b = m % 1 / m, x = 0; x <= m; ++x) {
                            var T = x + b * x,
                                w = p + i + v * T,
                                E = Math.cos(w),
                                S = -Math.sin(w);
                            c.push((g * E + y * S) * n + t, (g * -S + y * E) * n + r)
                        }
                        return this.dirty++, this
                    }, e.prototype.beginFill = function () {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                        return this.filling = !0, this.fillColor = t, this.fillAlpha = e, this.currentPath && this.currentPath.shape.points.length <= 2 && (this.currentPath.fill = this.filling, this.currentPath.fillColor = this.fillColor, this.currentPath.fillAlpha = this.fillAlpha), this
                    }, e.prototype.endFill = function () {
                        return this.filling = !1, this.fillColor = null, this.fillAlpha = 1, this
                    }, e.prototype.drawRect = function (t, e, r, n) {
                        return this.drawShape(new y.Rectangle(t, e, r, n)), this
                    }, e.prototype.drawRoundedRect = function (t, e, r, n, i) {
                        return this.drawShape(new y.RoundedRectangle(t, e, r, n, i)), this
                    }, e.prototype.drawCircle = function (t, e, r) {
                        return this.drawShape(new y.Circle(t, e, r)), this
                    }, e.prototype.drawEllipse = function (t, e, r, n) {
                        return this.drawShape(new y.Ellipse(t, e, r, n)), this
                    }, e.prototype.drawPolygon = function (t) {
                        var e = t,
                            r = !0;
                        if (e instanceof y.Polygon && (r = e.closed, e = e.points), !Array.isArray(e)) {
                            e = new Array(arguments.length);
                            for (var n = 0; n < e.length; ++n) e[n] = arguments[n]
                        }
                        var i = new y.Polygon(e);
                        return i.closed = r, this.drawShape(i), this
                    }, e.prototype.drawStar = function (t, e, r, n, i) {
                        var o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0;
                        i = i || n / 2;
                        for (var s = -1 * Math.PI / 2 + o, a = 2 * r, u = _.PI_2 / a, h = [], l = 0; l < a; l++) {
                            var c = l % 2 ? i : n,
                                d = l * u + s;
                            h.push(t + c * Math.cos(d), e + c * Math.sin(d))
                        }
                        return this.drawPolygon(h)
                    }, e.prototype.clear = function () {
                        return (this.lineWidth || this.filling || this.graphicsData.length > 0) && (this.lineWidth = 0, this.lineAlignment = .5, this.filling = !1, this.boundsDirty = -1, this.canvasTintDirty = -1, this.dirty++, this.clearDirty++, this.graphicsData.length = 0), this.currentPath = null, this._spriteRect = null, this
                    }, e.prototype.isFastRect = function () {
                        return 1 === this.graphicsData.length && this.graphicsData[0].shape.type === _.SHAPES.RECT && !this.graphicsData[0].lineWidth
                    }, e.prototype._renderWebGL = function (t) {
                        this.dirty !== this.fastRectDirty && (this.fastRectDirty = this.dirty, this._fastRect = this.isFastRect()), this._fastRect ? this._renderSpriteRect(t) : (t.setObjectRenderer(t.plugins.graphics), t.plugins.graphics.render(this))
                    }, e.prototype._renderSpriteRect = function (t) {
                        var e = this.graphicsData[0].shape;
                        this._spriteRect || (this._spriteRect = new g.default(new d.default(d.default.WHITE)));
                        var r = this._spriteRect,
                            n = this.graphicsData[0].fillColor;
                        if (16777215 === this.tint) r.tint = n;
                        else if (this.tint !== this._prevRectTint || n !== this._prevRectFillColor) {
                            var i = C,
                                o = R;
                            (0, m.hex2rgb)(n, i), (0, m.hex2rgb)(this.tint, o), i[0] *= o[0], i[1] *= o[1], i[2] *= o[2], r.tint = (0, m.rgb2hex)(i), this._prevRectTint = this.tint, this._prevRectFillColor = n
                        }
                        r.alpha = this.graphicsData[0].fillAlpha, r.worldAlpha = this.worldAlpha * r.alpha, r.blendMode = this.blendMode, r._texture._frame.width = e.width, r._texture._frame.height = e.height, r.transform.worldTransform = this.transform.worldTransform, r.anchor.set(-e.x / e.width, -e.y / e.height), r._onAnchorUpdate(), r._renderWebGL(t)
                    }, e.prototype._renderCanvas = function (t) {
                        !0 !== this.isMask && t.plugins.graphics.render(this)
                    }, e.prototype._calculateBounds = function () {
                        this.boundsDirty !== this.dirty && (this.boundsDirty = this.dirty, this.updateLocalBounds(), this.cachedSpriteDirty = !0);
                        var t = this._localBounds;
                        this._bounds.addFrame(this.transform, t.minX, t.minY, t.maxX, t.maxY)
                    }, e.prototype.containsPoint = function (t) {
                        this.worldTransform.applyInverse(t, P);
                        for (var e = this.graphicsData, r = 0; r < e.length; ++r) {
                            var n = e[r];
                            if (n.fill && (n.shape && n.shape.contains(P.x, P.y))) {
                                if (n.holes)
                                    for (var i = 0; i < n.holes.length; i++) {
                                        var o = n.holes[i];
                                        if (o.contains(P.x, P.y)) return !1
                                    }
                                return !0
                            }
                        }
                        return !1
                    }, e.prototype.updateLocalBounds = function () {
                        var t = 1 / 0,
                            e = -1 / 0,
                            r = 1 / 0,
                            n = -1 / 0;
                        if (this.graphicsData.length)
                            for (var i = 0, o = 0, s = 0, a = 0, u = 0, h = 0; h < this.graphicsData.length; h++) {
                                var l = this.graphicsData[h],
                                    c = l.type,
                                    d = l.lineWidth,
                                    f = l.lineAlignment,
                                    p = d * f;
                                if (i = l.shape, c === _.SHAPES.RECT || c === _.SHAPES.RREC) o = i.x - p, s = i.y - p, a = i.width + 2 * p, u = i.height + 2 * p, t = o < t ? o : t, e = o + a > e ? o + a : e, r = s < r ? s : r, n = s + u > n ? s + u : n;
                                else if (c === _.SHAPES.CIRC) o = i.x, s = i.y, a = i.radius + p, u = i.radius + p, t = o - a < t ? o - a : t, e = o + a > e ? o + a : e, r = s - u < r ? s - u : r, n = s + u > n ? s + u : n;
                                else if (c === _.SHAPES.ELIP) o = i.x, s = i.y, a = i.width + p, u = i.height + p, t = o - a < t ? o - a : t, e = o + a > e ? o + a : e, r = s - u < r ? s - u : r, n = s + u > n ? s + u : n;
                                else
                                    for (var v = i.points, g = 0, y = 0, m = 0, b = 0, x = 0, T = 0, w = 0, E = 0, S = 0; S + 2 < v.length; S += 2) o = v[S], s = v[S + 1], g = v[S + 2], y = v[S + 3], m = Math.abs(g - o), b = Math.abs(y - s), u = 2 * p, (a = Math.sqrt(m * m + b * b)) < 1e-9 || (x = (u / a * b + m) / 2, T = (u / a * m + b) / 2, w = (g + o) / 2, E = (y + s) / 2, t = w - x < t ? w - x : t, e = w + x > e ? w + x : e, r = E - T < r ? E - T : r, n = E + T > n ? E + T : n)
                            } else t = 0, e = 0, r = 0, n = 0;
                        var O = this.boundsPadding;
                        this._localBounds.minX = t - O, this._localBounds.maxX = e + O, this._localBounds.minY = r - O, this._localBounds.maxY = n + O
                    }, e.prototype.drawShape = function (t) {
                        this.currentPath && this.currentPath.shape.points.length <= 2 && this.graphicsData.pop(), this.currentPath = null;
                        var e = new p.default(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.filling, this.nativeLines, t, this.lineAlignment);
                        return this.graphicsData.push(e), e.type === _.SHAPES.POLY && (e.shape.closed = e.shape.closed, this.currentPath = e), this.dirty++, e
                    }, e.prototype.generateCanvasTexture = function (t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                            r = this.getLocalBounds(),
                            n = l.default.create(r.width, r.height, t, e);
                        O || (O = new S.default), this.transform.updateLocalTransform(), this.transform.localTransform.copy(M), M.invert(), M.tx -= r.x, M.ty -= r.y, O.render(this, n, !0, M);
                        var i = d.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas, t, "graphics");
                        return i.baseTexture.resolution = e, i.baseTexture.update(), i
                    }, e.prototype.closePath = function () {
                        var t = this.currentPath;
                        return t && t.shape && t.shape.close(), this
                    }, e.prototype.addHole = function () {
                        var t = this.graphicsData.pop();
                        return this.currentPath = this.graphicsData[this.graphicsData.length - 1], this.currentPath.addHole(t.shape), this.currentPath = null, this
                    }, e.prototype.destroy = function (e) {
                        t.prototype.destroy.call(this, e);
                        for (var r = 0; r < this.graphicsData.length; ++r) this.graphicsData[r].destroy();
                        for (var n in this._webGL)
                            for (var i = 0; i < this._webGL[n].data.length; ++i) this._webGL[n].data[i].destroy();
                        this._spriteRect && this._spriteRect.destroy(), this.graphicsData = null, this.currentPath = null, this._webGL = null, this._localBounds = null
                    }, e
                }(u.default);
            r.default = A, A._SPRITE_TEXTURE = null, A.CURVES = {
                adaptive: !1,
                maxLength: 10,
                minSegments: 8,
                maxSegments: 2048
            }
        }, {
            "../const": 46,
            "../display/Bounds": 47,
            "../display/Container": 48,
            "../math": 70,
            "../renderers/canvas/CanvasRenderer": 77,
            "../sprites/Sprite": 102,
            "../textures/RenderTexture": 113,
            "../textures/Texture": 115,
            "../utils": 125,
            "./GraphicsData": 54,
            "./utils/bezierCurveTo": 56
        }],
        54: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                function t(e, r, i, o, s, a, u, h, l) {
                    n(this, t), this.lineWidth = e, this.lineAlignment = l, this.nativeLines = u, this.lineColor = r, this.lineAlpha = i, this._lineTint = r, this.fillColor = o, this.fillAlpha = s, this._fillTint = o, this.fill = a, this.holes = [], this.shape = h, this.type = h.type
                }
                return t.prototype.clone = function () {
                    return new t(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.fill, this.nativeLines, this.shape, this.lineAlignment)
                }, t.prototype.addHole = function (t) {
                    this.holes.push(t)
                }, t.prototype.destroy = function () {
                    this.shape = null, this.holes = null
                }, t
            }();
            r.default = i
        }, {}],
        55: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("../../renderers/canvas/CanvasRenderer"),
                o = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(i),
                s = t("../../const"),
                a = function () {
                    function t(e) {
                        n(this, t), this.renderer = e
                    }
                    return t.prototype.render = function (t) {
                        var e = this.renderer,
                            r = e.context,
                            n = t.worldAlpha,
                            i = t.transform.worldTransform,
                            o = e.resolution;
                        r.setTransform(i.a * o, i.b * o, i.c * o, i.d * o, i.tx * o, i.ty * o), t.canvasTintDirty === t.dirty && t._prevTint === t.tint || this.updateGraphicsTint(t), e.setBlendMode(t.blendMode);
                        for (var a = 0; a < t.graphicsData.length; a++) {
                            var u = t.graphicsData[a],
                                h = u.shape,
                                l = u._fillTint,
                                c = u._lineTint;
                            if (r.lineWidth = u.lineWidth, u.type === s.SHAPES.POLY) {
                                r.beginPath();
                                var d = h.points,
                                    f = u.holes,
                                    p = void 0,
                                    v = void 0;
                                r.moveTo(d[0], d[1]);
                                for (var g = 2; g < d.length; g += 2) r.lineTo(d[g], d[g + 1]);
                                if (h.closed && r.closePath(), f.length > 0) {
                                    p = 0;
                                    for (var y = 0; y < d.length; y += 2) p += d[y] * d[y + 3] - d[y + 1] * d[y + 2];
                                    for (var m = 0; m < f.length; m++) {
                                        d = f[m].points, v = 0;
                                        for (var _ = 0; _ < d.length; _ += 2) v += d[_] * d[_ + 3] - d[_ + 1] * d[_ + 2];
                                        if (r.moveTo(d[0], d[1]), v * p < 0)
                                            for (var b = 2; b < d.length; b += 2) r.lineTo(d[b], d[b + 1]);
                                        else
                                            for (var x = d.length - 2; x >= 2; x -= 2) r.lineTo(d[x], d[x + 1]);
                                        f[m].closed && r.closePath()
                                    }
                                }
                                u.fill && (r.globalAlpha = u.fillAlpha * n, r.fillStyle = "#" + ("00000" + (0 | l).toString(16)).substr(-6), r.fill()), u.lineWidth && (r.globalAlpha = u.lineAlpha * n, r.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), r.stroke())
                            } else if (u.type === s.SHAPES.RECT)(u.fillColor || 0 === u.fillColor) && (r.globalAlpha = u.fillAlpha * n, r.fillStyle = "#" + ("00000" + (0 | l).toString(16)).substr(-6), r.fillRect(h.x, h.y, h.width, h.height)), u.lineWidth && (r.globalAlpha = u.lineAlpha * n, r.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), r.strokeRect(h.x, h.y, h.width, h.height));
                            else if (u.type === s.SHAPES.CIRC) r.beginPath(), r.arc(h.x, h.y, h.radius, 0, 2 * Math.PI), r.closePath(), u.fill && (r.globalAlpha = u.fillAlpha * n, r.fillStyle = "#" + ("00000" + (0 | l).toString(16)).substr(-6), r.fill()), u.lineWidth && (r.globalAlpha = u.lineAlpha * n, r.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), r.stroke());
                            else if (u.type === s.SHAPES.ELIP) {
                                var T = 2 * h.width,
                                    w = 2 * h.height,
                                    E = h.x - T / 2,
                                    S = h.y - w / 2;
                                r.beginPath();
                                var O = T / 2 * .5522848,
                                    M = w / 2 * .5522848,
                                    P = E + T,
                                    C = S + w,
                                    R = E + T / 2,
                                    A = S + w / 2;
                                r.moveTo(E, A), r.bezierCurveTo(E, A - M, R - O, S, R, S), r.bezierCurveTo(R + O, S, P, A - M, P, A), r.bezierCurveTo(P, A + M, R + O, C, R, C), r.bezierCurveTo(R - O, C, E, A + M, E, A), r.closePath(), u.fill && (r.globalAlpha = u.fillAlpha * n, r.fillStyle = "#" + ("00000" + (0 | l).toString(16)).substr(-6), r.fill()), u.lineWidth && (r.globalAlpha = u.lineAlpha * n, r.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), r.stroke())
                            } else if (u.type === s.SHAPES.RREC) {
                                var I = h.x,
                                    D = h.y,
                                    L = h.width,
                                    N = h.height,
                                    B = h.radius,
                                    k = Math.min(L, N) / 2 | 0;
                                B = B > k ? k : B, r.beginPath(), r.moveTo(I, D + B), r.lineTo(I, D + N - B), r.quadraticCurveTo(I, D + N, I + B, D + N), r.lineTo(I + L - B, D + N), r.quadraticCurveTo(I + L, D + N, I + L, D + N - B), r.lineTo(I + L, D + B), r.quadraticCurveTo(I + L, D, I + L - B, D), r.lineTo(I + B, D), r.quadraticCurveTo(I, D, I, D + B), r.closePath(), (u.fillColor || 0 === u.fillColor) && (r.globalAlpha = u.fillAlpha * n, r.fillStyle = "#" + ("00000" + (0 | l).toString(16)).substr(-6), r.fill()), u.lineWidth && (r.globalAlpha = u.lineAlpha * n, r.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), r.stroke())
                            }
                        }
                    }, t.prototype.updateGraphicsTint = function (t) {
                        t._prevTint = t.tint, t.canvasTintDirty = t.dirty;
                        for (var e = (t.tint >> 16 & 255) / 255, r = (t.tint >> 8 & 255) / 255, n = (255 & t.tint) / 255, i = 0; i < t.graphicsData.length; ++i) {
                            var o = t.graphicsData[i],
                                s = 0 | o.fillColor,
                                a = 0 | o.lineColor;
                            o._fillTint = ((s >> 16 & 255) / 255 * e * 255 << 16) + ((s >> 8 & 255) / 255 * r * 255 << 8) + (255 & s) / 255 * n * 255, o._lineTint = ((a >> 16 & 255) / 255 * e * 255 << 16) + ((a >> 8 & 255) / 255 * r * 255 << 8) + (255 & a) / 255 * n * 255
                        }
                    }, t.prototype.renderPolygon = function (t, e, r) {
                        r.moveTo(t[0], t[1]);
                        for (var n = 1; n < t.length / 2; ++n) r.lineTo(t[2 * n], t[2 * n + 1]);
                        e && r.closePath()
                    }, t.prototype.destroy = function () {
                        this.renderer = null
                    }, t
                }();
            r.default = a, o.default.registerPlugin("graphics", a)
        }, {
            "../../const": 46,
            "../../renderers/canvas/CanvasRenderer": 77
        }],
        56: [function (t, e, r) {
            "use strict";
            function n(t, e, r, n, i, o, s, a, u) {
                var h = arguments.length > 9 && void 0 !== arguments[9] ? arguments[9] : [],
                    l = 0,
                    c = 0,
                    d = 0,
                    f = 0,
                    p = 0;
                h.push(t, e);
                for (var v = 1, g = 0; v <= u; ++v) g = v / u, l = 1 - g, c = l * l, d = c * l, f = g * g, p = f * g, h.push(d * t + 3 * c * g * r + 3 * l * f * i + p * s, d * e + 3 * c * g * n + 3 * l * f * o + p * a);
                return h
            }
            r.__esModule = !0, r.default = n
        }, {}],
        57: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = t("../../utils"),
                u = t("../../const"),
                h = t("../../renderers/webgl/utils/ObjectRenderer"),
                l = n(h),
                c = t("../../renderers/webgl/WebGLRenderer"),
                d = n(c),
                f = t("./WebGLGraphicsData"),
                p = n(f),
                v = t("./shaders/PrimitiveShader"),
                g = n(v),
                y = t("./utils/buildPoly"),
                m = n(y),
                _ = t("./utils/buildRectangle"),
                b = n(_),
                x = t("./utils/buildRoundedRectangle"),
                T = n(x),
                w = t("./utils/buildCircle"),
                E = n(w),
                S = function (t) {
                    function e(r) {
                        i(this, e);
                        var n = o(this, t.call(this, r));
                        return n.graphicsDataPool = [], n.primitiveShader = null, n.gl = r.gl, n.CONTEXT_UID = 0, n
                    }
                    return s(e, t), e.prototype.onContextChange = function () {
                        this.gl = this.renderer.gl, this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.primitiveShader = new g.default(this.gl)
                    }, e.prototype.destroy = function () {
                        l.default.prototype.destroy.call(this);
                        for (var t = 0; t < this.graphicsDataPool.length; ++t) this.graphicsDataPool[t].destroy();
                        this.graphicsDataPool = null
                    }, e.prototype.render = function (t) {
                        var e = this.renderer,
                            r = e.gl,
                            n = void 0,
                            i = t._webGL[this.CONTEXT_UID];
                        i && t.dirty === i.dirty || (this.updateGraphics(t), i = t._webGL[this.CONTEXT_UID]);
                        var o = this.primitiveShader;
                        e.bindShader(o), e.state.setBlendMode(t.blendMode);
                        for (var s = 0, u = i.data.length; s < u; s++) {
                            n = i.data[s];
                            var h = n.shader;
                            e.bindShader(h), h.uniforms.translationMatrix = t.transform.worldTransform.toArray(!0), h.uniforms.tint = (0, a.hex2rgb)(t.tint), h.uniforms.alpha = t.worldAlpha, e.bindVao(n.vao), n.nativeLines ? r.drawArrays(r.LINES, 0, n.points.length / 6) : n.vao.draw(r.TRIANGLE_STRIP, n.indices.length)
                        }
                    }, e.prototype.updateGraphics = function (t) {
                        var e = this.renderer.gl,
                            r = t._webGL[this.CONTEXT_UID];
                        if (r || (r = t._webGL[this.CONTEXT_UID] = {
                                lastIndex: 0,
                                data: [],
                                gl: e,
                                clearDirty: -1,
                                dirty: -1
                            }), r.dirty = t.dirty, t.clearDirty !== r.clearDirty) {
                            r.clearDirty = t.clearDirty;
                            for (var n = 0; n < r.data.length; n++) this.graphicsDataPool.push(r.data[n]);
                            r.data.length = 0, r.lastIndex = 0
                        }
                        for (var i = void 0, o = void 0, s = r.lastIndex; s < t.graphicsData.length; s++) {
                            var a = t.graphicsData[s];
                            i = this.getWebGLData(r, 0), a.nativeLines && a.lineWidth && (o = this.getWebGLData(r, 0, !0), r.lastIndex++), a.type === u.SHAPES.POLY && (0, m.default)(a, i, o), a.type === u.SHAPES.RECT ? (0, b.default)(a, i, o) : a.type === u.SHAPES.CIRC || a.type === u.SHAPES.ELIP ? (0, E.default)(a, i, o) : a.type === u.SHAPES.RREC && (0, T.default)(a, i, o), r.lastIndex++
                        }
                        this.renderer.bindVao(null);
                        for (var h = 0; h < r.data.length; h++) i = r.data[h], i.dirty && i.upload()
                    }, e.prototype.getWebGLData = function (t, e, r) {
                        var n = t.data[t.data.length - 1];
                        return (!n || n.nativeLines !== r || n.points.length > 32e4) && (n = this.graphicsDataPool.pop() || new p.default(this.renderer.gl, this.primitiveShader, this.renderer.state.attribsState), n.nativeLines = r, n.reset(e), t.data.push(n)), n.dirty = !0, n
                    }, e
                }(l.default);
            r.default = S, d.default.registerPlugin("graphics", S)
        }, {
            "../../const": 46,
            "../../renderers/webgl/WebGLRenderer": 84,
            "../../renderers/webgl/utils/ObjectRenderer": 94,
            "../../utils": 125,
            "./WebGLGraphicsData": 58,
            "./shaders/PrimitiveShader": 59,
            "./utils/buildCircle": 60,
            "./utils/buildPoly": 62,
            "./utils/buildRectangle": 63,
            "./utils/buildRoundedRectangle": 64
        }],
        58: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("pixi-gl-core"),
                o = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(i),
                s = function () {
                    function t(e, r, i) {
                        n(this, t), this.gl = e, this.color = [0, 0, 0], this.points = [], this.indices = [], this.buffer = o.default.GLBuffer.createVertexBuffer(e), this.indexBuffer = o.default.GLBuffer.createIndexBuffer(e), this.dirty = !0, this.nativeLines = !1, this.glPoints = null, this.glIndices = null, this.shader = r, this.vao = new o.default.VertexArrayObject(e, i).addIndex(this.indexBuffer).addAttribute(this.buffer, r.attributes.aVertexPosition, e.FLOAT, !1, 24, 0).addAttribute(this.buffer, r.attributes.aColor, e.FLOAT, !1, 24, 8)
                    }
                    return t.prototype.reset = function () {
                        this.points.length = 0, this.indices.length = 0
                    }, t.prototype.upload = function () {
                        this.glPoints = new Float32Array(this.points), this.buffer.upload(this.glPoints), this.glIndices = new Uint16Array(this.indices), this.indexBuffer.upload(this.glIndices), this.dirty = !1
                    }, t.prototype.destroy = function () {
                        this.color = null, this.points = null, this.indices = null, this.vao.destroy(), this.buffer.destroy(), this.indexBuffer.destroy(), this.gl = null, this.buffer = null, this.indexBuffer = null, this.glPoints = null, this.glIndices = null
                    }, t
                }();
            r.default = s
        }, {
            "pixi-gl-core": 15
        }],
        59: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = t("../../../Shader"),
                a = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(s),
                u = function (t) {
                    function e(r) {
                        return n(this, e), i(this, t.call(this, r, ["attribute vec2 aVertexPosition;", "attribute vec4 aColor;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "uniform float alpha;", "uniform vec3 tint;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vColor = aColor * vec4(tint * alpha, alpha);", "}"].join("\n"), ["varying vec4 vColor;", "void main(void){", "   gl_FragColor = vColor;", "}"].join("\n")))
                    }
                    return o(e, t), e
                }(a.default);
            r.default = u
        }, {
            "../../../Shader": 44
        }],
        60: [function (t, e, r) {
            "use strict";
            function n(t, e, r) {
                var n = t.shape,
                    i = n.x,
                    u = n.y,
                    h = void 0,
                    l = void 0;
                if (t.type === s.SHAPES.CIRC ? (h = n.radius, l = n.radius) : (h = n.width, l = n.height), 0 !== h && 0 !== l) {
                    var c = Math.floor(30 * Math.sqrt(n.radius)) || Math.floor(15 * Math.sqrt(n.width + n.height)),
                        d = 2 * Math.PI / c;
                    if (t.fill) {
                        var f = (0, a.hex2rgb)(t.fillColor),
                            p = t.fillAlpha,
                            v = f[0] * p,
                            g = f[1] * p,
                            y = f[2] * p,
                            m = e.points,
                            _ = e.indices,
                            b = m.length / 6;
                        _.push(b);
                        for (var x = 0; x < c + 1; x++) m.push(i, u, v, g, y, p), m.push(i + Math.sin(d * x) * h, u + Math.cos(d * x) * l, v, g, y, p), _.push(b++, b++);
                        _.push(b - 1)
                    }
                    if (t.lineWidth) {
                        var T = t.points;
                        t.points = [];
                        for (var w = 0; w < c; w++) t.points.push(i + Math.sin(d * -w) * h, u + Math.cos(d * -w) * l);
                        t.points.push(t.points[0], t.points[1]), (0, o.default)(t, e, r), t.points = T
                    }
                }
            }
            r.__esModule = !0, r.default = n;
            var i = t("./buildLine"),
                o = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(i),
                s = t("../../../const"),
                a = t("../../../utils")
        }, {
            "../../../const": 46,
            "../../../utils": 125,
            "./buildLine": 61
        }],
        61: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                var r = t.points;
                if (0 !== r.length) {
                    var n = new o.Point(r[0], r[1]),
                        i = new o.Point(r[r.length - 2], r[r.length - 1]);
                    if (n.x === i.x && n.y === i.y) {
                        r = r.slice(), r.pop(), r.pop(), i = new o.Point(r[r.length - 2], r[r.length - 1]);
                        var a = i.x + .5 * (n.x - i.x),
                            u = i.y + .5 * (n.y - i.y);
                        r.unshift(a, u), r.push(a, u)
                    }
                    var h = e.points,
                        l = e.indices,
                        c = r.length / 2,
                        d = r.length,
                        f = h.length / 6,
                        p = t.lineWidth / 2,
                        v = (0, s.hex2rgb)(t.lineColor),
                        g = t.lineAlpha,
                        y = v[0] * g,
                        m = v[1] * g,
                        _ = v[2] * g,
                        b = r[0],
                        x = r[1],
                        T = r[2],
                        w = r[3],
                        E = 0,
                        S = 0,
                        O = -(x - w),
                        M = b - T,
                        P = 0,
                        C = 0,
                        R = 0,
                        A = 0,
                        I = Math.sqrt(O * O + M * M);
                    O /= I, M /= I, O *= p, M *= p;
                    var D = t.lineAlignment,
                        L = 2 * (1 - D),
                        N = 2 * D;
                    h.push(b - O * L, x - M * L, y, m, _, g), h.push(b + O * N, x + M * N, y, m, _, g);
                    for (var B = 1; B < c - 1; ++B) {
                        b = r[2 * (B - 1)], x = r[2 * (B - 1) + 1], T = r[2 * B], w = r[2 * B + 1], E = r[2 * (B + 1)], S = r[2 * (B + 1) + 1], O = -(x - w), M = b - T, I = Math.sqrt(O * O + M * M), O /= I, M /= I, O *= p, M *= p, P = -(w - S), C = T - E, I = Math.sqrt(P * P + C * C), P /= I, C /= I, P *= p, C *= p;
                        var k = -M + x - (-M + w),
                            F = -O + T - (-O + b),
                            j = (-O + b) * (-M + w) - (-O + T) * (-M + x),
                            U = -C + S - (-C + w),
                            X = -P + T - (-P + E),
                            G = (-P + E) * (-C + w) - (-P + T) * (-C + S),
                            W = k * X - U * F;
                        if (Math.abs(W) < .1) W += 10.1, h.push(T - O * L, w - M * L, y, m, _, g), h.push(T + O * N, w + M * N, y, m, _, g);
                        else {
                            var H = (F * G - X * j) / W,
                                Y = (U * j - k * G) / W;
                            (H - T) * (H - T) + (Y - w) * (Y - w) > 196 * p * p ? (R = O - P, A = M - C, I = Math.sqrt(R * R + A * A), R /= I, A /= I, R *= p, A *= p, h.push(T - R * L, w - A * L), h.push(y, m, _, g), h.push(T + R * N, w + A * N), h.push(y, m, _, g),
                                h.push(T - R * N * L, w - A * L), h.push(y, m, _, g), d++) : (h.push(T + (H - T) * L, w + (Y - w) * L), h.push(y, m, _, g), h.push(T - (H - T) * N, w - (Y - w) * N), h.push(y, m, _, g))
                        }
                    }
                    b = r[2 * (c - 2)], x = r[2 * (c - 2) + 1], T = r[2 * (c - 1)], w = r[2 * (c - 1) + 1], O = -(x - w), M = b - T, I = Math.sqrt(O * O + M * M), O /= I, M /= I, O *= p, M *= p, h.push(T - O * L, w - M * L), h.push(y, m, _, g), h.push(T + O * N, w + M * N), h.push(y, m, _, g), l.push(f);
                    for (var V = 0; V < d; ++V) l.push(f++);
                    l.push(f - 1)
                }
            }
            function i(t, e) {
                var r = 0,
                    n = t.points;
                if (0 !== n.length) {
                    var i = e.points,
                        o = n.length / 2,
                        a = (0, s.hex2rgb)(t.lineColor),
                        u = t.lineAlpha,
                        h = a[0] * u,
                        l = a[1] * u,
                        c = a[2] * u;
                    for (r = 1; r < o; r++) {
                        var d = n[2 * (r - 1)],
                            f = n[2 * (r - 1) + 1],
                            p = n[2 * r],
                            v = n[2 * r + 1];
                        i.push(d, f), i.push(h, l, c, u), i.push(p, v), i.push(h, l, c, u)
                    }
                }
            }
            r.__esModule = !0, r.default = function (t, e, r) {
                t.nativeLines ? i(t, r) : n(t, e)
            };
            var o = t("../../../math"),
                s = t("../../../utils")
        }, {
            "../../../math": 70,
            "../../../utils": 125
        }],
        62: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e, r) {
                t.points = t.shape.points.slice();
                var n = t.points;
                if (t.fill && n.length >= 6) {
                    for (var i = [], o = t.holes, u = 0; u < o.length; u++) {
                        var l = o[u];
                        i.push(n.length / 2), n = n.concat(l.points)
                    }
                    var c = e.points,
                        d = e.indices,
                        f = n.length / 2,
                        p = (0, a.hex2rgb)(t.fillColor),
                        v = t.fillAlpha,
                        g = p[0] * v,
                        y = p[1] * v,
                        m = p[2] * v,
                        _ = (0, h.default)(n, i, 2);
                    if (!_) return;
                    for (var b = c.length / 6, x = 0; x < _.length; x += 3) d.push(_[x] + b), d.push(_[x] + b), d.push(_[x + 1] + b), d.push(_[x + 2] + b), d.push(_[x + 2] + b);
                    for (var T = 0; T < f; T++) c.push(n[2 * T], n[2 * T + 1], g, y, m, v)
                }
                t.lineWidth > 0 && (0, s.default)(t, e, r)
            }
            r.__esModule = !0, r.default = i;
            var o = t("./buildLine"),
                s = n(o),
                a = t("../../../utils"),
                u = t("earcut"),
                h = n(u)
        }, {
            "../../../utils": 125,
            "./buildLine": 61,
            earcut: 2
        }],
        63: [function (t, e, r) {
            "use strict";
            function n(t, e, r) {
                var n = t.shape,
                    i = n.x,
                    a = n.y,
                    u = n.width,
                    h = n.height;
                if (t.fill) {
                    var l = (0, s.hex2rgb)(t.fillColor),
                        c = t.fillAlpha,
                        d = l[0] * c,
                        f = l[1] * c,
                        p = l[2] * c,
                        v = e.points,
                        g = e.indices,
                        y = v.length / 6;
                    v.push(i, a), v.push(d, f, p, c), v.push(i + u, a), v.push(d, f, p, c), v.push(i, a + h), v.push(d, f, p, c), v.push(i + u, a + h), v.push(d, f, p, c), g.push(y, y, y + 1, y + 2, y + 3, y + 3)
                }
                if (t.lineWidth) {
                    var m = t.points;
                    t.points = [i, a, i + u, a, i + u, a + h, i, a + h, i, a], (0, o.default)(t, e, r), t.points = m
                }
            }
            r.__esModule = !0, r.default = n;
            var i = t("./buildLine"),
                o = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(i),
                s = t("../../../utils")
        }, {
            "../../../utils": 125,
            "./buildLine": 61
        }],
        64: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e, r) {
                var n = t.shape,
                    i = n.x,
                    o = n.y,
                    a = n.width,
                    h = n.height,
                    d = n.radius,
                    f = [];
                if (f.push(i + d, o), s(i + a - d, o, i + a, o, i + a, o + d, f), s(i + a, o + h - d, i + a, o + h, i + a - d, o + h, f), s(i + d, o + h, i, o + h, i, o + h - d, f), s(i, o + d, i, o, i + d + 1e-10, o, f), t.fill) {
                    for (var p = (0, c.hex2rgb)(t.fillColor), v = t.fillAlpha, g = p[0] * v, y = p[1] * v, m = p[2] * v, _ = e.points, b = e.indices, x = _.length / 6, T = (0, u.default)(f, null, 2), w = 0, E = T.length; w < E; w += 3) b.push(T[w] + x), b.push(T[w] + x), b.push(T[w + 1] + x), b.push(T[w + 2] + x), b.push(T[w + 2] + x);
                    for (var S = 0, O = f.length; S < O; S++) _.push(f[S], f[++S], g, y, m, v)
                }
                if (t.lineWidth) {
                    var M = t.points;
                    t.points = f, (0, l.default)(t, e, r), t.points = M
                }
            }
            function o(t, e, r) {
                return t + (e - t) * r
            }
            function s(t, e, r, n, i, s) {
                for (var a = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : [], u = a, h = 0, l = 0, c = 0, d = 0, f = 0, p = 0, v = 0, g = 0; v <= 20; ++v) g = v / 20, h = o(t, r, g), l = o(e, n, g), c = o(r, i, g), d = o(n, s, g), f = o(h, c, g), p = o(l, d, g), u.push(f, p);
                return u
            }
            r.__esModule = !0, r.default = i;
            var a = t("earcut"),
                u = n(a),
                h = t("./buildLine"),
                l = n(h),
                c = t("../../../utils")
        }, {
            "../../../utils": 125,
            "./buildLine": 61,
            earcut: 2
        }],
        65: [function (t, e, r) {
            "use strict";
            function n(t) {
                if (t && t.__esModule) return t;
                var e = {};
                if (null != t)
                    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                return e.default = t, e
            }
            function i(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            r.__esModule = !0, r.autoDetectRenderer = r.Application = r.Filter = r.SpriteMaskFilter = r.Quad = r.RenderTarget = r.ObjectRenderer = r.WebGLManager = r.Shader = r.CanvasRenderTarget = r.TextureUvs = r.VideoBaseTexture = r.BaseRenderTexture = r.RenderTexture = r.BaseTexture = r.TextureMatrix = r.Texture = r.Spritesheet = r.CanvasGraphicsRenderer = r.GraphicsRenderer = r.GraphicsData = r.Graphics = r.TextMetrics = r.TextStyle = r.Text = r.SpriteRenderer = r.CanvasTinter = r.CanvasSpriteRenderer = r.Sprite = r.TransformBase = r.TransformStatic = r.Transform = r.Container = r.DisplayObject = r.Bounds = r.glCore = r.WebGLRenderer = r.CanvasRenderer = r.ticker = r.utils = r.settings = void 0;
            var o = t("./const");
            Object.keys(o).forEach(function (t) {
                "default" !== t && "__esModule" !== t && Object.defineProperty(r, t, {
                    enumerable: !0,
                    get: function () {
                        return o[t]
                    }
                })
            });
            var s = t("./math");
            Object.keys(s).forEach(function (t) {
                "default" !== t && "__esModule" !== t && Object.defineProperty(r, t, {
                    enumerable: !0,
                    get: function () {
                        return s[t]
                    }
                })
            });
            var a = t("pixi-gl-core");
            Object.defineProperty(r, "glCore", {
                enumerable: !0,
                get: function () {
                    return i(a).default
                }
            });
            var u = t("./display/Bounds");
            Object.defineProperty(r, "Bounds", {
                enumerable: !0,
                get: function () {
                    return i(u).default
                }
            });
            var h = t("./display/DisplayObject");
            Object.defineProperty(r, "DisplayObject", {
                enumerable: !0,
                get: function () {
                    return i(h).default
                }
            });
            var l = t("./display/Container");
            Object.defineProperty(r, "Container", {
                enumerable: !0,
                get: function () {
                    return i(l).default
                }
            });
            var c = t("./display/Transform");
            Object.defineProperty(r, "Transform", {
                enumerable: !0,
                get: function () {
                    return i(c).default
                }
            });
            var d = t("./display/TransformStatic");
            Object.defineProperty(r, "TransformStatic", {
                enumerable: !0,
                get: function () {
                    return i(d).default
                }
            });
            var f = t("./display/TransformBase");
            Object.defineProperty(r, "TransformBase", {
                enumerable: !0,
                get: function () {
                    return i(f).default
                }
            });
            var p = t("./sprites/Sprite");
            Object.defineProperty(r, "Sprite", {
                enumerable: !0,
                get: function () {
                    return i(p).default
                }
            });
            var v = t("./sprites/canvas/CanvasSpriteRenderer");
            Object.defineProperty(r, "CanvasSpriteRenderer", {
                enumerable: !0,
                get: function () {
                    return i(v).default
                }
            });
            var g = t("./sprites/canvas/CanvasTinter");
            Object.defineProperty(r, "CanvasTinter", {
                enumerable: !0,
                get: function () {
                    return i(g).default
                }
            });
            var y = t("./sprites/webgl/SpriteRenderer");
            Object.defineProperty(r, "SpriteRenderer", {
                enumerable: !0,
                get: function () {
                    return i(y).default
                }
            });
            var m = t("./text/Text");
            Object.defineProperty(r, "Text", {
                enumerable: !0,
                get: function () {
                    return i(m).default
                }
            });
            var _ = t("./text/TextStyle");
            Object.defineProperty(r, "TextStyle", {
                enumerable: !0,
                get: function () {
                    return i(_).default
                }
            });
            var b = t("./text/TextMetrics");
            Object.defineProperty(r, "TextMetrics", {
                enumerable: !0,
                get: function () {
                    return i(b).default
                }
            });
            var x = t("./graphics/Graphics");
            Object.defineProperty(r, "Graphics", {
                enumerable: !0,
                get: function () {
                    return i(x).default
                }
            });
            var T = t("./graphics/GraphicsData");
            Object.defineProperty(r, "GraphicsData", {
                enumerable: !0,
                get: function () {
                    return i(T).default
                }
            });
            var w = t("./graphics/webgl/GraphicsRenderer");
            Object.defineProperty(r, "GraphicsRenderer", {
                enumerable: !0,
                get: function () {
                    return i(w).default
                }
            });
            var E = t("./graphics/canvas/CanvasGraphicsRenderer");
            Object.defineProperty(r, "CanvasGraphicsRenderer", {
                enumerable: !0,
                get: function () {
                    return i(E).default
                }
            });
            var S = t("./textures/Spritesheet");
            Object.defineProperty(r, "Spritesheet", {
                enumerable: !0,
                get: function () {
                    return i(S).default
                }
            });
            var O = t("./textures/Texture");
            Object.defineProperty(r, "Texture", {
                enumerable: !0,
                get: function () {
                    return i(O).default
                }
            });
            var M = t("./textures/TextureMatrix");
            Object.defineProperty(r, "TextureMatrix", {
                enumerable: !0,
                get: function () {
                    return i(M).default
                }
            });
            var P = t("./textures/BaseTexture");
            Object.defineProperty(r, "BaseTexture", {
                enumerable: !0,
                get: function () {
                    return i(P).default
                }
            });
            var C = t("./textures/RenderTexture");
            Object.defineProperty(r, "RenderTexture", {
                enumerable: !0,
                get: function () {
                    return i(C).default
                }
            });
            var R = t("./textures/BaseRenderTexture");
            Object.defineProperty(r, "BaseRenderTexture", {
                enumerable: !0,
                get: function () {
                    return i(R).default
                }
            });
            var A = t("./textures/VideoBaseTexture");
            Object.defineProperty(r, "VideoBaseTexture", {
                enumerable: !0,
                get: function () {
                    return i(A).default
                }
            });
            var I = t("./textures/TextureUvs");
            Object.defineProperty(r, "TextureUvs", {
                enumerable: !0,
                get: function () {
                    return i(I).default
                }
            });
            var D = t("./renderers/canvas/utils/CanvasRenderTarget");
            Object.defineProperty(r, "CanvasRenderTarget", {
                enumerable: !0,
                get: function () {
                    return i(D).default
                }
            });
            var L = t("./Shader");
            Object.defineProperty(r, "Shader", {
                enumerable: !0,
                get: function () {
                    return i(L).default
                }
            });
            var N = t("./renderers/webgl/managers/WebGLManager");
            Object.defineProperty(r, "WebGLManager", {
                enumerable: !0,
                get: function () {
                    return i(N).default
                }
            });
            var B = t("./renderers/webgl/utils/ObjectRenderer");
            Object.defineProperty(r, "ObjectRenderer", {
                enumerable: !0,
                get: function () {
                    return i(B).default
                }
            });
            var k = t("./renderers/webgl/utils/RenderTarget");
            Object.defineProperty(r, "RenderTarget", {
                enumerable: !0,
                get: function () {
                    return i(k).default
                }
            });
            var F = t("./renderers/webgl/utils/Quad");
            Object.defineProperty(r, "Quad", {
                enumerable: !0,
                get: function () {
                    return i(F).default
                }
            });
            var j = t("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");
            Object.defineProperty(r, "SpriteMaskFilter", {
                enumerable: !0,
                get: function () {
                    return i(j).default
                }
            });
            var U = t("./renderers/webgl/filters/Filter");
            Object.defineProperty(r, "Filter", {
                enumerable: !0,
                get: function () {
                    return i(U).default
                }
            });
            var X = t("./Application");
            Object.defineProperty(r, "Application", {
                enumerable: !0,
                get: function () {
                    return i(X).default
                }
            });
            var G = t("./autoDetectRenderer");
            Object.defineProperty(r, "autoDetectRenderer", {
                enumerable: !0,
                get: function () {
                    return G.autoDetectRenderer
                }
            });
            var W = t("./utils"),
                H = n(W),
                Y = t("./ticker"),
                V = n(Y),
                z = t("./settings"),
                q = i(z),
                K = t("./renderers/canvas/CanvasRenderer"),
                Z = i(K),
                J = t("./renderers/webgl/WebGLRenderer"),
                Q = i(J);
            r.settings = q.default, r.utils = H, r.ticker = V, r.CanvasRenderer = Z.default, r.WebGLRenderer = Q.default
        }, {
            "./Application": 43,
            "./Shader": 44,
            "./autoDetectRenderer": 45,
            "./const": 46,
            "./display/Bounds": 47,
            "./display/Container": 48,
            "./display/DisplayObject": 49,
            "./display/Transform": 50,
            "./display/TransformBase": 51,
            "./display/TransformStatic": 52,
            "./graphics/Graphics": 53,
            "./graphics/GraphicsData": 54,
            "./graphics/canvas/CanvasGraphicsRenderer": 55,
            "./graphics/webgl/GraphicsRenderer": 57,
            "./math": 70,
            "./renderers/canvas/CanvasRenderer": 77,
            "./renderers/canvas/utils/CanvasRenderTarget": 79,
            "./renderers/webgl/WebGLRenderer": 84,
            "./renderers/webgl/filters/Filter": 86,
            "./renderers/webgl/filters/spriteMask/SpriteMaskFilter": 89,
            "./renderers/webgl/managers/WebGLManager": 93,
            "./renderers/webgl/utils/ObjectRenderer": 94,
            "./renderers/webgl/utils/Quad": 95,
            "./renderers/webgl/utils/RenderTarget": 96,
            "./settings": 101,
            "./sprites/Sprite": 102,
            "./sprites/canvas/CanvasSpriteRenderer": 103,
            "./sprites/canvas/CanvasTinter": 104,
            "./sprites/webgl/SpriteRenderer": 106,
            "./text/Text": 108,
            "./text/TextMetrics": 109,
            "./text/TextStyle": 110,
            "./textures/BaseRenderTexture": 111,
            "./textures/BaseTexture": 112,
            "./textures/RenderTexture": 113,
            "./textures/Spritesheet": 114,
            "./textures/Texture": 115,
            "./textures/TextureMatrix": 116,
            "./textures/TextureUvs": 117,
            "./textures/VideoBaseTexture": 118,
            "./ticker": 121,
            "./utils": 125,
            "pixi-gl-core": 15
        }],
        66: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t < 0 ? -1 : t > 0 ? 1 : 0
            }
            r.__esModule = !0;
            var i = t("./Matrix"),
                o = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(i),
                s = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1],
                a = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1],
                u = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1],
                h = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1],
                l = [],
                c = [];
            ! function () {
                for (var t = 0; t < 16; t++) {
                    var e = [];
                    c.push(e);
                    for (var r = 0; r < 16; r++)
                        for (var i = n(s[t] * s[r] + u[t] * a[r]), d = n(a[t] * s[r] + h[t] * a[r]), f = n(s[t] * u[r] + u[t] * h[r]), p = n(a[t] * u[r] + h[t] * h[r]), v = 0; v < 16; v++)
                            if (s[v] === i && a[v] === d && u[v] === f && h[v] === p) {
                                e.push(v);
                                break
                            }
                }
                for (var g = 0; g < 16; g++) {
                    var y = new o.default;
                    y.set(s[g], a[g], u[g], h[g], 0, 0), l.push(y)
                }
            }();
            var d = {
                E: 0,
                SE: 1,
                S: 2,
                SW: 3,
                W: 4,
                NW: 5,
                N: 6,
                NE: 7,
                MIRROR_VERTICAL: 8,
                MIRROR_HORIZONTAL: 12,
                uX: function (t) {
                    return s[t]
                },
                uY: function (t) {
                    return a[t]
                },
                vX: function (t) {
                    return u[t]
                },
                vY: function (t) {
                    return h[t]
                },
                inv: function (t) {
                    return 8 & t ? 15 & t : 7 & -t
                },
                add: function (t, e) {
                    return c[t][e]
                },
                sub: function (t, e) {
                    return c[t][d.inv(e)]
                },
                rotate180: function (t) {
                    return 4 ^ t
                },
                isVertical: function (t) {
                    return 2 == (3 & t)
                },
                byDirection: function (t, e) {
                    return 2 * Math.abs(t) <= Math.abs(e) ? e >= 0 ? d.S : d.N : 2 * Math.abs(e) <= Math.abs(t) ? t > 0 ? d.E : d.W : e > 0 ? t > 0 ? d.SE : d.SW : t > 0 ? d.NE : d.NW
                },
                matrixAppendRotationInv: function (t, e) {
                    var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                        n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                        i = l[d.inv(e)];
                    i.tx = r, i.ty = n, t.append(i)
                }
            };
            r.default = d
        }, {
            "./Matrix": 67
        }],
        67: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                o = t("./Point"),
                s = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(o),
                a = t("../const"),
                u = function () {
                    function t() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                            r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                            o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1,
                            s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
                            a = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0;
                        n(this, t), this.a = e, this.b = r, this.c = i, this.d = o, this.tx = s, this.ty = a, this.array = null
                    }
                    return t.prototype.fromArray = function (t) {
                        this.a = t[0], this.b = t[1], this.c = t[3], this.d = t[4], this.tx = t[2], this.ty = t[5]
                    }, t.prototype.set = function (t, e, r, n, i, o) {
                        return this.a = t, this.b = e, this.c = r, this.d = n, this.tx = i, this.ty = o, this
                    }, t.prototype.toArray = function (t, e) {
                        this.array || (this.array = new Float32Array(9));
                        var r = e || this.array;
                        return t ? (r[0] = this.a, r[1] = this.b, r[2] = 0, r[3] = this.c, r[4] = this.d, r[5] = 0, r[6] = this.tx, r[7] = this.ty, r[8] = 1) : (r[0] = this.a, r[1] = this.c, r[2] = this.tx, r[3] = this.b, r[4] = this.d, r[5] = this.ty, r[6] = 0, r[7] = 0, r[8] = 1), r
                    }, t.prototype.apply = function (t, e) {
                        e = e || new s.default;
                        var r = t.x,
                            n = t.y;
                        return e.x = this.a * r + this.c * n + this.tx, e.y = this.b * r + this.d * n + this.ty, e
                    }, t.prototype.applyInverse = function (t, e) {
                        e = e || new s.default;
                        var r = 1 / (this.a * this.d + this.c * -this.b),
                            n = t.x,
                            i = t.y;
                        return e.x = this.d * r * n + -this.c * r * i + (this.ty * this.c - this.tx * this.d) * r, e.y = this.a * r * i + -this.b * r * n + (-this.ty * this.a + this.tx * this.b) * r, e
                    }, t.prototype.translate = function (t, e) {
                        return this.tx += t, this.ty += e, this
                    }, t.prototype.scale = function (t, e) {
                        return this.a *= t, this.d *= e, this.c *= t, this.b *= e, this.tx *= t, this.ty *= e, this
                    }, t.prototype.rotate = function (t) {
                        var e = Math.cos(t),
                            r = Math.sin(t),
                            n = this.a,
                            i = this.c,
                            o = this.tx;
                        return this.a = n * e - this.b * r, this.b = n * r + this.b * e, this.c = i * e - this.d * r, this.d = i * r + this.d * e, this.tx = o * e - this.ty * r, this.ty = o * r + this.ty * e, this
                    }, t.prototype.append = function (t) {
                        var e = this.a,
                            r = this.b,
                            n = this.c,
                            i = this.d;
                        return this.a = t.a * e + t.b * n, this.b = t.a * r + t.b * i, this.c = t.c * e + t.d * n, this.d = t.c * r + t.d * i, this.tx = t.tx * e + t.ty * n + this.tx, this.ty = t.tx * r + t.ty * i + this.ty, this
                    }, t.prototype.setTransform = function (t, e, r, n, i, o, s, a, u) {
                        return this.a = Math.cos(s + u) * i, this.b = Math.sin(s + u) * i, this.c = -Math.sin(s - a) * o, this.d = Math.cos(s - a) * o, this.tx = t - (r * this.a + n * this.c), this.ty = e - (r * this.b + n * this.d), this
                    }, t.prototype.prepend = function (t) {
                        var e = this.tx;
                        if (1 !== t.a || 0 !== t.b || 0 !== t.c || 1 !== t.d) {
                            var r = this.a,
                                n = this.c;
                            this.a = r * t.a + this.b * t.c, this.b = r * t.b + this.b * t.d, this.c = n * t.a + this.d * t.c, this.d = n * t.b + this.d * t.d
                        }
                        return this.tx = e * t.a + this.ty * t.c + t.tx, this.ty = e * t.b + this.ty * t.d + t.ty, this
                    }, t.prototype.decompose = function (t) {
                        var e = this.a,
                            r = this.b,
                            n = this.c,
                            i = this.d,
                            o = -Math.atan2(-n, i),
                            s = Math.atan2(r, e),
                            u = Math.abs(o + s);
                        return u < 1e-5 || Math.abs(a.PI_2 - u) < 1e-5 ? (t.rotation = s, e < 0 && i >= 0 && (t.rotation += t.rotation <= 0 ? Math.PI : -Math.PI), t.skew.x = t.skew.y = 0) : (t.rotation = 0, t.skew.x = o, t.skew.y = s), t.scale.x = Math.sqrt(e * e + r * r), t.scale.y = Math.sqrt(n * n + i * i), t.position.x = this.tx, t.position.y = this.ty, t
                    }, t.prototype.invert = function () {
                        var t = this.a,
                            e = this.b,
                            r = this.c,
                            n = this.d,
                            i = this.tx,
                            o = t * n - e * r;
                        return this.a = n / o, this.b = -e / o, this.c = -r / o, this.d = t / o, this.tx = (r * this.ty - n * i) / o, this.ty = -(t * this.ty - e * i) / o, this
                    }, t.prototype.identity = function () {
                        return this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.tx = 0, this.ty = 0, this
                    }, t.prototype.clone = function () {
                        var e = new t;
                        return e.a = this.a, e.b = this.b, e.c = this.c, e.d = this.d, e.tx = this.tx, e.ty = this.ty, e
                    }, t.prototype.copy = function (t) {
                        return t.a = this.a, t.b = this.b, t.c = this.c, t.d = this.d, t.tx = this.tx, t.ty = this.ty, t
                    }, i(t, null, [{
                        key: "IDENTITY",
                        get: function () {
                            return new t
                        }
                    }, {
                        key: "TEMP_MATRIX",
                        get: function () {
                            return new t
                        }
                    }]), t
                }();
            r.default = u
        }, {
            "../const": 46,
            "./Point": 69
        }],
        68: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                o = function () {
                    function t(e, r) {
                        var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                            o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                        n(this, t), this._x = i, this._y = o, this.cb = e, this.scope = r
                    }
                    return t.prototype.clone = function () {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                            r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                        return new t(e || this.cb, r || this.scope, this._x, this._y)
                    }, t.prototype.set = function (t, e) {
                        var r = t || 0,
                            n = e || (0 !== e ? r : 0);
                        this._x === r && this._y === n || (this._x = r, this._y = n, this.cb.call(this.scope))
                    }, t.prototype.copy = function (t) {
                        this._x === t.x && this._y === t.y || (this._x = t.x, this._y = t.y, this.cb.call(this.scope))
                    }, t.prototype.equals = function (t) {
                        return t.x === this._x && t.y === this._y
                    }, i(t, [{
                        key: "x",
                        get: function () {
                            return this._x
                        },
                        set: function (t) {
                            this._x !== t && (this._x = t, this.cb.call(this.scope))
                        }
                    }, {
                        key: "y",
                        get: function () {
                            return this._y
                        },
                        set: function (t) {
                            this._y !== t && (this._y = t, this.cb.call(this.scope))
                        }
                    }]), t
                }();
            r.default = o
        }, {}],
        69: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                function t() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                        r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    n(this, t), this.x = e, this.y = r
                }
                return t.prototype.clone = function () {
                    return new t(this.x, this.y)
                }, t.prototype.copy = function (t) {
                    this.set(t.x, t.y)
                }, t.prototype.equals = function (t) {
                    return t.x === this.x && t.y === this.y
                }, t.prototype.set = function (t, e) {
                    this.x = t || 0, this.y = e || (0 !== e ? this.x : 0)
                }, t
            }();
            r.default = i
        }, {}],
        70: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            r.__esModule = !0;
            var i = t("./Point");
            Object.defineProperty(r, "Point", {
                enumerable: !0,
                get: function () {
                    return n(i).default
                }
            });
            var o = t("./ObservablePoint");
            Object.defineProperty(r, "ObservablePoint", {
                enumerable: !0,
                get: function () {
                    return n(o).default
                }
            });
            var s = t("./Matrix");
            Object.defineProperty(r, "Matrix", {
                enumerable: !0,
                get: function () {
                    return n(s).default
                }
            });
            var a = t("./GroupD8");
            Object.defineProperty(r, "GroupD8", {
                enumerable: !0,
                get: function () {
                    return n(a).default
                }
            });
            var u = t("./shapes/Circle");
            Object.defineProperty(r, "Circle", {
                enumerable: !0,
                get: function () {
                    return n(u).default
                }
            });
            var h = t("./shapes/Ellipse");
            Object.defineProperty(r, "Ellipse", {
                enumerable: !0,
                get: function () {
                    return n(h).default
                }
            });
            var l = t("./shapes/Polygon");
            Object.defineProperty(r, "Polygon", {
                enumerable: !0,
                get: function () {
                    return n(l).default
                }
            });
            var c = t("./shapes/Rectangle");
            Object.defineProperty(r, "Rectangle", {
                enumerable: !0,
                get: function () {
                    return n(c).default
                }
            });
            var d = t("./shapes/RoundedRectangle");
            Object.defineProperty(r, "RoundedRectangle", {
                enumerable: !0,
                get: function () {
                    return n(d).default
                }
            })
        }, {
            "./GroupD8": 66,
            "./Matrix": 67,
            "./ObservablePoint": 68,
            "./Point": 69,
            "./shapes/Circle": 71,
            "./shapes/Ellipse": 72,
            "./shapes/Polygon": 73,
            "./shapes/Rectangle": 74,
            "./shapes/RoundedRectangle": 75
        }],
        71: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("./Rectangle"),
                o = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(i),
                s = t("../../const"),
                a = function () {
                    function t() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                        n(this, t), this.x = e, this.y = r, this.radius = i, this.type = s.SHAPES.CIRC
                    }
                    return t.prototype.clone = function () {
                        return new t(this.x, this.y, this.radius)
                    }, t.prototype.contains = function (t, e) {
                        if (this.radius <= 0) return !1;
                        var r = this.radius * this.radius,
                            n = this.x - t,
                            i = this.y - e;
                        return n *= n, i *= i, n + i <= r
                    }, t.prototype.getBounds = function () {
                        return new o.default(this.x - this.radius, this.y - this.radius, 2 * this.radius, 2 * this.radius)
                    }, t
                }();
            r.default = a
        }, {
            "../../const": 46,
            "./Rectangle": 74
        }],
        72: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("./Rectangle"),
                o = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(i),
                s = t("../../const"),
                a = function () {
                    function t() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                            o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                        n(this, t), this.x = e, this.y = r, this.width = i, this.height = o, this.type = s.SHAPES.ELIP
                    }
                    return t.prototype.clone = function () {
                        return new t(this.x, this.y, this.width, this.height)
                    }, t.prototype.contains = function (t, e) {
                        if (this.width <= 0 || this.height <= 0) return !1;
                        var r = (t - this.x) / this.width,
                            n = (e - this.y) / this.height;
                        return r *= r, n *= n, r + n <= 1
                    }, t.prototype.getBounds = function () {
                        return new o.default(this.x - this.width, this.y - this.height, this.width, this.height)
                    }, t
                }();
            r.default = a
        }, {
            "../../const": 46,
            "./Rectangle": 74
        }],
        73: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("../Point"),
                o = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(i),
                s = t("../../const"),
                a = function () {
                    function t() {
                        for (var e = arguments.length, r = Array(e), i = 0; i < e; i++) r[i] = arguments[i];
                        if (n(this, t), Array.isArray(r[0]) && (r = r[0]), r[0] instanceof o.default) {
                            for (var a = [], u = 0, h = r.length; u < h; u++) a.push(r[u].x, r[u].y);
                            r = a
                        }
                        this.closed = !0, this.points = r, this.type = s.SHAPES.POLY
                    }
                    return t.prototype.clone = function () {
                        return new t(this.points.slice())
                    }, t.prototype.close = function () {
                        var t = this.points;
                        t[0] === t[t.length - 2] && t[1] === t[t.length - 1] || t.push(t[0], t[1])
                    }, t.prototype.contains = function (t, e) {
                        for (var r = !1, n = this.points.length / 2, i = 0, o = n - 1; i < n; o = i++) {
                            var s = this.points[2 * i],
                                a = this.points[2 * i + 1],
                                u = this.points[2 * o],
                                h = this.points[2 * o + 1];
                            a > e != h > e && t < (e - a) / (h - a) * (u - s) + s && (r = !r)
                        }
                        return r
                    }, t
                }();
            r.default = a
        }, {
            "../../const": 46,
            "../Point": 69
        }],
        74: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                o = t("../../const"),
                s = function () {
                    function t() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                            s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                        n(this, t), this.x = Number(e), this.y = Number(r), this.width = Number(i), this.height = Number(s), this.type = o.SHAPES.RECT
                    }
                    return t.prototype.clone = function () {
                        return new t(this.x, this.y, this.width, this.height)
                    }, t.prototype.copy = function (t) {
                        return this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height, this
                    }, t.prototype.contains = function (t, e) {
                        return !(this.width <= 0 || this.height <= 0) && (t >= this.x && t < this.x + this.width && e >= this.y && e < this.y + this.height)
                    }, t.prototype.pad = function (t, e) {
                        t = t || 0, e = e || (0 !== e ? t : 0), this.x -= t, this.y -= e, this.width += 2 * t, this.height += 2 * e
                    }, t.prototype.fit = function (t) {
                        var e = Math.max(this.x, t.x),
                            r = Math.min(this.x + this.width, t.x + t.width),
                            n = Math.max(this.y, t.y),
                            i = Math.min(this.y + this.height, t.y + t.height);
                        this.x = e, this.width = Math.max(r - e, 0), this.y = n, this.height = Math.max(i - n, 0)
                    }, t.prototype.enlarge = function (t) {
                        var e = Math.min(this.x, t.x),
                            r = Math.max(this.x + this.width, t.x + t.width),
                            n = Math.min(this.y, t.y),
                            i = Math.max(this.y + this.height, t.y + t.height);
                        this.x = e, this.width = r - e, this.y = n, this.height = i - n
                    }, t.prototype.ceil = function () {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : .001,
                            r = Math.ceil((this.x + this.width - e) * t) / t,
                            n = Math.ceil((this.y + this.height - e) * t) / t;
                        this.x = Math.floor((this.x + e) * t) / t, this.y = Math.floor((this.y + e) * t) / t, this.width = r - this.x, this.height = n - this.y
                    }, i(t, [{
                        key: "left",
                        get: function () {
                            return this.x
                        }
                    }, {
                        key: "right",
                        get: function () {
                            return this.x + this.width
                        }
                    }, {
                        key: "top",
                        get: function () {
                            return this.y
                        }
                    }, {
                        key: "bottom",
                        get: function () {
                            return this.y + this.height
                        }
                    }], [{
                        key: "EMPTY",
                        get: function () {
                            return new t(0, 0, 0, 0)
                        }
                    }]), t
                }();
            r.default = s
        }, {
            "../../const": 46
        }],
        75: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("../../const"),
                o = function () {
                    function t() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                            s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                            a = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 20;
                        n(this, t), this.x = e, this.y = r, this.width = o, this.height = s, this.radius = a, this.type = i.SHAPES.RREC
                    }
                    return t.prototype.clone = function () {
                        return new t(this.x, this.y, this.width, this.height, this.radius)
                    }, t.prototype.contains = function (t, e) {
                        if (this.width <= 0 || this.height <= 0) return !1;
                        if (t >= this.x && t <= this.x + this.width && e >= this.y && e <= this.y + this.height) {
                            if (e >= this.y + this.radius && e <= this.y + this.height - this.radius || t >= this.x + this.radius && t <= this.x + this.width - this.radius) return !0;
                            var r = t - (this.x + this.radius),
                                n = e - (this.y + this.radius),
                                i = this.radius * this.radius;
                            if (r * r + n * n <= i) return !0;
                            if ((r = t - (this.x + this.width - this.radius)) * r + n * n <= i) return !0;
                            if (n = e - (this.y + this.height - this.radius), r * r + n * n <= i) return !0;
                            if ((r = t - (this.x + this.radius)) * r + n * n <= i) return !0
                        }
                        return !1
                    }, t
                }();
            r.default = o
        }, {
            "../../const": 46
        }],
        76: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                u = t("../utils"),
                h = t("../math"),
                l = t("../const"),
                c = t("../settings"),
                d = n(c),
                f = t("../display/Container"),
                p = n(f),
                v = t("../textures/RenderTexture"),
                g = n(v),
                y = t("eventemitter3"),
                m = n(y),
                _ = new h.Matrix,
                b = function (t) {
                    function e(r, n, s, a) {
                        i(this, e);
                        var c = o(this, t.call(this));
                        return (0, u.sayHello)(r), "number" == typeof n && (n = Object.assign({
                            width: n,
                            height: s || d.default.RENDER_OPTIONS.height
                        }, a)), n = Object.assign({}, d.default.RENDER_OPTIONS, n), c.options = n, c.type = l.RENDERER_TYPE.UNKNOWN, c.screen = new h.Rectangle(0, 0, n.width, n.height), c.view = n.view || document.createElement("canvas"), c.resolution = n.resolution || d.default.RESOLUTION, c.transparent = n.transparent, c.autoResize = n.autoResize || !1, c.blendModes = null, c.preserveDrawingBuffer = n.preserveDrawingBuffer, c.clearBeforeRender = n.clearBeforeRender, c.roundPixels = n.roundPixels, c._backgroundColor = 0, c._backgroundColorRgba = [0, 0, 0, 0], c._backgroundColorString = "#000000", c.backgroundColor = n.backgroundColor || c._backgroundColor, c._tempDisplayObjectParent = new p.default, c._lastObjectRendered = c._tempDisplayObjectParent, c
                    }
                    return s(e, t), e.prototype.resize = function (t, e) {
                        this.screen.width = t, this.screen.height = e, this.view.width = t * this.resolution, this.view.height = e * this.resolution, this.autoResize && (this.view.style.width = t + "px", this.view.style.height = e + "px")
                    }, e.prototype.generateTexture = function (t, e, r, n) {
                        n = n || t.getLocalBounds();
                        var i = g.default.create(0 | n.width, 0 | n.height, e, r);
                        return _.tx = -n.x, _.ty = -n.y, this.render(t, i, !1, _, !!t.parent), i
                    }, e.prototype.destroy = function (t) {
                        t && this.view.parentNode && this.view.parentNode.removeChild(this.view), this.type = l.RENDERER_TYPE.UNKNOWN, this.view = null, this.screen = null, this.resolution = 0, this.transparent = !1, this.autoResize = !1, this.blendModes = null, this.options = null, this.preserveDrawingBuffer = !1, this.clearBeforeRender = !1, this.roundPixels = !1, this._backgroundColor = 0, this._backgroundColorRgba = null, this._backgroundColorString = null, this._tempDisplayObjectParent = null, this._lastObjectRendered = null
                    }, a(e, [{
                        key: "width",
                        get: function () {
                            return this.view.width
                        }
                    }, {
                        key: "height",
                        get: function () {
                            return this.view.height
                        }
                    }, {
                        key: "backgroundColor",
                        get: function () {
                            return this._backgroundColor
                        },
                        set: function (t) {
                            this._backgroundColor = t, this._backgroundColorString = (0, u.hex2string)(t), (0, u.hex2rgb)(t, this._backgroundColorRgba)
                        }
                    }]), e
                }(m.default);
            r.default = b
        }, {
            "../const": 46,
            "../display/Container": 48,
            "../math": 70,
            "../settings": 101,
            "../textures/RenderTexture": 113,
            "../utils": 125,
            eventemitter3: 3
        }],
        77: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = t("../SystemRenderer"),
                u = n(a),
                h = t("./utils/CanvasMaskManager"),
                l = n(h),
                c = t("./utils/CanvasRenderTarget"),
                d = n(c),
                f = t("./utils/mapCanvasBlendModesToPixi"),
                p = n(f),
                v = t("../../utils"),
                g = t("../../const"),
                y = t("../../settings"),
                m = n(y),
                _ = function (t) {
                    function e(r, n, s) {
                        i(this, e);
                        var a = o(this, t.call(this, "Canvas", r, n, s));
                        return a.type = g.RENDERER_TYPE.CANVAS, a.rootContext = a.view.getContext("2d", {
                            alpha: a.transparent
                        }), a.context = a.rootContext, a.refresh = !0, a.maskManager = new l.default(a), a.smoothProperty = "imageSmoothingEnabled", a.rootContext.imageSmoothingEnabled || (a.rootContext.webkitImageSmoothingEnabled ? a.smoothProperty = "webkitImageSmoothingEnabled" : a.rootContext.mozImageSmoothingEnabled ? a.smoothProperty = "mozImageSmoothingEnabled" : a.rootContext.oImageSmoothingEnabled ? a.smoothProperty = "oImageSmoothingEnabled" : a.rootContext.msImageSmoothingEnabled && (a.smoothProperty = "msImageSmoothingEnabled")), a.initPlugins(), a.blendModes = (0, p.default)(), a._activeBlendMode = null, a.renderingToScreen = !1, a.resize(a.options.width, a.options.height), a
                    }
                    return s(e, t), e.prototype.render = function (t, e, r, n, i) {
                        if (this.view) {
                            this.renderingToScreen = !e, this.emit("prerender");
                            var o = this.resolution;
                            e ? (e = e.baseTexture || e, e._canvasRenderTarget || (e._canvasRenderTarget = new d.default(e.width, e.height, e.resolution), e.source = e._canvasRenderTarget.canvas, e.valid = !0), this.context = e._canvasRenderTarget.context, this.resolution = e._canvasRenderTarget.resolution) : this.context = this.rootContext;
                            var s = this.context;
                            if (e || (this._lastObjectRendered = t), !i) {
                                var a = t.parent,
                                    u = this._tempDisplayObjectParent.transform.worldTransform;
                                n ? (n.copy(u), this._tempDisplayObjectParent.transform._worldID = -1) : u.identity(), t.parent = this._tempDisplayObjectParent, t.updateTransform(), t.parent = a
                            }
                            s.save(), s.setTransform(1, 0, 0, 1, 0, 0), s.globalAlpha = 1, this._activeBlendMode = g.BLEND_MODES.NORMAL, s.globalCompositeOperation = this.blendModes[g.BLEND_MODES.NORMAL], navigator.isCocoonJS && this.view.screencanvas && (s.fillStyle = "black", s.clear()),
                                (void 0 !== r ? r : this.clearBeforeRender) && this.renderingToScreen && (this.transparent ? s.clearRect(0, 0, this.width, this.height) : (s.fillStyle = this._backgroundColorString, s.fillRect(0, 0, this.width, this.height)));
                            var h = this.context;
                            this.context = s, t.renderCanvas(this), this.context = h, s.restore(), this.resolution = o, this.emit("postrender")
                        }
                    }, e.prototype.clear = function (t) {
                        var e = this.context;
                        t = t || this._backgroundColorString, !this.transparent && t ? (e.fillStyle = t, e.fillRect(0, 0, this.width, this.height)) : e.clearRect(0, 0, this.width, this.height)
                    }, e.prototype.setBlendMode = function (t) {
                        this._activeBlendMode !== t && (this._activeBlendMode = t, this.context.globalCompositeOperation = this.blendModes[t])
                    }, e.prototype.destroy = function (e) {
                        this.destroyPlugins(), t.prototype.destroy.call(this, e), this.context = null, this.refresh = !0, this.maskManager.destroy(), this.maskManager = null, this.smoothProperty = null
                    }, e.prototype.resize = function (e, r) {
                        t.prototype.resize.call(this, e, r), this.smoothProperty && (this.rootContext[this.smoothProperty] = m.default.SCALE_MODE === g.SCALE_MODES.LINEAR)
                    }, e.prototype.invalidateBlendMode = function () {
                        this._activeBlendMode = this.blendModes.indexOf(this.context.globalCompositeOperation)
                    }, e
                }(u.default);
            r.default = _, v.pluginTarget.mixin(_)
        }, {
            "../../const": 46,
            "../../settings": 101,
            "../../utils": 125,
            "../SystemRenderer": 76,
            "./utils/CanvasMaskManager": 78,
            "./utils/CanvasRenderTarget": 79,
            "./utils/mapCanvasBlendModesToPixi": 81
        }],
        78: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("../../../const"),
                o = function () {
                    function t(e) {
                        n(this, t), this.renderer = e
                    }
                    return t.prototype.pushMask = function (t) {
                        var e = this.renderer;
                        e.context.save();
                        var r = t.alpha,
                            n = t.transform.worldTransform,
                            i = e.resolution;
                        e.context.setTransform(n.a * i, n.b * i, n.c * i, n.d * i, n.tx * i, n.ty * i), t._texture || (this.renderGraphicsShape(t), e.context.clip()), t.worldAlpha = r
                    }, t.prototype.renderGraphicsShape = function (t) {
                        var e = this.renderer.context,
                            r = t.graphicsData.length;
                        if (0 !== r) {
                            e.beginPath();
                            for (var n = 0; n < r; n++) {
                                var o = t.graphicsData[n],
                                    s = o.shape;
                                if (o.type === i.SHAPES.POLY) {
                                    var a = s.points,
                                        u = o.holes,
                                        h = void 0,
                                        l = void 0;
                                    e.moveTo(a[0], a[1]);
                                    for (var c = 2; c < a.length; c += 2) e.lineTo(a[c], a[c + 1]);
                                    if (a[0] === a[a.length - 2] && a[1] === a[a.length - 1] && e.closePath(), u.length > 0) {
                                        h = 0;
                                        for (var d = 0; d < a.length; d += 2) h += a[d] * a[d + 3] - a[d + 1] * a[d + 2];
                                        for (var f = 0; f < u.length; f++) {
                                            a = u[f].points, l = 0;
                                            for (var p = 0; p < a.length; p += 2) l += a[p] * a[p + 3] - a[p + 1] * a[p + 2];
                                            if (e.moveTo(a[0], a[1]), l * h < 0)
                                                for (var v = 2; v < a.length; v += 2) e.lineTo(a[v], a[v + 1]);
                                            else
                                                for (var g = a.length - 2; g >= 2; g -= 2) e.lineTo(a[g], a[g + 1])
                                        }
                                    }
                                } else if (o.type === i.SHAPES.RECT) e.rect(s.x, s.y, s.width, s.height), e.closePath();
                                else if (o.type === i.SHAPES.CIRC) e.arc(s.x, s.y, s.radius, 0, 2 * Math.PI), e.closePath();
                                else if (o.type === i.SHAPES.ELIP) {
                                    var y = 2 * s.width,
                                        m = 2 * s.height,
                                        _ = s.x - y / 2,
                                        b = s.y - m / 2,
                                        x = y / 2 * .5522848,
                                        T = m / 2 * .5522848,
                                        w = _ + y,
                                        E = b + m,
                                        S = _ + y / 2,
                                        O = b + m / 2;
                                    e.moveTo(_, O), e.bezierCurveTo(_, O - T, S - x, b, S, b), e.bezierCurveTo(S + x, b, w, O - T, w, O), e.bezierCurveTo(w, O + T, S + x, E, S, E), e.bezierCurveTo(S - x, E, _, O + T, _, O), e.closePath()
                                } else if (o.type === i.SHAPES.RREC) {
                                    var M = s.x,
                                        P = s.y,
                                        C = s.width,
                                        R = s.height,
                                        A = s.radius,
                                        I = Math.min(C, R) / 2 | 0;
                                    A = A > I ? I : A, e.moveTo(M, P + A), e.lineTo(M, P + R - A), e.quadraticCurveTo(M, P + R, M + A, P + R), e.lineTo(M + C - A, P + R), e.quadraticCurveTo(M + C, P + R, M + C, P + R - A), e.lineTo(M + C, P + A), e.quadraticCurveTo(M + C, P, M + C - A, P), e.lineTo(M + A, P), e.quadraticCurveTo(M, P, M, P + A), e.closePath()
                                }
                            }
                        }
                    }, t.prototype.popMask = function (t) {
                        t.context.restore(), t.invalidateBlendMode()
                    }, t.prototype.destroy = function () {}, t
                }();
            r.default = o
        }, {
            "../../../const": 46
        }],
        79: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                o = t("../../../settings"),
                s = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(o),
                a = function () {
                    function t(e, r, i) {
                        n(this, t), this.canvas = document.createElement("canvas"), this.context = this.canvas.getContext("2d"), this.resolution = i || s.default.RESOLUTION, this.resize(e, r)
                    }
                    return t.prototype.clear = function () {
                        this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)
                    }, t.prototype.resize = function (t, e) {
                        this.canvas.width = t * this.resolution, this.canvas.height = e * this.resolution
                    }, t.prototype.destroy = function () {
                        this.context = null, this.canvas = null
                    }, i(t, [{
                        key: "width",
                        get: function () {
                            return this.canvas.width
                        },
                        set: function (t) {
                            this.canvas.width = t
                        }
                    }, {
                        key: "height",
                        get: function () {
                            return this.canvas.height
                        },
                        set: function (t) {
                            this.canvas.height = t
                        }
                    }]), t
                }();
            r.default = a
        }, {
            "../../../settings": 101
        }],
        80: [function (t, e, r) {
            "use strict";
            function n(t) {
                var e = document.createElement("canvas");
                e.width = 6, e.height = 1;
                var r = e.getContext("2d");
                return r.fillStyle = t, r.fillRect(0, 0, 6, 1), e
            }
            function i() {
                if ("undefined" == typeof document) return !1;
                var t = n("#ff00ff"),
                    e = n("#ffff00"),
                    r = document.createElement("canvas");
                r.width = 6, r.height = 1;
                var i = r.getContext("2d");
                i.globalCompositeOperation = "multiply", i.drawImage(t, 0, 0), i.drawImage(e, 2, 0);
                var o = i.getImageData(2, 0, 1, 1);
                if (!o) return !1;
                var s = o.data;
                return 255 === s[0] && 0 === s[1] && 0 === s[2]
            }
            r.__esModule = !0, r.default = i
        }, {}],
        81: [function (t, e, r) {
            "use strict";
            function n() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                return (0, s.default)() ? (t[i.BLEND_MODES.NORMAL] = "source-over", t[i.BLEND_MODES.ADD] = "lighter", t[i.BLEND_MODES.MULTIPLY] = "multiply", t[i.BLEND_MODES.SCREEN] = "screen", t[i.BLEND_MODES.OVERLAY] = "overlay", t[i.BLEND_MODES.DARKEN] = "darken", t[i.BLEND_MODES.LIGHTEN] = "lighten", t[i.BLEND_MODES.COLOR_DODGE] = "color-dodge", t[i.BLEND_MODES.COLOR_BURN] = "color-burn", t[i.BLEND_MODES.HARD_LIGHT] = "hard-light", t[i.BLEND_MODES.SOFT_LIGHT] = "soft-light", t[i.BLEND_MODES.DIFFERENCE] = "difference", t[i.BLEND_MODES.EXCLUSION] = "exclusion", t[i.BLEND_MODES.HUE] = "hue", t[i.BLEND_MODES.SATURATION] = "saturate", t[i.BLEND_MODES.COLOR] = "color", t[i.BLEND_MODES.LUMINOSITY] = "luminosity") : (t[i.BLEND_MODES.NORMAL] = "source-over", t[i.BLEND_MODES.ADD] = "lighter", t[i.BLEND_MODES.MULTIPLY] = "source-over", t[i.BLEND_MODES.SCREEN] = "source-over", t[i.BLEND_MODES.OVERLAY] = "source-over", t[i.BLEND_MODES.DARKEN] = "source-over", t[i.BLEND_MODES.LIGHTEN] = "source-over", t[i.BLEND_MODES.COLOR_DODGE] = "source-over", t[i.BLEND_MODES.COLOR_BURN] = "source-over", t[i.BLEND_MODES.HARD_LIGHT] = "source-over", t[i.BLEND_MODES.SOFT_LIGHT] = "source-over", t[i.BLEND_MODES.DIFFERENCE] = "source-over", t[i.BLEND_MODES.EXCLUSION] = "source-over", t[i.BLEND_MODES.HUE] = "source-over", t[i.BLEND_MODES.SATURATION] = "source-over", t[i.BLEND_MODES.COLOR] = "source-over", t[i.BLEND_MODES.LUMINOSITY] = "source-over"), t[i.BLEND_MODES.NORMAL_NPM] = t[i.BLEND_MODES.NORMAL], t[i.BLEND_MODES.ADD_NPM] = t[i.BLEND_MODES.ADD], t[i.BLEND_MODES.SCREEN_NPM] = t[i.BLEND_MODES.SCREEN], t
            }
            r.__esModule = !0, r.default = n;
            var i = t("../../../const"),
                o = t("./canUseNewCanvasBlendModes"),
                s = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(o)
        }, {
            "../../../const": 46,
            "./canUseNewCanvasBlendModes": 80
        }],
        82: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("../../const"),
                o = t("../../settings"),
                s = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(o),
                a = function () {
                    function t(e) {
                        n(this, t), this.renderer = e, this.count = 0, this.checkCount = 0, this.maxIdle = s.default.GC_MAX_IDLE, this.checkCountMax = s.default.GC_MAX_CHECK_COUNT, this.mode = s.default.GC_MODE
                    }
                    return t.prototype.update = function () {
                        this.count++, this.mode !== i.GC_MODES.MANUAL && ++this.checkCount > this.checkCountMax && (this.checkCount = 0, this.run())
                    }, t.prototype.run = function () {
                        for (var t = this.renderer.textureManager, e = t._managedTextures, r = !1, n = 0; n < e.length; n++) {
                            var i = e[n];
                            !i._glRenderTargets && this.count - i.touched > this.maxIdle && (t.destroyTexture(i, !0), e[n] = null, r = !0)
                        }
                        if (r) {
                            for (var o = 0, s = 0; s < e.length; s++) null !== e[s] && (e[o++] = e[s]);
                            e.length = o
                        }
                    }, t.prototype.unload = function (t) {
                        var e = this.renderer.textureManager;
                        t._texture && t._texture._glRenderTargets && e.destroyTexture(t._texture, !0);
                        for (var r = t.children.length - 1; r >= 0; r--) this.unload(t.children[r])
                    }, t
                }();
            r.default = a
        }, {
            "../../const": 46,
            "../../settings": 101
        }],
        83: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("pixi-gl-core"),
                o = t("../../const"),
                s = t("./utils/RenderTarget"),
                a = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(s),
                u = t("../../utils"),
                h = function () {
                    function t(e) {
                        n(this, t), this.renderer = e, this.gl = e.gl, this._managedTextures = []
                    }
                    return t.prototype.bindTexture = function () {}, t.prototype.getTexture = function () {}, t.prototype.updateTexture = function (t, e) {
                        var r = this.gl,
                            n = !!t._glRenderTargets;
                        if (!t.hasLoaded) return null;
                        var s = this.renderer.boundTextures;
                        if (void 0 === e) {
                            e = 0;
                            for (var u = 0; u < s.length; ++u)
                                if (s[u] === t) {
                                    e = u;
                                    break
                                }
                        }
                        s[e] = t, r.activeTexture(r.TEXTURE0 + e);
                        var h = t._glTextures[this.renderer.CONTEXT_UID];
                        if (h) n ? t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width, t.height) : h.upload(t.source);
                        else {
                            if (n) {
                                var l = new a.default(this.gl, t.width, t.height, t.scaleMode, t.resolution);
                                l.resize(t.width, t.height), t._glRenderTargets[this.renderer.CONTEXT_UID] = l, h = l.texture, this.renderer._activeRenderTarget.root || this.renderer._activeRenderTarget.frameBuffer.bind()
                            } else h = new i.GLTexture(this.gl, null, null, null, null), h.bind(e), h.premultiplyAlpha = !0, h.upload(t.source);
                            t._glTextures[this.renderer.CONTEXT_UID] = h, t.on("update", this.updateTexture, this), t.on("dispose", this.destroyTexture, this), this._managedTextures.push(t), t.isPowerOfTwo ? (t.mipmap && h.enableMipmap(), t.wrapMode === o.WRAP_MODES.CLAMP ? h.enableWrapClamp() : t.wrapMode === o.WRAP_MODES.REPEAT ? h.enableWrapRepeat() : h.enableWrapMirrorRepeat()) : h.enableWrapClamp(), t.scaleMode === o.SCALE_MODES.NEAREST ? h.enableNearestScaling() : h.enableLinearScaling()
                        }
                        return h
                    }, t.prototype.destroyTexture = function (t, e) {
                        if (t = t.baseTexture || t, t.hasLoaded) {
                            var r = this.renderer,
                                n = r.CONTEXT_UID,
                                i = t._glTextures,
                                o = t._glRenderTargets;
                            if (i[n] && (r.unbindTexture(t), i[n].destroy(), t.off("update", this.updateTexture, this), t.off("dispose", this.destroyTexture, this), delete i[n], !e)) {
                                var s = this._managedTextures.indexOf(t); - 1 !== s && (0, u.removeItems)(this._managedTextures, s, 1)
                            }
                            o && o[n] && (r._activeRenderTarget === o[n] && r.bindRenderTarget(r.rootRenderTarget), o[n].destroy(), delete o[n])
                        }
                    }, t.prototype.removeAll = function () {
                        for (var t = 0; t < this._managedTextures.length; ++t) {
                            var e = this._managedTextures[t];
                            e._glTextures[this.renderer.CONTEXT_UID] && delete e._glTextures[this.renderer.CONTEXT_UID]
                        }
                    }, t.prototype.destroy = function () {
                        for (var t = 0; t < this._managedTextures.length; ++t) {
                            var e = this._managedTextures[t];
                            this.destroyTexture(e, !0), e.off("update", this.updateTexture, this), e.off("dispose", this.destroyTexture, this)
                        }
                        this._managedTextures = null
                    }, t
                }();
            r.default = h
        }, {
            "../../const": 46,
            "../../utils": 125,
            "./utils/RenderTarget": 96,
            "pixi-gl-core": 15
        }],
        84: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = t("../SystemRenderer"),
                u = n(a),
                h = t("./managers/MaskManager"),
                l = n(h),
                c = t("./managers/StencilManager"),
                d = n(c),
                f = t("./managers/FilterManager"),
                p = n(f),
                v = t("./utils/RenderTarget"),
                g = n(v),
                y = t("./utils/ObjectRenderer"),
                m = n(y),
                _ = t("./TextureManager"),
                b = n(_),
                x = t("../../textures/BaseTexture"),
                T = n(x),
                w = t("./TextureGarbageCollector"),
                E = n(w),
                S = t("./WebGLState"),
                O = n(S),
                M = t("./utils/mapWebGLDrawModesToPixi"),
                P = n(M),
                C = t("./utils/validateContext"),
                R = n(C),
                A = t("../../utils"),
                I = t("pixi-gl-core"),
                D = n(I),
                L = t("../../const"),
                N = 0,
                B = function (t) {
                    function e(r, n, s) {
                        i(this, e);
                        var a = o(this, t.call(this, "WebGL", r, n, s));
                        return a.legacy = a.options.legacy, a.legacy && (D.default.VertexArrayObject.FORCE_NATIVE = !0), a.type = L.RENDERER_TYPE.WEBGL, a.handleContextLost = a.handleContextLost.bind(a), a.handleContextRestored = a.handleContextRestored.bind(a), a.view.addEventListener("webglcontextlost", a.handleContextLost, !1), a.view.addEventListener("webglcontextrestored", a.handleContextRestored, !1), a._contextOptions = {
                            alpha: a.transparent,
                            antialias: a.options.antialias,
                            premultipliedAlpha: a.transparent && "notMultiplied" !== a.transparent,
                            stencil: !0,
                            preserveDrawingBuffer: a.options.preserveDrawingBuffer,
                            powerPreference: a.options.powerPreference
                        }, a._backgroundColorRgba[3] = a.transparent ? 0 : 1, a.maskManager = new l.default(a), a.stencilManager = new d.default(a), a.emptyRenderer = new m.default(a), a.currentRenderer = a.emptyRenderer, a.textureManager = null, a.filterManager = null, a.initPlugins(), a.options.context && (0, R.default)(a.options.context), a.gl = a.options.context || D.default.createContext(a.view, a._contextOptions), a.CONTEXT_UID = N++, a.state = new O.default(a.gl), a.renderingToScreen = !0, a.boundTextures = null, a._activeShader = null, a._activeVao = null, a._activeRenderTarget = null, a._initContext(), a.drawModes = (0, P.default)(a.gl), a._nextTextureLocation = 0, a.setBlendMode(0), a
                    }
                    return s(e, t), e.prototype._initContext = function () {
                        var t = this.gl;
                        t.isContextLost() && t.getExtension("WEBGL_lose_context") && t.getExtension("WEBGL_lose_context").restoreContext();
                        var e = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);
                        this._activeShader = null, this._activeVao = null, this.boundTextures = new Array(e), this.emptyTextures = new Array(e), this._unknownBoundTextures = !1, this.textureManager = new b.default(this), this.filterManager = new p.default(this), this.textureGC = new E.default(this), this.state.resetToDefault(), this.rootRenderTarget = new g.default(t, this.width, this.height, null, this.resolution, !0), this.rootRenderTarget.clearColor = this._backgroundColorRgba, this.bindRenderTarget(this.rootRenderTarget);
                        var r = new D.default.GLTexture.fromData(t, null, 1, 1),
                            n = {
                                _glTextures: {}
                            };
                        n._glTextures[this.CONTEXT_UID] = {};
                        for (var i = 0; i < e; i++) {
                            var o = new T.default;
                            o._glTextures[this.CONTEXT_UID] = r, this.boundTextures[i] = n, this.emptyTextures[i] = o, this.bindTexture(null, i)
                        }
                        this.emit("context", t), this.resize(this.screen.width, this.screen.height)
                    }, e.prototype.render = function (t, e, r, n, i) {
                        if (this.renderingToScreen = !e, this.emit("prerender"), this.gl && !this.gl.isContextLost()) {
                            if (this._nextTextureLocation = 0, e || (this._lastObjectRendered = t), !i) {
                                var o = t.parent;
                                t.parent = this._tempDisplayObjectParent, t.updateTransform(), t.parent = o
                            }
                            this.bindRenderTexture(e, n), this.currentRenderer.start(), (void 0 !== r ? r : this.clearBeforeRender) && this._activeRenderTarget.clear(), t.renderWebGL(this), this.currentRenderer.flush(), this.textureGC.update(), this.emit("postrender")
                        }
                    }, e.prototype.setObjectRenderer = function (t) {
                        this.currentRenderer !== t && (this.currentRenderer.stop(), this.currentRenderer = t, this.currentRenderer.start())
                    }, e.prototype.flush = function () {
                        this.setObjectRenderer(this.emptyRenderer)
                    }, e.prototype.resize = function (t, e) {
                        u.default.prototype.resize.call(this, t, e), this.rootRenderTarget.resize(t, e), this._activeRenderTarget === this.rootRenderTarget && (this.rootRenderTarget.activate(), this._activeShader && (this._activeShader.uniforms.projectionMatrix = this.rootRenderTarget.projectionMatrix.toArray(!0)))
                    }, e.prototype.setBlendMode = function (t) {
                        this.state.setBlendMode(t)
                    }, e.prototype.clear = function (t) {
                        this._activeRenderTarget.clear(t)
                    }, e.prototype.setTransform = function (t) {
                        this._activeRenderTarget.transform = t
                    }, e.prototype.clearRenderTexture = function (t, e) {
                        var r = t.baseTexture,
                            n = r._glRenderTargets[this.CONTEXT_UID];
                        return n && n.clear(e), this
                    }, e.prototype.bindRenderTexture = function (t, e) {
                        var r = void 0;
                        if (t) {
                            var n = t.baseTexture;
                            n._glRenderTargets[this.CONTEXT_UID] || this.textureManager.updateTexture(n, 0), this.unbindTexture(n), r = n._glRenderTargets[this.CONTEXT_UID], r.setFrame(t.frame)
                        } else r = this.rootRenderTarget;
                        return r.transform = e, this.bindRenderTarget(r), this
                    }, e.prototype.bindRenderTarget = function (t) {
                        return t !== this._activeRenderTarget && (this._activeRenderTarget = t, t.activate(), this._activeShader && (this._activeShader.uniforms.projectionMatrix = t.projectionMatrix.toArray(!0)), this.stencilManager.setMaskStack(t.stencilMaskStack)), this
                    }, e.prototype.bindShader = function (t, e) {
                        return this._activeShader !== t && (this._activeShader = t, t.bind(), !1 !== e && (t.uniforms.projectionMatrix = this._activeRenderTarget.projectionMatrix.toArray(!0))), this
                    }, e.prototype.bindTexture = function (t, e, r) {
                        if (t = t || this.emptyTextures[e], t = t.baseTexture || t, t.touched = this.textureGC.count, r) e = e || 0;
                        else {
                            for (var n = 0; n < this.boundTextures.length; n++)
                                if (this.boundTextures[n] === t) return n;
                            void 0 === e && (this._nextTextureLocation++, this._nextTextureLocation %= this.boundTextures.length, e = this.boundTextures.length - this._nextTextureLocation - 1)
                        }
                        var i = this.gl,
                            o = t._glTextures[this.CONTEXT_UID];
                        return o ? (this.boundTextures[e] = t, i.activeTexture(i.TEXTURE0 + e), i.bindTexture(i.TEXTURE_2D, o.texture)) : this.textureManager.updateTexture(t, e), e
                    }, e.prototype.unbindTexture = function (t) {
                        var e = this.gl;
                        if (t = t.baseTexture || t, this._unknownBoundTextures) {
                            this._unknownBoundTextures = !1;
                            for (var r = 0; r < this.boundTextures.length; r++) this.boundTextures[r] === this.emptyTextures[r] && (e.activeTexture(e.TEXTURE0 + r), e.bindTexture(e.TEXTURE_2D, this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture))
                        }
                        for (var n = 0; n < this.boundTextures.length; n++) this.boundTextures[n] === t && (this.boundTextures[n] = this.emptyTextures[n], e.activeTexture(e.TEXTURE0 + n), e.bindTexture(e.TEXTURE_2D, this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));
                        return this
                    }, e.prototype.createVao = function () {
                        return new D.default.VertexArrayObject(this.gl, this.state.attribState)
                    }, e.prototype.bindVao = function (t) {
                        return this._activeVao === t ? this : (t ? t.bind() : this._activeVao && this._activeVao.unbind(), this._activeVao = t, this)
                    }, e.prototype.reset = function () {
                        this.setObjectRenderer(this.emptyRenderer), this.bindVao(null), this._activeShader = null, this._activeRenderTarget = this.rootRenderTarget, this._unknownBoundTextures = !0;
                        for (var t = 0; t < this.boundTextures.length; t++) this.boundTextures[t] = this.emptyTextures[t];
                        return this.rootRenderTarget.activate(), this.state.resetToDefault(), this
                    }, e.prototype.handleContextLost = function (t) {
                        t.preventDefault()
                    }, e.prototype.handleContextRestored = function () {
                        this.textureManager.removeAll(), this.filterManager.destroy(!0), this._initContext()
                    }, e.prototype.destroy = function (e) {
                        this.destroyPlugins(), this.view.removeEventListener("webglcontextlost", this.handleContextLost), this.view.removeEventListener("webglcontextrestored", this.handleContextRestored), this.textureManager.destroy(), t.prototype.destroy.call(this, e), this.uid = 0, this.maskManager.destroy(), this.stencilManager.destroy(), this.filterManager.destroy(), this.maskManager = null, this.filterManager = null, this.textureManager = null, this.currentRenderer = null, this.handleContextLost = null, this.handleContextRestored = null, this._contextOptions = null, this.gl.useProgram(null), this.gl.getExtension("WEBGL_lose_context") && this.gl.getExtension("WEBGL_lose_context").loseContext(), this.gl = null
                    }, e
                }(u.default);
            r.default = B, A.pluginTarget.mixin(B)
        }, {
            "../../const": 46,
            "../../textures/BaseTexture": 112,
            "../../utils": 125,
            "../SystemRenderer": 76,
            "./TextureGarbageCollector": 82,
            "./TextureManager": 83,
            "./WebGLState": 85,
            "./managers/FilterManager": 90,
            "./managers/MaskManager": 91,
            "./managers/StencilManager": 92,
            "./utils/ObjectRenderer": 94,
            "./utils/RenderTarget": 96,
            "./utils/mapWebGLDrawModesToPixi": 99,
            "./utils/validateContext": 100,
            "pixi-gl-core": 15
        }],
        85: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("./utils/mapWebGLBlendModesToPixi"),
                o = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(i),
                s = function () {
                    function t(e) {
                        n(this, t), this.activeState = new Uint8Array(16), this.defaultState = new Uint8Array(16), this.defaultState[0] = 1, this.stackIndex = 0, this.stack = [], this.gl = e, this.maxAttribs = e.getParameter(e.MAX_VERTEX_ATTRIBS), this.attribState = {
                            tempAttribState: new Array(this.maxAttribs),
                            attribState: new Array(this.maxAttribs)
                        }, this.blendModes = (0, o.default)(e), this.nativeVaoExtension = e.getExtension("OES_vertex_array_object") || e.getExtension("MOZ_OES_vertex_array_object") || e.getExtension("WEBKIT_OES_vertex_array_object")
                    }
                    return t.prototype.push = function () {
                        var t = this.stack[this.stackIndex];
                        t || (t = this.stack[this.stackIndex] = new Uint8Array(16)), ++this.stackIndex;
                        for (var e = 0; e < this.activeState.length; e++) t[e] = this.activeState[e]
                    }, t.prototype.pop = function () {
                        var t = this.stack[--this.stackIndex];
                        this.setState(t)
                    }, t.prototype.setState = function (t) {
                        this.setBlend(t[0]), this.setDepthTest(t[1]), this.setFrontFace(t[2]), this.setCullFace(t[3]), this.setBlendMode(t[4])
                    }, t.prototype.setBlend = function (t) {
                        t = t ? 1 : 0, this.activeState[0] !== t && (this.activeState[0] = t, this.gl[t ? "enable" : "disable"](this.gl.BLEND))
                    }, t.prototype.setBlendMode = function (t) {
                        if (t !== this.activeState[4]) {
                            this.activeState[4] = t;
                            var e = this.blendModes[t];
                            2 === e.length ? this.gl.blendFunc(e[0], e[1]) : this.gl.blendFuncSeparate(e[0], e[1], e[2], e[3])
                        }
                    }, t.prototype.setDepthTest = function (t) {
                        t = t ? 1 : 0, this.activeState[1] !== t && (this.activeState[1] = t, this.gl[t ? "enable" : "disable"](this.gl.DEPTH_TEST))
                    }, t.prototype.setCullFace = function (t) {
                        t = t ? 1 : 0, this.activeState[3] !== t && (this.activeState[3] = t, this.gl[t ? "enable" : "disable"](this.gl.CULL_FACE))
                    }, t.prototype.setFrontFace = function (t) {
                        t = t ? 1 : 0, this.activeState[2] !== t && (this.activeState[2] = t, this.gl.frontFace(this.gl[t ? "CW" : "CCW"]))
                    }, t.prototype.resetAttributes = function () {
                        for (var t = 0; t < this.attribState.tempAttribState.length; t++) this.attribState.tempAttribState[t] = 0;
                        for (var e = 0; e < this.attribState.attribState.length; e++) this.attribState.attribState[e] = 0;
                        for (var r = 1; r < this.maxAttribs; r++) this.gl.disableVertexAttribArray(r)
                    }, t.prototype.resetToDefault = function () {
                        this.nativeVaoExtension && this.nativeVaoExtension.bindVertexArrayOES(null), this.resetAttributes();
                        for (var t = 0; t < this.activeState.length; ++t) this.activeState[t] = 32;
                        this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1), this.setState(this.defaultState)
                    }, t
                }();
            r.default = s
        }, {
            "./utils/mapWebGLBlendModesToPixi": 98
        }],
        86: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var o = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                s = t("./extractUniformsFromSrc"),
                a = n(s),
                u = t("../../../utils"),
                h = t("../../../const"),
                l = t("../../../settings"),
                c = n(l),
                d = {},
                f = function () {
                    function t(e, r, n) {
                        i(this, t), this.vertexSrc = e || t.defaultVertexSrc, this.fragmentSrc = r || t.defaultFragmentSrc, this._blendMode = h.BLEND_MODES.NORMAL, this.uniformData = n || (0, a.default)(this.vertexSrc, this.fragmentSrc, "projectionMatrix|uSampler"), this.uniforms = {};
                        for (var o in this.uniformData) this.uniforms[o] = this.uniformData[o].value, this.uniformData[o].type && (this.uniformData[o].type = this.uniformData[o].type.toLowerCase());
                        this.glShaders = {}, d[this.vertexSrc + this.fragmentSrc] || (d[this.vertexSrc + this.fragmentSrc] = (0, u.uid)()), this.glShaderKey = d[this.vertexSrc + this.fragmentSrc], this.padding = 4, this.resolution = c.default.FILTER_RESOLUTION, this.enabled = !0, this.autoFit = !0
                    }
                    return t.prototype.apply = function (t, e, r, n, i) {
                        t.applyFilter(this, e, r, n)
                    }, o(t, [{
                        key: "blendMode",
                        get: function () {
                            return this._blendMode
                        },
                        set: function (t) {
                            this._blendMode = t
                        }
                    }], [{
                        key: "defaultVertexSrc",
                        get: function () {
                            return ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform mat3 projectionMatrix;", "uniform mat3 filterMatrix;", "varying vec2 vTextureCoord;", "varying vec2 vFilterCoord;", "void main(void){", "   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;", "   vTextureCoord = aTextureCoord ;", "}"].join("\n")
                        }
                    }, {
                        key: "defaultFragmentSrc",
                        get: function () {
                            return ["varying vec2 vTextureCoord;", "varying vec2 vFilterCoord;", "uniform sampler2D uSampler;", "uniform sampler2D filterSampler;", "void main(void){", "   vec4 masky = texture2D(filterSampler, vFilterCoord);", "   vec4 sample = texture2D(uSampler, vTextureCoord);", "   vec4 color;", "   if(mod(vFilterCoord.x, 1.0) > 0.5)", "   {", "     color = vec4(1.0, 0.0, 0.0, 1.0);", "   }", "   else", "   {", "     color = vec4(0.0, 1.0, 0.0, 1.0);", "   }", "   gl_FragColor = mix(sample, masky, 0.5);", "   gl_FragColor *= sample.a;", "}"].join("\n")
                        }
                    }]), t
                }();
            r.default = f
        }, {
            "../../../const": 46,
            "../../../settings": 101,
            "../../../utils": 125,
            "./extractUniformsFromSrc": 87
        }],
        87: [function (t, e, r) {
            "use strict";
            function n(t, e, r) {
                var n = i(t),
                    o = i(e);
                return Object.assign(n, o)
            }
            function i(t) {
                for (var e = new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"), r = {}, n = void 0, i = t.replace(/\s+/g, " ").split(/\s*;\s*/), o = 0; o < i.length; o++) {
                    var s = i[o].trim();
                    if (s.indexOf("uniform") > -1) {
                        var u = s.split(" "),
                            h = u[1],
                            l = u[2],
                            c = 1;
                        l.indexOf("[") > -1 && (n = l.split(/\[|]/), l = n[0], c *= Number(n[1])), l.match(e) || (r[l] = {
                            value: a(h, c),
                            name: l,
                            type: h
                        })
                    }
                }
                return r
            }
            r.__esModule = !0, r.default = n;
            var o = t("pixi-gl-core"),
                s = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(o),
                a = s.default.shader.defaultValue
        }, {
            "pixi-gl-core": 15
        }],
        88: [function (t, e, r) {
            "use strict";
            function n(t, e, r) {
                var n = t.identity();
                return n.translate(e.x / r.width, e.y / r.height), n.scale(r.width, r.height), n
            }
            function i(t, e, r) {
                var n = t.identity();
                n.translate(e.x / r.width, e.y / r.height);
                var i = r.width / e.width,
                    o = r.height / e.height;
                return n.scale(i, o), n
            }
            function o(t, e, r, n) {
                var i = n._texture.orig,
                    o = t.set(r.width, 0, 0, r.height, e.x, e.y),
                    a = n.worldTransform.copy(s.Matrix.TEMP_MATRIX);
                return a.invert(), o.prepend(a), o.scale(1 / i.width, 1 / i.height), o.translate(n.anchor.x, n.anchor.y), o
            }
            r.__esModule = !0, r.calculateScreenSpaceMatrix = n, r.calculateNormalizedScreenSpaceMatrix = i, r.calculateSpriteMatrix = o;
            var s = t("../../../math")
        }, {
            "../../../math": 70
        }],
        89: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = t("../Filter"),
                u = n(a),
                h = t("../../../../math"),
                l = (t("path"), t("../../../../textures/TextureMatrix")),
                c = n(l),
                d = function (t) {
                    function e(r) {
                        i(this, e);
                        var n = new h.Matrix,
                            s = o(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n", "varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));
                        return r.renderable = !1, s.maskSprite = r, s.maskMatrix = n, s
                    }
                    return s(e, t), e.prototype.apply = function (t, e, r, n) {
                        var i = this.maskSprite,
                            o = this.maskSprite.texture;
                        o.valid && (o.transform || (o.transform = new c.default(o, 0)), o.transform.update(), this.uniforms.mask = o, this.uniforms.otherMatrix = t.calculateSpriteMatrix(this.maskMatrix, i).prepend(o.transform.mapCoord), this.uniforms.alpha = i.worldAlpha, this.uniforms.maskClamp = o.transform.uClampFrame, t.applyFilter(this, e, r, n))
                    }, e
                }(u.default);
            r.default = d
        }, {
            "../../../../math": 70,
            "../../../../textures/TextureMatrix": 116,
            "../Filter": 86,
            path: 8
        }],
        90: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            function s(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var a = t("./WebGLManager"),
                u = n(a),
                h = t("../utils/RenderTarget"),
                l = n(h),
                c = t("../utils/Quad"),
                d = n(c),
                f = t("../../../math"),
                p = t("../../../Shader"),
                v = n(p),
                g = t("../filters/filterTransforms"),
                y = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(g),
                m = t("bit-twiddle"),
                _ = n(m),
                b = function () {
                    function t() {
                        s(this, t), this.renderTarget = null, this.target = null, this.resolution = 1, this.sourceFrame = new f.Rectangle, this.destinationFrame = new f.Rectangle, this.filters = []
                    }
                    return t.prototype.clear = function () {
                        this.filters = null, this.target = null, this.renderTarget = null
                    }, t
                }(),
                x = function (t) {
                    function e(r) {
                        s(this, e);
                        var n = i(this, t.call(this, r));
                        return n.gl = n.renderer.gl, n.quad = new d.default(n.gl, r.state.attribState), n.shaderCache = {}, n.pool = {}, n.filterData = null, n.managedFilters = [], n.renderer.on("prerender", n.onPrerender, n), n._screenWidth = r.view.width, n._screenHeight = r.view.height, n
                    }
                    return o(e, t), e.prototype.pushFilter = function (t, e) {
                        var r = this.renderer,
                            n = this.filterData;
                        if (!n) {
                            n = this.renderer._activeRenderTarget.filterStack;
                            var i = new b;
                            i.sourceFrame = i.destinationFrame = this.renderer._activeRenderTarget.size, i.renderTarget = r._activeRenderTarget, this.renderer._activeRenderTarget.filterData = n = {
                                index: 0,
                                stack: [i]
                            }, this.filterData = n
                        }
                        var o = n.stack[++n.index],
                            s = n.stack[0].destinationFrame;
                        o || (o = n.stack[n.index] = new b);
                        var a = t.filterArea && 0 === t.filterArea.x && 0 === t.filterArea.y && t.filterArea.width === r.screen.width && t.filterArea.height === r.screen.height,
                            u = e[0].resolution,
                            h = 0 | e[0].padding,
                            l = a ? r.screen : t.filterArea || t.getBounds(!0),
                            c = o.sourceFrame,
                            d = o.destinationFrame;
                        c.x = (l.x * u | 0) / u, c.y = (l.y * u | 0) / u, c.width = (l.width * u | 0) / u, c.height = (l.height * u | 0) / u, a || (n.stack[0].renderTarget.transform || e[0].autoFit && c.fit(s), c.pad(h)), d.width = c.width, d.height = c.height;
                        var f = this.getPotRenderTarget(r.gl, c.width, c.height, u);
                        o.target = t, o.filters = e, o.resolution = u, o.renderTarget = f, f.setFrame(d, c), r.bindRenderTarget(f), f.clear()
                    }, e.prototype.popFilter = function () {
                        var t = this.filterData,
                            e = t.stack[t.index - 1],
                            r = t.stack[t.index];
                        this.quad.map(r.renderTarget.size, r.sourceFrame).upload();
                        var n = r.filters;
                        if (1 === n.length) n[0].apply(this, r.renderTarget, e.renderTarget, !1, r), this.freePotRenderTarget(r.renderTarget);
                        else {
                            var i = r.renderTarget,
                                o = this.getPotRenderTarget(this.renderer.gl, r.sourceFrame.width, r.sourceFrame.height, r.resolution);
                            o.setFrame(r.destinationFrame, r.sourceFrame), o.clear();
                            var s = 0;
                            for (s = 0; s < n.length - 1; ++s) {
                                n[s].apply(this, i, o, !0, r);
                                var a = i;
                                i = o, o = a
                            }
                            n[s].apply(this, i, e.renderTarget, !1, r), this.freePotRenderTarget(i), this.freePotRenderTarget(o)
                        }
                        r.clear(), 0 === --t.index && (this.filterData = null)
                    }, e.prototype.applyFilter = function (t, e, r, n) {
                        var i = this.renderer,
                            o = i.gl,
                            s = t.glShaders[i.CONTEXT_UID];
                        s || (t.glShaderKey ? (s = this.shaderCache[t.glShaderKey]) || (s = new v.default(this.gl, t.vertexSrc, t.fragmentSrc), t.glShaders[i.CONTEXT_UID] = this.shaderCache[t.glShaderKey] = s, this.managedFilters.push(t)) : (s = t.glShaders[i.CONTEXT_UID] = new v.default(this.gl, t.vertexSrc, t.fragmentSrc), this.managedFilters.push(t)), i.bindVao(null), this.quad.initVao(s)), i.bindVao(this.quad.vao), i.bindRenderTarget(r), n && (o.disable(o.SCISSOR_TEST), i.clear(), o.enable(o.SCISSOR_TEST)), r === i.maskManager.scissorRenderTarget && i.maskManager.pushScissorMask(null, i.maskManager.scissorData), i.bindShader(s);
                        var a = this.renderer.emptyTextures[0];
                        this.renderer.boundTextures[0] = a, this.syncUniforms(s, t), i.state.setBlendMode(t.blendMode), o.activeTexture(o.TEXTURE0), o.bindTexture(o.TEXTURE_2D, e.texture.texture), this.quad.vao.draw(this.renderer.gl.TRIANGLES, 6, 0), o.bindTexture(o.TEXTURE_2D, a._glTextures[this.renderer.CONTEXT_UID].texture)
                    }, e.prototype.syncUniforms = function (t, e) {
                        var r = e.uniformData,
                            n = e.uniforms,
                            i = 1,
                            o = void 0;
                        if (t.uniforms.filterArea) {
                            o = this.filterData.stack[this.filterData.index];
                            var s = t.uniforms.filterArea;
                            s[0] = o.renderTarget.size.width, s[1] = o.renderTarget.size.height, s[2] = o.sourceFrame.x, s[3] = o.sourceFrame.y, t.uniforms.filterArea = s
                        }
                        if (t.uniforms.filterClamp) {
                            o = o || this.filterData.stack[this.filterData.index];
                            var a = t.uniforms.filterClamp;
                            a[0] = 0, a[1] = 0, a[2] = (o.sourceFrame.width - 1) / o.renderTarget.size.width, a[3] = (o.sourceFrame.height - 1) / o.renderTarget.size.height, t.uniforms.filterClamp = a
                        }
                        for (var u in r)
                            if (t.uniforms.data[u]) {
                                var h = r[u].type;
                                if ("sampler2d" === h && 0 !== n[u]) {
                                    if (n[u].baseTexture) t.uniforms[u] = this.renderer.bindTexture(n[u].baseTexture, i);
                                    else {
                                        t.uniforms[u] = i;
                                        var l = this.renderer.gl;
                                        this.renderer.boundTextures[i] = this.renderer.emptyTextures[i], l.activeTexture(l.TEXTURE0 + i), n[u].texture.bind()
                                    }
                                    i++
                                } else if ("mat3" === h) void 0 !== n[u].a ? t.uniforms[u] = n[u].toArray(!0) : t.uniforms[u] = n[u];
                                else if ("vec2" === h)
                                    if (void 0 !== n[u].x) {
                                        var c = t.uniforms[u] || new Float32Array(2);
                                        c[0] = n[u].x, c[1] = n[u].y, t.uniforms[u] = c
                                    } else t.uniforms[u] = n[u];
                                else "float" === h ? t.uniforms.data[u].value !== r[u] && (t.uniforms[u] = n[u]) : t.uniforms[u] = n[u]
                            }
                    }, e.prototype.getRenderTarget = function (t, e) {
                        var r = this.filterData.stack[this.filterData.index],
                            n = this.getPotRenderTarget(this.renderer.gl, r.sourceFrame.width, r.sourceFrame.height, e || r.resolution);
                        return n.setFrame(r.destinationFrame, r.sourceFrame), n
                    }, e.prototype.returnRenderTarget = function (t) {
                        this.freePotRenderTarget(t)
                    }, e.prototype.calculateScreenSpaceMatrix = function (t) {
                        var e = this.filterData.stack[this.filterData.index];
                        return y.calculateScreenSpaceMatrix(t, e.sourceFrame, e.renderTarget.size)
                    }, e.prototype.calculateNormalizedScreenSpaceMatrix = function (t) {
                        var e = this.filterData.stack[this.filterData.index];
                        return y.calculateNormalizedScreenSpaceMatrix(t, e.sourceFrame, e.renderTarget.size, e.destinationFrame)
                    }, e.prototype.calculateSpriteMatrix = function (t, e) {
                        var r = this.filterData.stack[this.filterData.index];
                        return y.calculateSpriteMatrix(t, r.sourceFrame, r.renderTarget.size, e)
                    }, e.prototype.destroy = function () {
                        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                            e = this.renderer,
                            r = this.managedFilters;
                        e.off("prerender", this.onPrerender, this);
                        for (var n = 0; n < r.length; n++) t || r[n].glShaders[e.CONTEXT_UID].destroy(), delete r[n].glShaders[e.CONTEXT_UID];
                        this.shaderCache = {}, t ? this.pool = {} : this.emptyPool()
                    }, e.prototype.getPotRenderTarget = function (t, e, r, n) {
                        var i = "screen";
                        e *= n, r *= n, e === this._screenWidth && r === this._screenHeight || (e = _.default.nextPow2(e), r = _.default.nextPow2(r), i = (65535 & e) << 16 | 65535 & r), this.pool[i] || (this.pool[i] = []);
                        var o = this.pool[i].pop();
                        if (!o) {
                            var s = this.renderer.boundTextures[0];
                            t.activeTexture(t.TEXTURE0), o = new l.default(t, e, r, null, 1), t.bindTexture(t.TEXTURE_2D, s._glTextures[this.renderer.CONTEXT_UID].texture)
                        }
                        return o.resolution = n, o.defaultFrame.width = o.size.width = e / n, o.defaultFrame.height = o.size.height = r / n, o.filterPoolKey = i, o
                    }, e.prototype.emptyPool = function () {
                        for (var t in this.pool) {
                            var e = this.pool[t];
                            if (e)
                                for (var r = 0; r < e.length; r++) e[r].destroy(!0)
                        }
                        this.pool = {}
                    }, e.prototype.freePotRenderTarget = function (t) {
                        this.pool[t.filterPoolKey].push(t)
                    }, e.prototype.onPrerender = function () {
                        if (this._screenWidth !== this.renderer.view.width || this._screenHeight !== this.renderer.view.height) {
                            this._screenWidth = this.renderer.view.width, this._screenHeight = this.renderer.view.height;
                            var t = this.pool.screen;
                            if (t)
                                for (var e = 0; e < t.length; e++) t[e].destroy(!0);
                            this.pool.screen = []
                        }
                    }, e
                }(u.default);
            r.default = x
        }, {
            "../../../Shader": 44,
            "../../../math": 70,
            "../filters/filterTransforms": 88,
            "../utils/Quad": 95,
            "../utils/RenderTarget": 96,
            "./WebGLManager": 93,
            "bit-twiddle": 1
        }],
        91: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = t("./WebGLManager"),
                u = n(a),
                h = t("../filters/spriteMask/SpriteMaskFilter"),
                l = n(h),
                c = function (t) {
                    function e(r) {
                        i(this, e);
                        var n = o(this, t.call(this, r));
                        return n.scissor = !1, n.scissorData = null, n.scissorRenderTarget = null, n.enableScissor = !0, n.alphaMaskPool = [], n.alphaMaskIndex = 0, n
                    }
                    return s(e, t), e.prototype.pushMask = function (t, e) {
                        if (e.texture) this.pushSpriteMask(t, e);
                        else if (this.enableScissor && !this.scissor && this.renderer._activeRenderTarget.root && !this.renderer.stencilManager.stencilMaskStack.length && e.isFastRect()) {
                            var r = e.worldTransform,
                                n = Math.atan2(r.b, r.a);
                            n = Math.round(n * (180 / Math.PI)), n % 90 ? this.pushStencilMask(e) : this.pushScissorMask(t, e)
                        } else this.pushStencilMask(e)
                    }, e.prototype.popMask = function (t, e) {
                        e.texture ? this.popSpriteMask(t, e) : this.enableScissor && !this.renderer.stencilManager.stencilMaskStack.length ? this.popScissorMask(t, e) : this.popStencilMask(t, e)
                    }, e.prototype.pushSpriteMask = function (t, e) {
                        var r = this.alphaMaskPool[this.alphaMaskIndex];
                        r || (r = this.alphaMaskPool[this.alphaMaskIndex] = [new l.default(e)]), r[0].resolution = this.renderer.resolution, r[0].maskSprite = e;
                        var n = t.filterArea;
                        t.filterArea = e.getBounds(!0), this.renderer.filterManager.pushFilter(t, r), t.filterArea = n, this.alphaMaskIndex++
                    }, e.prototype.popSpriteMask = function () {
                        this.renderer.filterManager.popFilter(), this.alphaMaskIndex--
                    }, e.prototype.pushStencilMask = function (t) {
                        this.renderer.currentRenderer.stop(), this.renderer.stencilManager.pushStencil(t)
                    }, e.prototype.popStencilMask = function () {
                        this.renderer.currentRenderer.stop(), this.renderer.stencilManager.popStencil()
                    }, e.prototype.pushScissorMask = function (t, e) {
                        e.renderable = !0;
                        var r = this.renderer._activeRenderTarget,
                            n = e.getBounds();
                        n.fit(r.size), e.renderable = !1, this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);
                        var i = this.renderer.resolution;
                        this.renderer.gl.scissor(n.x * i, (r.root ? r.size.height - n.y - n.height : n.y) * i, n.width * i, n.height * i), this.scissorRenderTarget = r, this.scissorData = e, this.scissor = !0
                    }, e.prototype.popScissorMask = function () {
                        this.scissorRenderTarget = null, this.scissorData = null, this.scissor = !1;
                        var t = this.renderer.gl;
                        t.disable(t.SCISSOR_TEST)
                    }, e
                }(u.default);
            r.default = c
        }, {
            "../filters/spriteMask/SpriteMaskFilter": 89,
            "./WebGLManager": 93
        }],
        92: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = t("./WebGLManager"),
                a = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(s),
                u = function (t) {
                    function e(r) {
                        n(this, e);
                        var o = i(this, t.call(this, r));
                        return o.stencilMaskStack = null, o
                    }
                    return o(e, t), e.prototype.setMaskStack = function (t) {
                        this.stencilMaskStack = t;
                        var e = this.renderer.gl;
                        0 === t.length ? e.disable(e.STENCIL_TEST) : e.enable(e.STENCIL_TEST)
                    }, e.prototype.pushStencil = function (t) {
                        this.renderer.setObjectRenderer(this.renderer.plugins.graphics), this.renderer._activeRenderTarget.attachStencilBuffer();
                        var e = this.renderer.gl,
                            r = this.stencilMaskStack.length;
                        0 === r && e.enable(e.STENCIL_TEST), this.stencilMaskStack.push(t), e.colorMask(!1, !1, !1, !1), e.stencilFunc(e.EQUAL, r, this._getBitwiseMask()), e.stencilOp(e.KEEP, e.KEEP, e.INCR), this.renderer.plugins.graphics.render(t), this._useCurrent()
                    }, e.prototype.popStencil = function () {
                        this.renderer.setObjectRenderer(this.renderer.plugins.graphics);
                        var t = this.renderer.gl,
                            e = this.stencilMaskStack.pop();
                        0 === this.stencilMaskStack.length ? (t.disable(t.STENCIL_TEST), t.clear(t.STENCIL_BUFFER_BIT), t.clearStencil(0)) : (t.colorMask(!1, !1, !1, !1), t.stencilOp(t.KEEP, t.KEEP, t.DECR), this.renderer.plugins.graphics.render(e), this._useCurrent())
                    }, e.prototype._useCurrent = function () {
                        var t = this.renderer.gl;
                        t.colorMask(!0, !0, !0, !0), t.stencilFunc(t.EQUAL, this.stencilMaskStack.length, this._getBitwiseMask()), t.stencilOp(t.KEEP, t.KEEP, t.KEEP)
                    }, e.prototype._getBitwiseMask = function () {
                        return (1 << this.stencilMaskStack.length) - 1
                    }, e.prototype.destroy = function () {
                        a.default.prototype.destroy.call(this), this.stencilMaskStack.stencilStack = null
                    }, e
                }(a.default);
            r.default = u
        }, {
            "./WebGLManager": 93
        }],
        93: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                function t(e) {
                    n(this, t), this.renderer = e, this.renderer.on("context", this.onContextChange, this)
                }
                return t.prototype.onContextChange = function () {}, t.prototype.destroy = function () {
                    this.renderer.off("context", this.onContextChange, this), this.renderer = null
                }, t
            }();
            r.default = i
        }, {}],
        94: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = t("../managers/WebGLManager"),
                a = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(s),
                u = function (t) {
                    function e() {
                        return n(this, e), i(this, t.apply(this, arguments))
                    }
                    return o(e, t), e.prototype.start = function () {}, e.prototype.stop = function () {
                        this.flush()
                    }, e.prototype.flush = function () {}, e.prototype.render = function (t) {}, e
                }(a.default);
            r.default = u
        }, {
            "../managers/WebGLManager": 93
        }],
        95: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var o = t("pixi-gl-core"),
                s = n(o),
                a = t("../../../utils/createIndicesForQuads"),
                u = n(a),
                h = function () {
                    function t(e, r) {
                        i(this, t), this.gl = e, this.vertices = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]), this.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), this.interleaved = new Float32Array(16);
                        for (var n = 0; n < 4; n++) this.interleaved[4 * n] = this.vertices[2 * n], this.interleaved[4 * n + 1] = this.vertices[2 * n + 1], this.interleaved[4 * n + 2] = this.uvs[2 * n], this.interleaved[4 * n + 3] = this.uvs[2 * n + 1];
                        this.indices = (0, u.default)(1), this.vertexBuffer = s.default.GLBuffer.createVertexBuffer(e, this.interleaved, e.STATIC_DRAW), this.indexBuffer = s.default.GLBuffer.createIndexBuffer(e, this.indices, e.STATIC_DRAW), this.vao = new s.default.VertexArrayObject(e, r)
                    }
                    return t.prototype.initVao = function (t) {
                        this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer, t.attributes.aVertexPosition, this.gl.FLOAT, !1, 16, 0).addAttribute(this.vertexBuffer, t.attributes.aTextureCoord, this.gl.FLOAT, !1, 16, 8)
                    }, t.prototype.map = function (t, e) {
                        var r = 0,
                            n = 0;
                        return this.uvs[0] = r, this.uvs[1] = n, this.uvs[2] = r + e.width / t.width, this.uvs[3] = n, this.uvs[4] = r + e.width / t.width, this.uvs[5] = n + e.height / t.height, this.uvs[6] = r, this.uvs[7] = n + e.height / t.height, r = e.x, n = e.y, this.vertices[0] = r, this.vertices[1] = n, this.vertices[2] = r + e.width, this.vertices[3] = n, this.vertices[4] = r + e.width, this.vertices[5] = n + e.height, this.vertices[6] = r, this.vertices[7] = n + e.height, this
                    }, t.prototype.upload = function () {
                        for (var t = 0; t < 4; t++) this.interleaved[4 * t] = this.vertices[2 * t], this.interleaved[4 * t + 1] = this.vertices[2 * t + 1], this.interleaved[4 * t + 2] = this.uvs[2 * t], this.interleaved[4 * t + 3] = this.uvs[2 * t + 1];
                        return this.vertexBuffer.upload(this.interleaved), this
                    }, t.prototype.destroy = function () {
                        var t = this.gl;
                        t.deleteBuffer(this.vertexBuffer), t.deleteBuffer(this.indexBuffer)
                    }, t
                }();
            r.default = h
        }, {
            "../../../utils/createIndicesForQuads": 123,
            "pixi-gl-core": 15
        }],
        96: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("../../../math"),
                o = t("../../../const"),
                s = t("../../../settings"),
                a = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(s),
                u = t("pixi-gl-core"),
                h = function () {
                    function t(e, r, s, h, l, c) {
                        n(this, t), this.gl = e, this.frameBuffer = null, this.texture = null, this.clearColor = [0, 0, 0, 0], this.size = new i.Rectangle(0, 0, 1, 1), this.resolution = l || a.default.RESOLUTION, this.projectionMatrix = new i.Matrix, this.transform = null, this.frame = null, this.defaultFrame = new i.Rectangle, this.destinationFrame = null, this.sourceFrame = null, this.stencilBuffer = null, this.stencilMaskStack = [], this.filterData = null, this.filterPoolKey = "", this.scaleMode = void 0 !== h ? h : a.default.SCALE_MODE, this.root = c || !1, this.root ? (this.frameBuffer = new u.GLFramebuffer(e, 100, 100), this.frameBuffer.framebuffer = null) : (this.frameBuffer = u.GLFramebuffer.createRGBA(e, 100, 100), this.scaleMode === o.SCALE_MODES.NEAREST ? this.frameBuffer.texture.enableNearestScaling() : this.frameBuffer.texture.enableLinearScaling(), this.texture = this.frameBuffer.texture), this.setFrame(), this.resize(r, s)
                    }
                    return t.prototype.clear = function (t) {
                        var e = t || this.clearColor;
                        this.frameBuffer.clear(e[0], e[1], e[2], e[3])
                    }, t.prototype.attachStencilBuffer = function () {
                        this.root || this.frameBuffer.enableStencil()
                    }, t.prototype.setFrame = function (t, e) {
                        this.destinationFrame = t || this.destinationFrame || this.defaultFrame, this.sourceFrame = e || this.sourceFrame || this.destinationFrame
                    }, t.prototype.activate = function () {
                        var t = this.gl;
                        this.frameBuffer.bind(), this.calculateProjection(this.destinationFrame, this.sourceFrame), this.transform && this.projectionMatrix.append(this.transform), this.destinationFrame !== this.sourceFrame ? (t.enable(t.SCISSOR_TEST), t.scissor(0 | this.destinationFrame.x, 0 | this.destinationFrame.y, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0)) : t.disable(t.SCISSOR_TEST), t.viewport(0 | this.destinationFrame.x, 0 | this.destinationFrame.y, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0)
                    }, t.prototype.calculateProjection = function (t, e) {
                        var r = this.projectionMatrix;
                        e = e || t, r.identity(), this.root ? (r.a = 1 / t.width * 2, r.d = -1 / t.height * 2, r.tx = -1 - e.x * r.a, r.ty = 1 - e.y * r.d) : (r.a = 1 / t.width * 2, r.d = 1 / t.height * 2, r.tx = -1 - e.x * r.a, r.ty = -1 - e.y * r.d)
                    }, t.prototype.resize = function (t, e) {
                        if (t |= 0, e |= 0, this.size.width !== t || this.size.height !== e) {
                            this.size.width = t, this.size.height = e, this.defaultFrame.width = t, this.defaultFrame.height = e, this.frameBuffer.resize(t * this.resolution, e * this.resolution);
                            var r = this.frame || this.size;
                            this.calculateProjection(r)
                        }
                    }, t.prototype.destroy = function () {
                        this.frameBuffer.stencil && this.gl.deleteRenderbuffer(this.frameBuffer.stencil), this.frameBuffer.destroy(), this.frameBuffer = null, this.texture = null
                    }, t
                }();
            r.default = h
        }, {
            "../../../const": 46,
            "../../../math": 70,
            "../../../settings": 101,
            "pixi-gl-core": 15
        }],
        97: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                var r = !e;
                if (r) {
                    var n = document.createElement("canvas");
                    n.width = 1, n.height = 1, e = s.default.createContext(n)
                }
                for (var o = e.createShader(e.FRAGMENT_SHADER);;) {
                    var u = a.replace(/%forloop%/gi, i(t));
                    if (e.shaderSource(o, u), e.compileShader(o), e.getShaderParameter(o, e.COMPILE_STATUS)) break;
                    t = t / 2 | 0
                }
                return r && e.getExtension("WEBGL_lose_context") && e.getExtension("WEBGL_lose_context").loseContext(), t
            }
            function i(t) {
                for (var e = "", r = 0; r < t; ++r) r > 0 && (e += "\nelse "), r < t - 1 && (e += "if(test == " + r + ".0){}");
                return e
            }
            r.__esModule = !0, r.default = n;
            var o = t("pixi-gl-core"),
                s = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(o),
                a = ["precision mediump float;", "void main(void){", "float test = 0.1;", "%forloop%", "gl_FragColor = vec4(0.0);", "}"].join("\n")
        }, {
            "pixi-gl-core": 15
        }],
        98: [function (t, e, r) {
            "use strict";
            function n(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                return e[i.BLEND_MODES.NORMAL] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.ADD] = [t.ONE, t.DST_ALPHA], e[i.BLEND_MODES.MULTIPLY] = [t.DST_COLOR, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.SCREEN] = [t.ONE, t.ONE_MINUS_SRC_COLOR], e[i.BLEND_MODES.OVERLAY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.DARKEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.LIGHTEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.COLOR_DODGE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.COLOR_BURN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.HARD_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.SOFT_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.DIFFERENCE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.EXCLUSION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.HUE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.SATURATION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.COLOR] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.LUMINOSITY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.NORMAL_NPM] = [t.SRC_ALPHA, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.ADD_NPM] = [t.SRC_ALPHA, t.DST_ALPHA, t.ONE, t.DST_ALPHA], e[i.BLEND_MODES.SCREEN_NPM] = [t.SRC_ALPHA, t.ONE_MINUS_SRC_COLOR, t.ONE, t.ONE_MINUS_SRC_COLOR], e
            }
            r.__esModule = !0, r.default = n;
            var i = t("../../../const")
        }, {
            "../../../const": 46
        }],
        99: [function (t, e, r) {
            "use strict";
            function n(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return e[i.DRAW_MODES.POINTS] = t.POINTS, e[i.DRAW_MODES.LINES] = t.LINES, e[i.DRAW_MODES.LINE_LOOP] = t.LINE_LOOP, e[i.DRAW_MODES.LINE_STRIP] = t.LINE_STRIP, e[i.DRAW_MODES.TRIANGLES] = t.TRIANGLES, e[i.DRAW_MODES.TRIANGLE_STRIP] = t.TRIANGLE_STRIP, e[i.DRAW_MODES.TRIANGLE_FAN] = t.TRIANGLE_FAN, e
            }
            r.__esModule = !0, r.default = n;
            var i = t("../../../const")
        }, {
            "../../../const": 46
        }],
        100: [function (t, e, r) {
            "use strict";
            function n(t) {
                t.getContextAttributes().stencil || console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")
            }
            r.__esModule = !0, r.default = n
        }, {}],
        101: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            r.__esModule = !0;
            var i = t("./utils/maxRecommendedTextures"),
                o = n(i),
                s = t("./utils/canUploadSameBuffer"),
                a = n(s);
            r.default = {
                TARGET_FPMS: .06,
                MIPMAP_TEXTURES: !0,
                RESOLUTION: 1,
                FILTER_RESOLUTION: 1,
                SPRITE_MAX_TEXTURES: (0, o.default)(32),
                SPRITE_BATCH_SIZE: 4096,
                RETINA_PREFIX: /@([0-9\.]+)x/,
                RENDER_OPTIONS: {
                    view: null,
                    antialias: !1,
                    forceFXAA: !1,
                    autoResize: !1,
                    transparent: !1,
                    backgroundColor: 0,
                    clearBeforeRender: !0,
                    preserveDrawingBuffer: !1,
                    roundPixels: !1,
                    width: 800,
                    height: 600,
                    legacy: !1
                },
                TRANSFORM_MODE: 0,
                GC_MODE: 0,
                GC_MAX_IDLE: 3600,
                GC_MAX_CHECK_COUNT: 600,
                WRAP_MODE: 0,
                SCALE_MODE: 0,
                PRECISION_VERTEX: "highp",
                PRECISION_FRAGMENT: "mediump",
                CAN_UPLOAD_SAME_BUFFER: (0, a.default)(),
                MESH_CANVAS_PADDING: 0
            }
        }, {
            "./utils/canUploadSameBuffer": 122,
            "./utils/maxRecommendedTextures": 127
        }],
        102: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                u = t("../math"),
                h = t("../utils"),
                l = t("../const"),
                c = t("../textures/Texture"),
                d = n(c),
                f = t("../display/Container"),
                p = n(f),
                v = new u.Point,
                g = function (t) {
                    function e(r) {
                        i(this, e);
                        var n = o(this, t.call(this));
                        return n._anchor = new u.ObservablePoint(n._onAnchorUpdate, n, r ? r.defaultAnchor.x : 0, r ? r.defaultAnchor.y : 0), n._texture = null, n._width = 0, n._height = 0, n._tint = null, n._tintRGB = null, n.tint = 16777215, n.blendMode = l.BLEND_MODES.NORMAL, n.shader = null, n.cachedTint = 16777215, n.texture = r || d.default.EMPTY, n.vertexData = new Float32Array(8), n.vertexTrimmedData = null, n._transformID = -1, n._textureID = -1, n._transformTrimmedID = -1, n._textureTrimmedID = -1, n.pluginName = "sprite", n
                    }
                    return s(e, t), e.prototype._onTextureUpdate = function () {
                        this._textureID = -1, this._textureTrimmedID = -1, this.cachedTint = 16777215, this._width && (this.scale.x = (0, h.sign)(this.scale.x) * this._width / this._texture.orig.width), this._height && (this.scale.y = (0, h.sign)(this.scale.y) * this._height / this._texture.orig.height)
                    }, e.prototype._onAnchorUpdate = function () {
                        this._transformID = -1, this._transformTrimmedID = -1
                    }, e.prototype.calculateVertices = function () {
                        if (this._transformID !== this.transform._worldID || this._textureID !== this._texture._updateID) {
                            this._transformID = this.transform._worldID, this._textureID = this._texture._updateID;
                            var t = this._texture,
                                e = this.transform.worldTransform,
                                r = e.a,
                                n = e.b,
                                i = e.c,
                                o = e.d,
                                s = e.tx,
                                a = e.ty,
                                u = this.vertexData,
                                h = t.trim,
                                l = t.orig,
                                c = this._anchor,
                                d = 0,
                                f = 0,
                                p = 0,
                                v = 0;
                            h ? (f = h.x - c._x * l.width, d = f + h.width, v = h.y - c._y * l.height, p = v + h.height) : (f = -c._x * l.width, d = f + l.width, v = -c._y * l.height, p = v + l.height), u[0] = r * f + i * v + s, u[1] = o * v + n * f + a, u[2] = r * d + i * v + s, u[3] = o * v + n * d + a, u[4] = r * d + i * p + s, u[5] = o * p + n * d + a, u[6] = r * f + i * p + s, u[7] = o * p + n * f + a
                        }
                    }, e.prototype.calculateTrimmedVertices = function () {
                        if (this.vertexTrimmedData) {
                            if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID) return
                        } else this.vertexTrimmedData = new Float32Array(8);
                        this._transformTrimmedID = this.transform._worldID, this._textureTrimmedID = this._texture._updateID;
                        var t = this._texture,
                            e = this.vertexTrimmedData,
                            r = t.orig,
                            n = this._anchor,
                            i = this.transform.worldTransform,
                            o = i.a,
                            s = i.b,
                            a = i.c,
                            u = i.d,
                            h = i.tx,
                            l = i.ty,
                            c = -n._x * r.width,
                            d = c + r.width,
                            f = -n._y * r.height,
                            p = f + r.height;
                        e[0] = o * c + a * f + h, e[1] = u * f + s * c + l, e[2] = o * d + a * f + h, e[3] = u * f + s * d + l, e[4] = o * d + a * p + h, e[5] = u * p + s * d + l, e[6] = o * c + a * p + h, e[7] = u * p + s * c + l
                    }, e.prototype._renderWebGL = function (t) {
                        this.calculateVertices(), t.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this)
                    }, e.prototype._renderCanvas = function (t) {
                        t.plugins[this.pluginName].render(this)
                    }, e.prototype._calculateBounds = function () {
                        var t = this._texture.trim,
                            e = this._texture.orig;
                        !t || t.width === e.width && t.height === e.height ? (this.calculateVertices(), this._bounds.addQuad(this.vertexData)) : (this.calculateTrimmedVertices(), this._bounds.addQuad(this.vertexTrimmedData))
                    }, e.prototype.getLocalBounds = function (e) {
                        return 0 === this.children.length ? (this._bounds.minX = this._texture.orig.width * -this._anchor._x, this._bounds.minY = this._texture.orig.height * -this._anchor._y, this._bounds.maxX = this._texture.orig.width * (1 - this._anchor._x), this._bounds.maxY = this._texture.orig.height * (1 - this._anchor._y), e || (this._localBoundsRect || (this._localBoundsRect = new u.Rectangle), e = this._localBoundsRect), this._bounds.getRectangle(e)) : t.prototype.getLocalBounds.call(this, e)
                    }, e.prototype.containsPoint = function (t) {
                        this.worldTransform.applyInverse(t, v);
                        var e = this._texture.orig.width,
                            r = this._texture.orig.height,
                            n = -e * this.anchor.x,
                            i = 0;
                        return v.x >= n && v.x < n + e && (i = -r * this.anchor.y, v.y >= i && v.y < i + r)
                    }, e.prototype.destroy = function (e) {
                        if (t.prototype.destroy.call(this, e), this._texture.off("update", this._onTextureUpdate, this), this._anchor = null, "boolean" == typeof e ? e : e && e.texture) {
                            var r = "boolean" == typeof e ? e : e && e.baseTexture;
                            this._texture.destroy(!!r)
                        }
                        this._texture = null, this.shader = null
                    }, e.from = function (t) {
                        return new e(d.default.from(t))
                    }, e.fromFrame = function (t) {
                        var r = h.TextureCache[t];
                        if (!r) throw new Error('The frameId "' + t + '" does not exist in the texture cache');
                        return new e(r)
                    }, e.fromImage = function (t, r, n) {
                        return new e(d.default.fromImage(t, r, n))
                    }, a(e, [{
                        key: "width",
                        get: function () {
                            return Math.abs(this.scale.x) * this._texture.orig.width
                        },
                        set: function (t) {
                            var e = (0, h.sign)(this.scale.x) || 1;
                            this.scale.x = e * t / this._texture.orig.width, this._width = t
                        }
                    }, {
                        key: "height",
                        get: function () {
                            return Math.abs(this.scale.y) * this._texture.orig.height
                        },
                        set: function (t) {
                            var e = (0, h.sign)(this.scale.y) || 1;
                            this.scale.y = e * t / this._texture.orig.height, this._height = t
                        }
                    }, {
                        key: "anchor",
                        get: function () {
                            return this._anchor
                        },
                        set: function (t) {
                            this._anchor.copy(t)
                        }
                    }, {
                        key: "tint",
                        get: function () {
                            return this._tint
                        },
                        set: function (t) {
                            this._tint = t, this._tintRGB = (t >> 16) + (65280 & t) + ((255 & t) << 16)
                        }
                    }, {
                        key: "texture",
                        get: function () {
                            return this._texture
                        },
                        set: function (t) {
                            this._texture !== t && (this._texture = t || d.default.EMPTY, this.cachedTint = 16777215, this._textureID = -1, this._textureTrimmedID = -1, t && (t.baseTexture.hasLoaded ? this._onTextureUpdate() : t.once("update", this._onTextureUpdate, this)))
                        }
                    }]), e
                }(p.default);
            r.default = g
        }, {
            "../const": 46,
            "../display/Container": 48,
            "../math": 70,
            "../textures/Texture": 115,
            "../utils": 125
        }],
        103: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var o = t("../../renderers/canvas/CanvasRenderer"),
                s = n(o),
                a = t("../../const"),
                u = t("../../math"),
                h = t("./CanvasTinter"),
                l = n(h),
                c = new u.Matrix,
                d = function () {
                    function t(e) {
                        i(this, t), this.renderer = e
                    }
                    return t.prototype.render = function (t) {
                        var e = t._texture,
                            r = this.renderer,
                            n = e._frame.width,
                            i = e._frame.height,
                            o = t.transform.worldTransform,
                            s = 0,
                            h = 0;
                        if (!(e.orig.width <= 0 || e.orig.height <= 0) && e.baseTexture.source && (r.setBlendMode(t.blendMode), e.valid)) {
                            r.context.globalAlpha = t.worldAlpha;
                            var d = e.baseTexture.scaleMode === a.SCALE_MODES.LINEAR;
                            r.smoothProperty && r.context[r.smoothProperty] !== d && (r.context[r.smoothProperty] = d), e.trim ? (s = e.trim.width / 2 + e.trim.x - t.anchor.x * e.orig.width, h = e.trim.height / 2 + e.trim.y - t.anchor.y * e.orig.height) : (s = (.5 - t.anchor.x) * e.orig.width, h = (.5 - t.anchor.y) * e.orig.height), e.rotate && (o.copy(c), o = c, u.GroupD8.matrixAppendRotationInv(o, e.rotate, s, h), s = 0, h = 0), s -= n / 2, h -= i / 2, r.roundPixels ? (r.context.setTransform(o.a, o.b, o.c, o.d, o.tx * r.resolution | 0, o.ty * r.resolution | 0), s |= 0, h |= 0) : r.context.setTransform(o.a, o.b, o.c, o.d, o.tx * r.resolution, o.ty * r.resolution);
                            var f = e.baseTexture.resolution;
                            16777215 !== t.tint ? (t.cachedTint === t.tint && t.tintedTexture.tintId === t._texture._updateID || (t.cachedTint = t.tint, t.tintedTexture = l.default.getTintedTexture(t, t.tint)), r.context.drawImage(t.tintedTexture, 0, 0, n * f, i * f, s * r.resolution, h * r.resolution, n * r.resolution, i * r.resolution)) : r.context.drawImage(e.baseTexture.source, e._frame.x * f, e._frame.y * f, n * f, i * f, s * r.resolution, h * r.resolution, n * r.resolution, i * r.resolution)
                        }
                    }, t.prototype.destroy = function () {
                        this.renderer = null
                    }, t
                }();
            r.default = d, s.default.registerPlugin("sprite", d)
        }, {
            "../../const": 46,
            "../../math": 70,
            "../../renderers/canvas/CanvasRenderer": 77,
            "./CanvasTinter": 104
        }],
        104: [function (t, e, r) {
            "use strict";
            r.__esModule = !0;
            var n = t("../../utils"),
                i = t("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),
                o = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(i),
                s = {
                    getTintedTexture: function (t, e) {
                        var r = t._texture;
                        e = s.roundColor(e);
                        var n = "#" + ("00000" + (0 | e).toString(16)).substr(-6);
                        r.tintCache = r.tintCache || {};
                        var i = r.tintCache[n],
                            o = void 0;
                        if (i) {
                            if (i.tintId === r._updateID) return r.tintCache[n];
                            o = r.tintCache[n]
                        } else o = s.canvas || document.createElement("canvas");
                        if (s.tintMethod(r, e, o), o.tintId = r._updateID, s.convertTintToImage) {
                            var a = new Image;
                            a.src = o.toDataURL(), r.tintCache[n] = a
                        } else r.tintCache[n] = o, s.canvas = null;
                        return o
                    },
                    tintWithMultiply: function (t, e, r) {
                        var n = r.getContext("2d"),
                            i = t._frame.clone(),
                            o = t.baseTexture.resolution;
                        i.x *= o, i.y *= o, i.width *= o, i.height *= o, r.width = Math.ceil(i.width), r.height = Math.ceil(i.height), n.save(), n.fillStyle = "#" + ("00000" + (0 | e).toString(16)).substr(-6), n.fillRect(0, 0, i.width, i.height), n.globalCompositeOperation = "multiply", n.drawImage(t.baseTexture.source, i.x, i.y, i.width, i.height, 0, 0, i.width, i.height), n.globalCompositeOperation = "destination-atop", n.drawImage(t.baseTexture.source, i.x, i.y, i.width, i.height, 0, 0, i.width, i.height), n.restore()
                    },
                    tintWithOverlay: function (t, e, r) {
                        var n = r.getContext("2d"),
                            i = t._frame.clone(),
                            o = t.baseTexture.resolution;
                        i.x *= o, i.y *= o, i.width *= o, i.height *= o, r.width = Math.ceil(i.width), r.height = Math.ceil(i.height), n.save(), n.globalCompositeOperation = "copy", n.fillStyle = "#" + ("00000" + (0 | e).toString(16)).substr(-6), n.fillRect(0, 0, i.width, i.height), n.globalCompositeOperation = "destination-atop", n.drawImage(t.baseTexture.source, i.x, i.y, i.width, i.height, 0, 0, i.width, i.height), n.restore()
                    },
                    tintWithPerPixel: function (t, e, r) {
                        var i = r.getContext("2d"),
                            o = t._frame.clone(),
                            s = t.baseTexture.resolution;
                        o.x *= s, o.y *= s, o.width *= s, o.height *= s, r.width = Math.ceil(o.width), r.height = Math.ceil(o.height), i.save(), i.globalCompositeOperation = "copy", i.drawImage(t.baseTexture.source, o.x, o.y, o.width, o.height, 0, 0, o.width, o.height), i.restore();
                        for (var a = (0, n.hex2rgb)(e), u = a[0], h = a[1], l = a[2], c = i.getImageData(0, 0, o.width, o.height), d = c.data, f = 0; f < d.length; f += 4) d[f + 0] *= u, d[f + 1] *= h, d[f + 2] *= l;
                        i.putImageData(c, 0, 0)
                    },
                    roundColor: function (t) {
                        var e = s.cacheStepsPerColorChannel,
                            r = (0, n.hex2rgb)(t);
                        return r[0] = Math.min(255, r[0] / e * e), r[1] = Math.min(255, r[1] / e * e), r[2] = Math.min(255, r[2] / e * e), (0, n.rgb2hex)(r)
                    },
                    cacheStepsPerColorChannel: 8,
                    convertTintToImage: !1,
                    canUseMultiply: (0, o.default)(),
                    tintMethod: 0
                };
            s.tintMethod = s.canUseMultiply ? s.tintWithMultiply : s.tintWithPerPixel, r.default = s
        }, {
            "../../renderers/canvas/utils/canUseNewCanvasBlendModes": 80,
            "../../utils": 125
        }],
        105: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                function t(e) {
                    n(this, t), this.vertices = new ArrayBuffer(e), this.float32View = new Float32Array(this.vertices), this.uint32View = new Uint32Array(this.vertices)
                }
                return t.prototype.destroy = function () {
                    this.vertices = null, this.positions = null, this.uvs = null, this.colors = null
                }, t
            }();
            r.default = i
        }, {}],
        106: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = t("../../renderers/webgl/utils/ObjectRenderer"),
                u = n(a),
                h = t("../../renderers/webgl/WebGLRenderer"),
                l = n(h),
                c = t("../../utils/createIndicesForQuads"),
                d = n(c),
                f = t("./generateMultiTextureShader"),
                p = n(f),
                v = t("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),
                g = n(v),
                y = t("./BatchBuffer"),
                m = n(y),
                _ = t("../../settings"),
                b = n(_),
                x = t("../../utils"),
                T = t("pixi-gl-core"),
                w = n(T),
                E = t("bit-twiddle"),
                S = n(E),
                O = 0,
                M = 0,
                P = function (t) {
                    function e(r) {
                        i(this, e);
                        var n = o(this, t.call(this, r));
                        n.vertSize = 5, n.vertByteSize = 4 * n.vertSize, n.size = b.default.SPRITE_BATCH_SIZE, n.buffers = [];
                        for (var s = 1; s <= S.default.nextPow2(n.size); s *= 2) n.buffers.push(new m.default(4 * s * n.vertByteSize));
                        n.indices = (0, d.default)(n.size), n.shader = null, n.currentIndex = 0, n.groups = [];
                        for (var a = 0; a < n.size; a++) n.groups[a] = {
                            textures: [],
                            textureCount: 0,
                            ids: [],
                            size: 0,
                            start: 0,
                            blend: 0
                        };
                        return n.sprites = [], n.vertexBuffers = [], n.vaos = [], n.vaoMax = 2, n.vertexCount = 0, n.renderer.on("prerender", n.onPrerender, n), n
                    }
                    return s(e, t), e.prototype.onContextChange = function () {
                        var t = this.renderer.gl;
                        this.renderer.legacy ? this.MAX_TEXTURES = 1 : (this.MAX_TEXTURES = Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS), b.default.SPRITE_MAX_TEXTURES), this.MAX_TEXTURES = (0, g.default)(this.MAX_TEXTURES, t)), this.shader = (0, p.default)(t, this.MAX_TEXTURES), this.indexBuffer = w.default.GLBuffer.createIndexBuffer(t, this.indices, t.STATIC_DRAW), this.renderer.bindVao(null);
                        for (var e = this.shader.attributes, r = 0; r < this.vaoMax; r++) {
                            var n = this.vertexBuffers[r] = w.default.GLBuffer.createVertexBuffer(t, null, t.STREAM_DRAW),
                                i = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n, e.aVertexPosition, t.FLOAT, !1, this.vertByteSize, 0).addAttribute(n, e.aTextureCoord, t.UNSIGNED_SHORT, !0, this.vertByteSize, 8).addAttribute(n, e.aColor, t.UNSIGNED_BYTE, !0, this.vertByteSize, 12);
                            e.aTextureId && i.addAttribute(n, e.aTextureId, t.FLOAT, !1, this.vertByteSize, 16), this.vaos[r] = i
                        }
                        this.vao = this.vaos[0], this.currentBlendMode = 99999, this.boundTextures = new Array(this.MAX_TEXTURES)
                    }, e.prototype.onPrerender = function () {
                        this.vertexCount = 0
                    }, e.prototype.render = function (t) {
                        this.currentIndex >= this.size && this.flush(), t._texture._uvs && (this.sprites[this.currentIndex++] = t)
                    }, e.prototype.flush = function () {
                        if (0 !== this.currentIndex) {
                            var t = this.renderer.gl,
                                e = this.MAX_TEXTURES,
                                r = S.default.nextPow2(this.currentIndex),
                                n = S.default.log2(r),
                                i = this.buffers[n],
                                o = this.sprites,
                                s = this.groups,
                                a = i.float32View,
                                u = i.uint32View,
                                h = this.boundTextures,
                                l = this.renderer.boundTextures,
                                c = this.renderer.textureGC.count,
                                d = 0,
                                f = void 0,
                                p = void 0,
                                v = 1,
                                g = 0,
                                y = s[0],
                                m = void 0,
                                _ = void 0,
                                T = x.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha ? 1 : 0][o[0].blendMode];
                            y.textureCount = 0, y.start = 0, y.blend = T, O++;
                            var E = void 0;
                            for (E = 0; E < e; ++E) {
                                var P = l[E];
                                P._enabled !== O ? (h[E] = P, P._virtalBoundId = E, P._enabled = O) : h[E] = this.renderer.emptyTextures[E]
                            }
                            for (O++, E = 0; E < this.currentIndex; ++E) {
                                var C = o[E];
                                o[E] = null, f = C._texture.baseTexture;
                                var R = x.premultiplyBlendMode[Number(f.premultipliedAlpha)][C.blendMode];
                                if (T !== R && (T = R, p = null, g = e, O++), p !== f && (p = f, f._enabled !== O)) {
                                    if (g === e && (O++, y.size = E - y.start, g = 0, y = s[v++], y.blend = T, y.textureCount = 0, y.start = E), f.touched = c, -1 === f._virtalBoundId)
                                        for (var A = 0; A < e; ++A) {
                                            var I = (A + M) % e,
                                                D = h[I];
                                            if (D._enabled !== O) {
                                                M++, D._virtalBoundId = -1, f._virtalBoundId = I, h[I] = f;
                                                break
                                            }
                                        }
                                    f._enabled = O, y.textureCount++, y.ids[g] = f._virtalBoundId, y.textures[g++] = f
                                }
                                if (m = C.vertexData, _ = C._texture._uvs.uvsUint32, this.renderer.roundPixels) {
                                    var L = this.renderer.resolution;
                                    a[d] = (m[0] * L | 0) / L, a[d + 1] = (m[1] * L | 0) / L, a[d + 5] = (m[2] * L | 0) / L, a[d + 6] = (m[3] * L | 0) / L, a[d + 10] = (m[4] * L | 0) / L, a[d + 11] = (m[5] * L | 0) / L, a[d + 15] = (m[6] * L | 0) / L, a[d + 16] = (m[7] * L | 0) / L
                                } else a[d] = m[0], a[d + 1] = m[1], a[d + 5] = m[2], a[d + 6] = m[3], a[d + 10] = m[4], a[d + 11] = m[5], a[d + 15] = m[6], a[d + 16] = m[7];
                                u[d + 2] = _[0], u[d + 7] = _[1], u[d + 12] = _[2], u[d + 17] = _[3];
                                var N = Math.min(C.worldAlpha, 1),
                                    B = N < 1 && f.premultipliedAlpha ? (0, x.premultiplyTint)(C._tintRGB, N) : C._tintRGB + (255 * N << 24);
                                u[d + 3] = u[d + 8] = u[d + 13] = u[d + 18] = B, a[d + 4] = a[d + 9] = a[d + 14] = a[d + 19] = f._virtalBoundId, d += 20
                            }
                            if (y.size = E - y.start, b.default.CAN_UPLOAD_SAME_BUFFER) this.vertexBuffers[this.vertexCount].upload(i.vertices, 0, !0);
                            else {
                                if (this.vaoMax <= this.vertexCount) {
                                    this.vaoMax++;
                                    var k = this.shader.attributes,
                                        F = this.vertexBuffers[this.vertexCount] = w.default.GLBuffer.createVertexBuffer(t, null, t.STREAM_DRAW),
                                        j = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(F, k.aVertexPosition, t.FLOAT, !1, this.vertByteSize, 0).addAttribute(F, k.aTextureCoord, t.UNSIGNED_SHORT, !0, this.vertByteSize, 8).addAttribute(F, k.aColor, t.UNSIGNED_BYTE, !0, this.vertByteSize, 12);
                                    k.aTextureId && j.addAttribute(F, k.aTextureId, t.FLOAT, !1, this.vertByteSize, 16), this.vaos[this.vertexCount] = j
                                }
                                this.renderer.bindVao(this.vaos[this.vertexCount]), this.vertexBuffers[this.vertexCount].upload(i.vertices, 0, !1), this.vertexCount++
                            }
                            for (E = 0; E < e; ++E) l[E]._virtalBoundId = -1;
                            for (E = 0; E < v; ++E) {
                                for (var U = s[E], X = U.textureCount, G = 0; G < X; G++) p = U.textures[G], l[U.ids[G]] !== p && this.renderer.bindTexture(p, U.ids[G], !0), p._virtalBoundId = -1;
                                this.renderer.state.setBlendMode(U.blend), t.drawElements(t.TRIANGLES, 6 * U.size, t.UNSIGNED_SHORT, 6 * U.start * 2)
                            }
                            this.currentIndex = 0
                        }
                    }, e.prototype.start = function () {
                        this.renderer.bindShader(this.shader), b.default.CAN_UPLOAD_SAME_BUFFER && (this.renderer.bindVao(this.vaos[this.vertexCount]), this.vertexBuffers[this.vertexCount].bind())
                    }, e.prototype.stop = function () {
                        this.flush()
                    }, e.prototype.destroy = function () {
                        for (var e = 0; e < this.vaoMax; e++) this.vertexBuffers[e] && this.vertexBuffers[e].destroy(), this.vaos[e] && this.vaos[e].destroy();
                        this.indexBuffer && this.indexBuffer.destroy(), this.renderer.off("prerender", this.onPrerender, this), t.prototype.destroy.call(this), this.shader && (this.shader.destroy(), this.shader = null), this.vertexBuffers = null, this.vaos = null, this.indexBuffer = null, this.indices = null, this.sprites = null;
                        for (var r = 0; r < this.buffers.length; ++r) this.buffers[r].destroy()
                    }, e
                }(u.default);
            r.default = P, l.default.registerPlugin("sprite", P)
        }, {
            "../../renderers/webgl/WebGLRenderer": 84,
            "../../renderers/webgl/utils/ObjectRenderer": 94,
            "../../renderers/webgl/utils/checkMaxIfStatmentsInShader": 97,
            "../../settings": 101,
            "../../utils": 125,
            "../../utils/createIndicesForQuads": 123,
            "./BatchBuffer": 105,
            "./generateMultiTextureShader": 107,
            "bit-twiddle": 1,
            "pixi-gl-core": 15
        }],
        107: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                var r = a;
                r = r.replace(/%count%/gi, e), r = r.replace(/%forloop%/gi, i(e));
                for (var n = new s.default(t, "precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n", r), o = [], u = 0; u < e; u++) o[u] = u;
                return n.bind(), n.uniforms.uSamplers = o, n
            }
            function i(t) {
                var e = "";
                e += "\n", e += "\n";
                for (var r = 0; r < t; r++) r > 0 && (e += "\nelse "), r < t - 1 && (e += "if(textureId == " + r + ".0)"), e += "\n{", e += "\n\tcolor = texture2D(uSamplers[" + r + "], vTextureCoord);", e += "\n}";
                return e += "\n", e += "\n"
            }
            r.__esModule = !0, r.default = n;
            var o = t("../../Shader"),
                s = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(o),
                a = (t("path"), ["varying vec2 vTextureCoord;", "varying vec4 vColor;", "varying float vTextureId;", "uniform sampler2D uSamplers[%count%];", "void main(void){", "vec4 color;", "float textureId = floor(vTextureId+0.5);", "%forloop%", "gl_FragColor = color * vColor;", "}"].join("\n"))
        }, {
            "../../Shader": 44,
            path: 8
        }],
        108: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                u = t("../sprites/Sprite"),
                h = n(u),
                l = t("../textures/Texture"),
                c = n(l),
                d = t("../math"),
                f = t("../utils"),
                p = t("../const"),
                v = t("../settings"),
                g = n(v),
                y = t("./TextStyle"),
                m = n(y),
                _ = t("./TextMetrics"),
                b = n(_),
                x = t("../utils/trimCanvas"),
                T = n(x),
                w = {
                    texture: !0,
                    children: !1,
                    baseTexture: !0
                },
                E = function (t) {
                    function e(r, n, s) {
                        i(this, e), s = s || document.createElement("canvas"), s.width = 3, s.height = 3;
                        var a = c.default.fromCanvas(s, g.default.SCALE_MODE, "text");
                        a.orig = new d.Rectangle, a.trim = new d.Rectangle;
                        var u = o(this, t.call(this, a));
                        return c.default.addToCache(u._texture, u._texture.baseTexture.textureCacheIds[0]), u.canvas = s, u.context = u.canvas.getContext("2d"), u.resolution = g.default.RESOLUTION, u._text = null, u._style = null, u._styleListener = null, u._font = "", u.text = r, u.style = n, u.localStyleID = -1, u
                    }
                    return s(e, t), e.prototype.updateText = function (t) {
                        var e = this._style;
                        if (this.localStyleID !== e.styleID && (this.dirty = !0, this.localStyleID = e.styleID), this.dirty || !t) {
                            this._font = this._style.toFontString();
                            var r = this.context,
                                n = b.default.measureText(this._text, this._style, this._style.wordWrap, this.canvas),
                                i = n.width,
                                o = n.height,
                                s = n.lines,
                                a = n.lineHeight,
                                u = n.lineWidths,
                                h = n.maxLineWidth,
                                l = n.fontProperties;
                            this.canvas.width = Math.ceil((Math.max(1, i) + 2 * e.padding) * this.resolution), this.canvas.height = Math.ceil((Math.max(1, o) + 2 * e.padding) * this.resolution), r.scale(this.resolution, this.resolution), r.clearRect(0, 0, this.canvas.width, this.canvas.height), r.font = this._font, r.strokeStyle = e.stroke, r.lineWidth = e.strokeThickness, r.textBaseline = e.textBaseline, r.lineJoin = e.lineJoin, r.miterLimit = e.miterLimit;
                            var c = void 0,
                                d = void 0;
                            if (e.dropShadow) {
                                r.fillStyle = e.dropShadowColor, r.globalAlpha = e.dropShadowAlpha, r.shadowBlur = e.dropShadowBlur, e.dropShadowBlur > 0 && (r.shadowColor = e.dropShadowColor);
                                for (var f = Math.cos(e.dropShadowAngle) * e.dropShadowDistance, p = Math.sin(e.dropShadowAngle) * e.dropShadowDistance, v = 0; v < s.length; v++) c = e.strokeThickness / 2, d = e.strokeThickness / 2 + v * a + l.ascent, "right" === e.align ? c += h - u[v] : "center" === e.align && (c += (h - u[v]) / 2), e.fill && (this.drawLetterSpacing(s[v], c + f + e.padding, d + p + e.padding), e.stroke && e.strokeThickness && (r.strokeStyle = e.dropShadowColor, this.drawLetterSpacing(s[v], c + f + e.padding, d + p + e.padding, !0), r.strokeStyle = e.stroke))
                            }
                            r.shadowBlur = 0, r.globalAlpha = 1, r.fillStyle = this._generateFillStyle(e, s);
                            for (var g = 0; g < s.length; g++) c = e.strokeThickness / 2, d = e.strokeThickness / 2 + g * a + l.ascent, "right" === e.align ? c += h - u[g] : "center" === e.align && (c += (h - u[g]) / 2), e.stroke && e.strokeThickness && this.drawLetterSpacing(s[g], c + e.padding, d + e.padding, !0), e.fill && this.drawLetterSpacing(s[g], c + e.padding, d + e.padding);
                            this.updateTexture()
                        }
                    }, e.prototype.drawLetterSpacing = function (t, e, r) {
                        var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                            i = this._style,
                            o = i.letterSpacing;
                        if (0 === o) return void(n ? this.context.strokeText(t, e, r) : this.context.fillText(t, e, r));
                        for (var s = String.prototype.split.call(t, ""), a = e, u = 0, h = ""; u < t.length;) h = s[u++], n ? this.context.strokeText(h, a, r) : this.context.fillText(h, a, r), a += this.context.measureText(h).width + o
                    }, e.prototype.updateTexture = function () {
                        var t = this.canvas;
                        if (this._style.trim) {
                            var e = (0, T.default)(t);
                            e.data && (t.width = e.width, t.height = e.height, this.context.putImageData(e.data, 0, 0))
                        }
                        var r = this._texture,
                            n = this._style,
                            i = n.trim ? 0 : n.padding,
                            o = r.baseTexture;
                        o.hasLoaded = !0, o.resolution = this.resolution, o.realWidth = t.width, o.realHeight = t.height, o.width = t.width / this.resolution, o.height = t.height / this.resolution, r.trim.width = r._frame.width = t.width / this.resolution, r.trim.height = r._frame.height = t.height / this.resolution, r.trim.x = -i, r.trim.y = -i, r.orig.width = r._frame.width - 2 * i, r.orig.height = r._frame.height - 2 * i, this._onTextureUpdate(), o.emit("update", o), this.dirty = !1
                    }, e.prototype.renderWebGL = function (e) {
                        this.resolution !== e.resolution && (this.resolution = e.resolution, this.dirty = !0), this.updateText(!0), t.prototype.renderWebGL.call(this, e)
                    }, e.prototype._renderCanvas = function (e) {
                        this.resolution !== e.resolution && (this.resolution = e.resolution, this.dirty = !0), this.updateText(!0), t.prototype._renderCanvas.call(this, e)
                    }, e.prototype.getLocalBounds = function (e) {
                        return this.updateText(!0), t.prototype.getLocalBounds.call(this, e)
                    }, e.prototype._calculateBounds = function () {
                        this.updateText(!0), this.calculateVertices(), this._bounds.addQuad(this.vertexData)
                    }, e.prototype._onStyleChange = function () {
                        this.dirty = !0
                    }, e.prototype._generateFillStyle = function (t, e) {
                        if (!Array.isArray(t.fill)) return t.fill;
                        if (navigator.isCocoonJS) return t.fill[0];
                        var r = void 0,
                            n = void 0,
                            i = void 0,
                            o = void 0,
                            s = this.canvas.width / this.resolution,
                            a = this.canvas.height / this.resolution,
                            u = t.fill.slice(),
                            h = t.fillGradientStops.slice();
                        if (!h.length)
                            for (var l = u.length + 1, c = 1; c < l; ++c) h.push(c / l);
                        if (u.unshift(t.fill[0]), h.unshift(0), u.push(t.fill[t.fill.length - 1]), h.push(1), t.fillGradientType === p.TEXT_GRADIENT.LINEAR_VERTICAL) {
                            r = this.context.createLinearGradient(s / 2, 0, s / 2, a), n = (u.length + 1) * e.length, i = 0;
                            for (var d = 0; d < e.length; d++) {
                                i += 1;
                                for (var f = 0; f < u.length; f++) o = "number" == typeof h[f] ? h[f] / e.length + d / e.length : i / n, r.addColorStop(o, u[f]), i++
                            }
                        } else {
                            r = this.context.createLinearGradient(0, a / 2, s, a / 2), n = u.length + 1, i = 1;
                            for (var v = 0; v < u.length; v++) o = "number" == typeof h[v] ? h[v] : i / n, r.addColorStop(o, u[v]), i++
                        }
                        return r
                    }, e.prototype.destroy = function (e) {
                        "boolean" == typeof e && (e = {
                            children: e
                        }), e = Object.assign({}, w, e), t.prototype.destroy.call(this, e), this.context = null, this.canvas = null, this._style = null
                    }, a(e, [{
                        key: "width",
                        get: function () {
                            return this.updateText(!0), Math.abs(this.scale.x) * this._texture.orig.width
                        },
                        set: function (t) {
                            this.updateText(!0);
                            var e = (0, f.sign)(this.scale.x) || 1;
                            this.scale.x = e * t / this._texture.orig.width, this._width = t
                        }
                    }, {
                        key: "height",
                        get: function () {
                            return this.updateText(!0), Math.abs(this.scale.y) * this._texture.orig.height
                        },
                        set: function (t) {
                            this.updateText(!0);
                            var e = (0, f.sign)(this.scale.y) || 1;
                            this.scale.y = e * t / this._texture.orig.height, this._height = t
                        }
                    }, {
                        key: "style",
                        get: function () {
                            return this._style
                        },
                        set: function (t) {
                            t = t || {}, t instanceof m.default ? this._style = t : this._style = new m.default(t), this.localStyleID = -1, this.dirty = !0
                        }
                    }, {
                        key: "text",
                        get: function () {
                            return this._text
                        },
                        set: function (t) {
                            t = String("" === t || null === t || void 0 === t ? " " : t), this._text !== t && (this._text = t, this.dirty = !0)
                        }
                    }]), e
                }(h.default);
            r.default = E
        }, {
            "../const": 46,
            "../math": 70,
            "../settings": 101,
            "../sprites/Sprite": 102,
            "../textures/Texture": 115,
            "../utils": 125,
            "../utils/trimCanvas": 130,
            "./TextMetrics": 109,
            "./TextStyle": 110
        }],
        109: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                function t(e, r, i, o, s, a, u, h, l) {
                    n(this, t), this.text = e, this.style = r, this.width = i, this.height = o, this.lines = s, this.lineWidths = a, this.lineHeight = u, this.maxLineWidth = h, this.fontProperties = l
                }
                return t.measureText = function (e, r, n) {
                    var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : t._canvas;
                    n = void 0 === n || null === n ? r.wordWrap : n;
                    var o = r.toFontString(),
                        s = t.measureFont(o),
                        a = i.getContext("2d");
                    a.font = o;
                    for (var u = n ? t.wordWrap(e, r, i) : e, h = u.split(/(?:\r\n|\r|\n)/), l = new Array(h.length), c = 0, d = 0; d < h.length; d++) {
                        var f = a.measureText(h[d]).width + (h[d].length - 1) * r.letterSpacing;
                        l[d] = f, c = Math.max(c, f)
                    }
                    var p = c + r.strokeThickness;
                    r.dropShadow && (p += r.dropShadowDistance);
                    var v = r.lineHeight || s.fontSize + r.strokeThickness,
                        g = Math.max(v, s.fontSize + r.strokeThickness) + (h.length - 1) * (v + r.leading);
                    return r.dropShadow && (g += r.dropShadowDistance), new t(e, r, p, g, h, l, v + r.leading, c, s)
                }, t.wordWrap = function (e, r) {
                    for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t._canvas, i = n.getContext("2d"), o = 0, s = "", a = "", u = {}, h = r.letterSpacing, l = r.whiteSpace, c = t.collapseSpaces(l), d = t.collapseNewlines(l), f = !c, p = r.wordWrapWidth + h, v = t.tokenize(e), g = 0; g < v.length; g++) {
                        var y = v[g];
                        if (t.isNewline(y)) {
                            if (!d) {
                                a += t.addLine(s), f = !c, s = "", o = 0;
                                continue
                            }
                            y = " "
                        }
                        if (c) {
                            var m = t.isBreakingSpace(y),
                                _ = t.isBreakingSpace(s[s.length - 1]);
                            if (m && _) continue
                        }
                        var b = t.getFromCache(y, h, u, i);
                        if (b > p)
                            if ("" !== s && (a += t.addLine(s), s = "", o = 0), t.canBreakWords(y, r.breakWords))
                                for (var x = y.split(""), T = 0; T < x.length; T++) {
                                    for (var w = x[T], E = 1; x[T + E];) {
                                        var S = x[T + E],
                                            O = w[w.length - 1];
                                        if (t.canBreakChars(O, S, y, T, r.breakWords)) break;
                                        w += S, E++
                                    }
                                    T += w.length - 1;
                                    var M = t.getFromCache(w, h, u, i);
                                    M + o > p && (a += t.addLine(s), f = !1, s = "", o = 0), s += w, o += M
                                } else {
                                    s.length > 0 && (a += t.addLine(s), s = "", o = 0);
                                    var P = g === v.length - 1;
                                    a += t.addLine(y, !P), f = !1, s = "", o = 0
                                } else b + o > p && (f = !1, a += t.addLine(s), s = "", o = 0), (s.length > 0 || !t.isBreakingSpace(y) || f) && (s += y, o += b)
                    }
                    return a += t.addLine(s, !1)
                }, t.addLine = function (e) {
                    var r = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                    return e = t.trimRight(e), e = r ? e + "\n" : e
                }, t.getFromCache = function (t, e, r, n) {
                    var i = r[t];
                    if (void 0 === i) {
                        var o = t.length * e;
                        i = n.measureText(t).width + o, r[t] = i
                    }
                    return i
                }, t.collapseSpaces = function (t) {
                    return "normal" === t || "pre-line" === t
                }, t.collapseNewlines = function (t) {
                    return "normal" === t
                }, t.trimRight = function (e) {
                    if ("string" != typeof e) return "";
                    for (var r = e.length - 1; r >= 0; r--) {
                        var n = e[r];
                        if (!t.isBreakingSpace(n)) break;
                        e = e.slice(0, -1)
                    }
                    return e
                }, t.isNewline = function (e) {
                    return "string" == typeof e && t._newlines.indexOf(e.charCodeAt(0)) >= 0
                }, t.isBreakingSpace = function (e) {
                    return "string" == typeof e && t._breakingSpaces.indexOf(e.charCodeAt(0)) >= 0
                }, t.tokenize = function (e) {
                    var r = [],
                        n = "";
                    if ("string" != typeof e) return r;
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        t.isBreakingSpace(o) || t.isNewline(o) ? ("" !== n && (r.push(n), n = ""), r.push(o)) : n += o
                    }
                    return "" !== n && r.push(n), r
                }, t.canBreakWords = function (t, e) {
                    return e
                }, t.canBreakChars = function (t, e, r, n, i) {
                    return !0
                }, t.measureFont = function (e) {
                    if (t._fonts[e]) return t._fonts[e];
                    var r = {},
                        n = t._canvas,
                        i = t._context;
                    i.font = e;
                    var o = t.METRICS_STRING + t.BASELINE_SYMBOL,
                        s = Math.ceil(i.measureText(o).width),
                        a = Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),
                        u = 2 * a;
                    a = a * t.BASELINE_MULTIPLIER | 0, n.width = s, n.height = u, i.fillStyle = "#f00", i.fillRect(0, 0, s, u), i.font = e, i.textBaseline = "alphabetic", i.fillStyle = "#000", i.fillText(o, 0, a);
                    var h = i.getImageData(0, 0, s, u).data,
                        l = h.length,
                        c = 4 * s,
                        d = 0,
                        f = 0,
                        p = !1;
                    for (d = 0; d < a; ++d) {
                        for (var v = 0; v < c; v += 4)
                            if (255 !== h[f + v]) {
                                p = !0;
                                break
                            } if (p) break;
                        f += c
                    }
                    for (r.ascent = a - d, f = l - c, p = !1, d = u; d > a; --d) {
                        for (var g = 0; g < c; g += 4)
                            if (255 !== h[f + g]) {
                                p = !0;
                                break
                            } if (p) break;
                        f -= c
                    }
                    return r.descent = d - a, r.fontSize = r.ascent + r.descent, t._fonts[e] = r, r
                }, t.clearMetrics = function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    e ? delete t._fonts[e] : t._fonts = {}
                }, t
            }();
            r.default = i;
            var o = document.createElement("canvas");
            o.width = o.height = 10, i._canvas = o, i._context = o.getContext("2d"), i._fonts = {}, i.METRICS_STRING = "|q", i.BASELINE_SYMBOL = "M", i.BASELINE_MULTIPLIER = 1.4, i._newlines = [10, 13], i._breakingSpaces = [9, 32, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8200, 8201, 8202, 8287, 12288]
        }, {}],
        110: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t) {
                return "number" == typeof t ? (0, l.hex2string)(t) : ("string" == typeof t && 0 === t.indexOf("0x") && (t = t.replace("0x", "#")), t)
            }
            function o(t) {
                if (Array.isArray(t)) {
                    for (var e = 0; e < t.length; ++e) t[e] = i(t[e]);
                    return t
                }
                return i(t)
            }
            function s(t, e) {
                if (!Array.isArray(t) || !Array.isArray(e)) return !1;
                if (t.length !== e.length) return !1;
                for (var r = 0; r < t.length; ++r)
                    if (t[r] !== e[r]) return !1;
                return !0
            }
            function a(t, e, r) {
                for (var n in r) Array.isArray(e[n]) ? t[n] = e[n].slice() : t[n] = e[n]
            }
            r.__esModule = !0;
            var u = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                h = t("../const"),
                l = t("../utils"),
                c = {
                    align: "left",
                    breakWords: !1,
                    dropShadow: !1,
                    dropShadowAlpha: 1,
                    dropShadowAngle: Math.PI / 6,
                    dropShadowBlur: 0,
                    dropShadowColor: "black",
                    dropShadowDistance: 5,
                    fill: "black",
                    fillGradientType: h.TEXT_GRADIENT.LINEAR_VERTICAL,
                    fillGradientStops: [],
                    fontFamily: "Arial",
                    fontSize: 26,
                    fontStyle: "normal",
                    fontVariant: "normal",
                    fontWeight: "normal",
                    letterSpacing: 0,
                    lineHeight: 0,
                    lineJoin: "miter",
                    miterLimit: 10,
                    padding: 0,
                    stroke: "black",
                    strokeThickness: 0,
                    textBaseline: "alphabetic",
                    trim: !1,
                    whiteSpace: "pre",
                    wordWrap: !1,
                    wordWrapWidth: 100,
                    leading: 0
                },
                d = ["serif", "sans-serif", "monospace", "cursive", "fantasy", "system-ui"],
                f = function () {
                    function t(e) {
                        n(this, t), this.styleID = 0, this.reset(), a(this, e, e)
                    }
                    return t.prototype.clone = function () {
                        var e = {};
                        return a(e, this, c), new t(e)
                    }, t.prototype.reset = function () {
                        a(this, c, c)
                    }, t.prototype.toFontString = function () {
                        var t = "number" == typeof this.fontSize ? this.fontSize + "px" : this.fontSize,
                            e = this.fontFamily;
                        Array.isArray(this.fontFamily) || (e = this.fontFamily.split(","));
                        for (var r = e.length - 1; r >= 0; r--) {
                            var n = e[r].trim();
                            !/([\"\'])[^\'\"]+\1/.test(n) && d.indexOf(n) < 0 && (n = '"' + n + '"'), e[r] = n
                        }
                        return this.fontStyle + " " + this.fontVariant + " " + this.fontWeight + " " + t + " " + e.join(",")
                    }, u(t, [{
                        key: "align",
                        get: function () {
                            return this._align
                        },
                        set: function (t) {
                            this._align !== t && (this._align = t, this.styleID++)
                        }
                    }, {
                        key: "breakWords",
                        get: function () {
                            return this._breakWords
                        },
                        set: function (t) {
                            this._breakWords !== t && (this._breakWords = t, this.styleID++)
                        }
                    }, {
                        key: "dropShadow",
                        get: function () {
                            return this._dropShadow
                        },
                        set: function (t) {
                            this._dropShadow !== t && (this._dropShadow = t, this.styleID++)
                        }
                    }, {
                        key: "dropShadowAlpha",
                        get: function () {
                            return this._dropShadowAlpha
                        },
                        set: function (t) {
                            this._dropShadowAlpha !== t && (this._dropShadowAlpha = t, this.styleID++)
                        }
                    }, {
                        key: "dropShadowAngle",
                        get: function () {
                            return this._dropShadowAngle
                        },
                        set: function (t) {
                            this._dropShadowAngle !== t && (this._dropShadowAngle = t, this.styleID++)
                        }
                    }, {
                        key: "dropShadowBlur",
                        get: function () {
                            return this._dropShadowBlur
                        },
                        set: function (t) {
                            this._dropShadowBlur !== t && (this._dropShadowBlur = t, this.styleID++)
                        }
                    }, {
                        key: "dropShadowColor",
                        get: function () {
                            return this._dropShadowColor
                        },
                        set: function (t) {
                            var e = o(t);
                            this._dropShadowColor !== e && (this._dropShadowColor = e, this.styleID++)
                        }
                    }, {
                        key: "dropShadowDistance",
                        get: function () {
                            return this._dropShadowDistance
                        },
                        set: function (t) {
                            this._dropShadowDistance !== t && (this._dropShadowDistance = t, this.styleID++)
                        }
                    }, {
                        key: "fill",
                        get: function () {
                            return this._fill
                        },
                        set: function (t) {
                            var e = o(t);
                            this._fill !== e && (this._fill = e, this.styleID++)
                        }
                    }, {
                        key: "fillGradientType",
                        get: function () {
                            return this._fillGradientType
                        },
                        set: function (t) {
                            this._fillGradientType !== t && (this._fillGradientType = t, this.styleID++)
                        }
                    }, {
                        key: "fillGradientStops",
                        get: function () {
                            return this._fillGradientStops
                        },
                        set: function (t) {
                            s(this._fillGradientStops, t) || (this._fillGradientStops = t, this.styleID++)
                        }
                    }, {
                        key: "fontFamily",
                        get: function () {
                            return this._fontFamily
                        },
                        set: function (t) {
                            this.fontFamily !== t && (this._fontFamily = t, this.styleID++)
                        }
                    }, {
                        key: "fontSize",
                        get: function () {
                            return this._fontSize
                        },
                        set: function (t) {
                            this._fontSize !== t && (this._fontSize = t, this.styleID++)
                        }
                    }, {
                        key: "fontStyle",
                        get: function () {
                            return this._fontStyle
                        },
                        set: function (t) {
                            this._fontStyle !== t && (this._fontStyle = t, this.styleID++)
                        }
                    }, {
                        key: "fontVariant",
                        get: function () {
                            return this._fontVariant
                        },
                        set: function (t) {
                            this._fontVariant !== t && (this._fontVariant = t, this.styleID++)
                        }
                    }, {
                        key: "fontWeight",
                        get: function () {
                            return this._fontWeight
                        },
                        set: function (t) {
                            this._fontWeight !== t && (this._fontWeight = t, this.styleID++)
                        }
                    }, {
                        key: "letterSpacing",
                        get: function () {
                            return this._letterSpacing
                        },
                        set: function (t) {
                            this._letterSpacing !== t && (this._letterSpacing = t, this.styleID++)
                        }
                    }, {
                        key: "lineHeight",
                        get: function () {
                            return this._lineHeight
                        },
                        set: function (t) {
                            this._lineHeight !== t && (this._lineHeight = t, this.styleID++)
                        }
                    }, {
                        key: "leading",
                        get: function () {
                            return this._leading
                        },
                        set: function (t) {
                            this._leading !== t && (this._leading = t, this.styleID++)
                        }
                    }, {
                        key: "lineJoin",
                        get: function () {
                            return this._lineJoin
                        },
                        set: function (t) {
                            this._lineJoin !== t && (this._lineJoin = t, this.styleID++)
                        }
                    }, {
                        key: "miterLimit",
                        get: function () {
                            return this._miterLimit
                        },
                        set: function (t) {
                            this._miterLimit !== t && (this._miterLimit = t, this.styleID++)
                        }
                    }, {
                        key: "padding",
                        get: function () {
                            return this._padding
                        },
                        set: function (t) {
                            this._padding !== t && (this._padding = t, this.styleID++)
                        }
                    }, {
                        key: "stroke",
                        get: function () {
                            return this._stroke
                        },
                        set: function (t) {
                            var e = o(t);
                            this._stroke !== e && (this._stroke = e, this.styleID++)
                        }
                    }, {
                        key: "strokeThickness",
                        get: function () {
                            return this._strokeThickness
                        },
                        set: function (t) {
                            this._strokeThickness !== t && (this._strokeThickness = t, this.styleID++)
                        }
                    }, {
                        key: "textBaseline",
                        get: function () {
                            return this._textBaseline
                        },
                        set: function (t) {
                            this._textBaseline !== t && (this._textBaseline = t, this.styleID++)
                        }
                    }, {
                        key: "trim",
                        get: function () {
                            return this._trim
                        },
                        set: function (t) {
                            this._trim !== t && (this._trim = t, this.styleID++)
                        }
                    }, {
                        key: "whiteSpace",
                        get: function () {
                            return this._whiteSpace
                        },
                        set: function (t) {
                            this._whiteSpace !== t && (this._whiteSpace = t, this.styleID++)
                        }
                    }, {
                        key: "wordWrap",
                        get: function () {
                            return this._wordWrap
                        },
                        set: function (t) {
                            this._wordWrap !== t && (this._wordWrap = t, this.styleID++)
                        }
                    }, {
                        key: "wordWrapWidth",
                        get: function () {
                            return this._wordWrapWidth
                        },
                        set: function (t) {
                            this._wordWrapWidth !== t && (this._wordWrapWidth = t, this.styleID++)
                        }
                    }]), t
                }();
            r.default = f
        }, {
            "../const": 46,
            "../utils": 125
        }],
        111: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = t("./BaseTexture"),
                u = n(a),
                h = t("../settings"),
                l = n(h),
                c = function (t) {
                    function e() {
                        var r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 100,
                            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100,
                            s = arguments[2],
                            a = arguments[3];
                        i(this, e);
                        var u = o(this, t.call(this, null, s));
                        return u.resolution = a || l.default.RESOLUTION, u.width = Math.ceil(r), u.height = Math.ceil(n), u.realWidth = u.width * u.resolution, u.realHeight = u.height * u.resolution, u.scaleMode = void 0 !== s ? s : l.default.SCALE_MODE, u.hasLoaded = !0, u._glRenderTargets = {}, u._canvasRenderTarget = null, u.valid = !1, u
                    }
                    return s(e, t), e.prototype.resize = function (t, e) {
                        t = Math.ceil(t), e = Math.ceil(e), t === this.width && e === this.height || (this.valid = t > 0 && e > 0, this.width = t, this.height = e, this.realWidth = this.width * this.resolution, this.realHeight = this.height * this.resolution, this.valid && this.emit("update", this))
                    }, e.prototype.destroy = function () {
                        t.prototype.destroy.call(this, !0), this.renderer = null
                    }, e
                }(u.default);
            r.default = c
        }, {
            "../settings": 101,
            "./BaseTexture": 112
        }],
        112: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = t("../utils"),
                u = t("../settings"),
                h = n(u),
                l = t("eventemitter3"),
                c = n(l),
                d = t("../utils/determineCrossOrigin"),
                f = n(d),
                p = t("bit-twiddle"),
                v = n(p),
                g = function (t) {
                    function e(r, n, s) {
                        i(this, e);
                        var u = o(this, t.call(this));
                        return u.uid = (0, a.uid)(), u.touched = 0, u.resolution = s || h.default.RESOLUTION, u.width = 100, u.height = 100, u.realWidth = 100, u.realHeight = 100, u.scaleMode = void 0 !== n ? n : h.default.SCALE_MODE, u.hasLoaded = !1, u.isLoading = !1, u.source = null, u.origSource = null, u.imageType = null, u.sourceScale = 1, u.premultipliedAlpha = !0, u.imageUrl = null, u.isPowerOfTwo = !1, u.mipmap = h.default.MIPMAP_TEXTURES, u.wrapMode = h.default.WRAP_MODE, u._glTextures = {}, u._enabled = 0, u._virtalBoundId = -1, u._destroyed = !1, u.textureCacheIds = [], r && u.loadSource(r), u
                    }
                    return s(e, t), e.prototype.update = function () {
                        "svg" !== this.imageType && (this.realWidth = this.source.naturalWidth || this.source.videoWidth || this.source.width, this.realHeight = this.source.naturalHeight || this.source.videoHeight || this.source.height, this._updateDimensions()), this.emit("update", this)
                    }, e.prototype._updateDimensions = function () {
                        this.width = this.realWidth / this.resolution, this.height = this.realHeight / this.resolution, this.isPowerOfTwo = v.default.isPow2(this.realWidth) && v.default.isPow2(this.realHeight)
                    }, e.prototype.loadSource = function (t) {
                        var e = this.isLoading;
                        this.hasLoaded = !1, this.isLoading = !1, e && this.source && (this.source.onload = null, this.source.onerror = null);
                        var r = !this.source;
                        if (this.source = t, (t.src && t.complete || t.getContext) && t.width && t.height) this._updateImageType(), "svg" === this.imageType ? this._loadSvgSource() : this._sourceLoaded(), r && this.emit("loaded", this);
                        else if (!t.getContext) {
                            this.isLoading = !0;
                            var n = this;
                            if (t.onload = function () {
                                    if (n._updateImageType(), t.onload = null, t.onerror = null, n.isLoading) {
                                        if (n.isLoading = !1, n._sourceLoaded(), "svg" === n.imageType) return void n._loadSvgSource();
                                        n.emit("loaded", n)
                                    }
                                }, t.onerror = function () {
                                    t.onload = null, t.onerror = null, n.isLoading && (n.isLoading = !1, n.emit("error", n))
                                }, t.complete && t.src) {
                                if (t.onload = null, t.onerror = null, "svg" === n.imageType) return void n._loadSvgSource();
                                this.isLoading = !1, t.width && t.height ? (this._sourceLoaded(), e && this.emit("loaded", this)) : e && this.emit("error", this)
                            }
                        }
                    }, e.prototype._updateImageType = function () {
                        if (this.imageUrl) {
                            var t = (0, a.decomposeDataUri)(this.imageUrl),
                                e = void 0;
                            if (t && "image" === t.mediaType) {
                                var r = t.subType.split("+")[0];
                                if (!(e = (0, a.getUrlFileExtension)("." + r))) throw new Error("Invalid image type in data URI.")
                            } else(e = (0, a.getUrlFileExtension)(this.imageUrl)) || (e = "png");
                            this.imageType = e
                        }
                    }, e.prototype._loadSvgSource = function () {
                        if ("svg" === this.imageType) {
                            var t = (0, a.decomposeDataUri)(this.imageUrl);
                            t ? this._loadSvgSourceUsingDataUri(t) : this._loadSvgSourceUsingXhr()
                        }
                    }, e.prototype._loadSvgSourceUsingDataUri = function (t) {
                        var e = void 0;
                        if ("base64" === t.encoding) {
                            if (!atob) throw new Error("Your browser doesn't support base64 conversions.");
                            e = atob(t.data)
                        } else e = t.data;
                        this._loadSvgSourceUsingString(e)
                    }, e.prototype._loadSvgSourceUsingXhr = function () {
                        var t = this,
                            e = new XMLHttpRequest;
                        e.onload = function () {
                            if (e.readyState !== e.DONE || 200 !== e.status) throw new Error("Failed to load SVG using XHR.");
                            t._loadSvgSourceUsingString(e.response)
                        }, e.onerror = function () {
                            return t.emit("error", t)
                        }, e.open("GET", this.imageUrl, !0), e.send()
                    }, e.prototype._loadSvgSourceUsingString = function (t) {
                        var r = (0, a.getSvgSize)(t),
                            n = r.width,
                            i = r.height;
                        if (!n || !i) throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
                        this.realWidth = Math.round(n * this.sourceScale), this.realHeight = Math.round(i * this.sourceScale), this._updateDimensions();
                        var o = document.createElement("canvas");
                        o.width = this.realWidth, o.height = this.realHeight, o._pixiId = "canvas_" + (0, a.uid)(), o.getContext("2d").drawImage(this.source, 0, 0, n, i, 0, 0, this.realWidth, this.realHeight), this.origSource = this.source, this.source = o, e.addToCache(this, o._pixiId), this.isLoading = !1, this._sourceLoaded(), this.emit("loaded", this)
                    }, e.prototype._sourceLoaded = function () {
                        this.hasLoaded = !0, this.update()
                    }, e.prototype.destroy = function () {
                        this.imageUrl && (delete a.TextureCache[this.imageUrl], this.imageUrl = null, navigator.isCocoonJS || (this.source.src = "")), this.source = null, this.dispose(), e.removeFromCache(this), this.textureCacheIds = null, this._destroyed = !0
                    }, e.prototype.dispose = function () {
                        this.emit("dispose", this)
                    }, e.prototype.updateSourceImage = function (t) {
                        this.source.src = t, this.loadSource(this.source)
                    }, e.fromImage = function (t, r, n, i) {
                        var o = a.BaseTextureCache[t];
                        if (!o) {
                            var s = new Image;
                            void 0 === r && 0 !== t.indexOf("data:") ? s.crossOrigin = (0, f.default)(t) : r && (s.crossOrigin = "string" == typeof r ? r : "anonymous"), o = new e(s, n), o.imageUrl = t, i && (o.sourceScale = i), o.resolution = (0, a.getResolutionOfUrl)(t), s.src = t, e.addToCache(o, t)
                        }
                        return o
                    }, e.fromCanvas = function (t, r) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "canvas";
                        t._pixiId || (t._pixiId = n + "_" + (0, a.uid)());
                        var i = a.BaseTextureCache[t._pixiId];
                        return i || (i = new e(t, r), e.addToCache(i, t._pixiId)), i
                    }, e.from = function (t, r, n) {
                        if ("string" == typeof t) return e.fromImage(t, void 0, r, n);
                        if (t instanceof HTMLImageElement) {
                            var i = t.src,
                                o = a.BaseTextureCache[i];
                            return o || (o = new e(t, r), o.imageUrl = i, n && (o.sourceScale = n), o.resolution = (0, a.getResolutionOfUrl)(i), e.addToCache(o, i)), o
                        }
                        return t instanceof HTMLCanvasElement ? e.fromCanvas(t, r) : t
                    }, e.addToCache = function (t, e) {
                        e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e), a.BaseTextureCache[e] = t)
                    }, e.removeFromCache = function (t) {
                        if ("string" == typeof t) {
                            var e = a.BaseTextureCache[t];
                            if (e) {
                                var r = e.textureCacheIds.indexOf(t);
                                return r > -1 && e.textureCacheIds.splice(r, 1), delete a.BaseTextureCache[t], e
                            }
                        } else if (t && t.textureCacheIds) {
                            for (var n = 0; n < t.textureCacheIds.length; ++n) delete a.BaseTextureCache[t.textureCacheIds[n]];
                            return t.textureCacheIds.length = 0, t
                        }
                        return null
                    }, e
                }(c.default);
            r.default = g
        }, {
            "../settings": 101,
            "../utils": 125,
            "../utils/determineCrossOrigin": 124,
            "bit-twiddle": 1,
            eventemitter3: 3
        }],
        113: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = t("./BaseRenderTexture"),
                u = n(a),
                h = t("./Texture"),
                l = n(h),
                c = function (t) {
                    function e(r, n) {
                        i(this, e);
                        var s = null;
                        if (!(r instanceof u.default)) {
                            var a = arguments[1],
                                h = arguments[2],
                                l = arguments[3],
                                c = arguments[4];
                            console.warn("Please use RenderTexture.create(" + a + ", " + h + ") instead of the ctor directly."), s = arguments[0], n = null, r = new u.default(a, h, l, c)
                        }
                        var d = o(this, t.call(this, r, n));
                        return d.legacyRenderer = s, d.valid = !0, d._updateUvs(), d
                    }
                    return s(e, t), e.prototype.resize = function (t, e, r) {
                        t = Math.ceil(t), e = Math.ceil(e), this.valid = t > 0 && e > 0, this._frame.width = this.orig.width = t, this._frame.height = this.orig.height = e, r || this.baseTexture.resize(t, e), this._updateUvs()
                    }, e.create = function (t, r, n, i) {
                        return new e(new u.default(t, r, n, i))
                    }, e
                }(l.default);
            r.default = c
        }, {
            "./BaseRenderTexture": 111,
            "./Texture": 115
        }],
        114: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                o = t("../"),
                s = t("../utils"),
                a = function () {
                    function t(e, r) {
                        var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                        n(this, t), this.baseTexture = e, this.textures = {}, this.animations = {}, this.data = r, this.resolution = this._updateResolution(i || this.baseTexture.imageUrl), this._frames = this.data.frames, this._frameKeys = Object.keys(this._frames), this._batchIndex = 0, this._callback = null
                    }
                    return i(t, null, [{
                        key: "BATCH_SIZE",
                        get: function () {
                            return 1e3
                        }
                    }]), t.prototype._updateResolution = function (t) {
                        var e = this.data.meta.scale,
                            r = (0, s.getResolutionOfUrl)(t, null);
                        return null === r && (r = void 0 !== e ? parseFloat(e) : 1), 1 !== r && (this.baseTexture.resolution = r, this.baseTexture.update()), r
                    }, t.prototype.parse = function (e) {
                        this._batchIndex = 0, this._callback = e, this._frameKeys.length <= t.BATCH_SIZE ? (this._processFrames(0), this._processAnimations(), this._parseComplete()) : this._nextBatch()
                    }, t.prototype._processFrames = function (e) {
                        for (var r = e, n = t.BATCH_SIZE, i = this.baseTexture.sourceScale; r - e < n && r < this._frameKeys.length;) {
                            var s = this._frameKeys[r],
                                a = this._frames[s],
                                u = a.frame;
                            if (u) {
                                var h = null,
                                    l = null,
                                    c = !1 !== a.trimmed && a.sourceSize ? a.sourceSize : a.frame,
                                    d = new o.Rectangle(0, 0, Math.floor(c.w * i) / this.resolution, Math.floor(c.h * i) / this.resolution);
                                h = a.rotated ? new o.Rectangle(Math.floor(u.x * i) / this.resolution, Math.floor(u.y * i) / this.resolution, Math.floor(u.h * i) / this.resolution, Math.floor(u.w * i) / this.resolution) : new o.Rectangle(Math.floor(u.x * i) / this.resolution, Math.floor(u.y * i) / this.resolution, Math.floor(u.w * i) / this.resolution, Math.floor(u.h * i) / this.resolution), !1 !== a.trimmed && a.spriteSourceSize && (l = new o.Rectangle(Math.floor(a.spriteSourceSize.x * i) / this.resolution, Math.floor(a.spriteSourceSize.y * i) / this.resolution, Math.floor(u.w * i) / this.resolution, Math.floor(u.h * i) / this.resolution)), this.textures[s] = new o.Texture(this.baseTexture, h, d, l, a.rotated ? 2 : 0, a.anchor), o.Texture.addToCache(this.textures[s], s)
                            }
                            r++
                        }
                    }, t.prototype._processAnimations = function () {
                        var t = this.data.animations || {};
                        for (var e in t) {
                            this.animations[e] = [];
                            for (var r = t[e], n = Array.isArray(r), i = 0, r = n ? r : r[Symbol.iterator]();;) {
                                var o;
                                if (n) {
                                    if (i >= r.length) break;
                                    o = r[i++]
                                } else {
                                    if (i = r.next(), i.done) break;
                                    o = i.value
                                }
                                var s = o;
                                this.animations[e].push(this.textures[s])
                            }
                        }
                    }, t.prototype._parseComplete = function () {
                        var t = this._callback;
                        this._callback = null, this._batchIndex = 0, t.call(this, this.textures)
                    }, t.prototype._nextBatch = function () {
                        var e = this;
                        this._processFrames(this._batchIndex * t.BATCH_SIZE), this._batchIndex++, setTimeout(function () {
                            e._batchIndex * t.BATCH_SIZE < e._frameKeys.length ? e._nextBatch() : (e._processAnimations(), e._parseComplete())
                        }, 0)
                    }, t.prototype.destroy = function () {
                        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        for (var e in this.textures) this.textures[e].destroy();
                        this._frames = null, this._frameKeys = null, this.data = null, this.textures = null, t && this.baseTexture.destroy(), this.baseTexture = null
                    }, t
                }();
            r.default = a
        }, {
            "../": 65,
            "../utils": 125
        }],
        115: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            function a(t) {
                t.destroy = function () {}, t.on = function () {}, t.once = function () {}, t.emit = function () {}
            }
            r.__esModule = !0;
            var u = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                h = t("./BaseTexture"),
                l = n(h),
                c = t("./VideoBaseTexture"),
                d = n(c),
                f = t("./TextureUvs"),
                p = n(f),
                v = t("eventemitter3"),
                g = n(v),
                y = t("../math"),
                m = t("../utils"),
                _ = t("../settings"),
                b = n(_),
                x = function (t) {
                    function e(r, n, s, a, u, h) {
                        i(this, e);
                        var l = o(this, t.call(this));
                        if (l.noFrame = !1, n || (l.noFrame = !0, n = new y.Rectangle(0, 0, 1, 1)), r instanceof e && (r = r.baseTexture), l.baseTexture = r, l._frame = n, l.trim = a, l.valid = !1, l.requiresUpdate = !1, l._uvs = null, l.orig = s || n, l._rotate = Number(u || 0), !0 === u) l._rotate = 2;
                        else if (l._rotate % 2 != 0) throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");
                        return r.hasLoaded ? (l.noFrame && (n = new y.Rectangle(0, 0, r.width, r.height), r.on("update", l.onBaseTextureUpdated, l)), l.frame = n) : r.once("loaded", l.onBaseTextureLoaded, l), l.defaultAnchor = h ? new y.Point(h.x, h.y) : new y.Point(0, 0), l._updateID = 0, l.transform = null, l.textureCacheIds = [], l
                    }
                    return s(e, t), e.prototype.update = function () {
                        this.baseTexture.update()
                    }, e.prototype.onBaseTextureLoaded = function (t) {
                        this._updateID++, this.noFrame ? this.frame = new y.Rectangle(0, 0, t.width, t.height) : this.frame = this._frame, this.baseTexture.on("update", this.onBaseTextureUpdated, this), this.emit("update", this)
                    }, e.prototype.onBaseTextureUpdated = function (t) {
                        this._updateID++, this._frame.width = t.width, this._frame.height = t.height, this.emit("update", this)
                    }, e.prototype.destroy = function (t) {
                        this.baseTexture && (t && (m.TextureCache[this.baseTexture.imageUrl] && e.removeFromCache(this.baseTexture.imageUrl), this.baseTexture.destroy()), this.baseTexture.off("update", this.onBaseTextureUpdated, this), this.baseTexture.off("loaded", this.onBaseTextureLoaded, this), this.baseTexture = null), this._frame = null, this._uvs = null, this.trim = null, this.orig = null, this.valid = !1, e.removeFromCache(this), this.textureCacheIds = null
                    }, e.prototype.clone = function () {
                        return new e(this.baseTexture, this.frame, this.orig, this.trim, this.rotate, this.defaultAnchor)
                    }, e.prototype._updateUvs = function () {
                        this._uvs || (this._uvs = new p.default), this._uvs.set(this._frame, this.baseTexture, this.rotate), this._updateID++
                    }, e.fromImage = function (t, r, n, i) {
                        var o = m.TextureCache[t];
                        return o || (o = new e(l.default.fromImage(t, r, n, i)), e.addToCache(o, t)), o
                    }, e.fromFrame = function (t) {
                        var e = m.TextureCache[t];
                        if (!e) throw new Error('The frameId "' + t + '" does not exist in the texture cache');
                        return e
                    }, e.fromCanvas = function (t, r) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "canvas";
                        return new e(l.default.fromCanvas(t, r, n))
                    }, e.fromVideo = function (t, r, n, i) {
                        return "string" == typeof t ? e.fromVideoUrl(t, r, n, i) : new e(d.default.fromVideo(t, r, i))
                    }, e.fromVideoUrl = function (t, r, n, i) {
                        return new e(d.default.fromUrl(t, r, n, i))
                    }, e.from = function (t) {
                        if ("string" == typeof t) {
                            var r = m.TextureCache[t];
                            if (!r) {
                                return null !== t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/) ? e.fromVideoUrl(t) : e.fromImage(t)
                            }
                            return r
                        }
                        return t instanceof HTMLImageElement ? new e(l.default.from(t)) : t instanceof HTMLCanvasElement ? e.fromCanvas(t, b.default.SCALE_MODE, "HTMLCanvasElement") : t instanceof HTMLVideoElement ? e.fromVideo(t) : t instanceof l.default ? new e(t) : t
                    }, e.fromLoader = function (t, r, n) {
                        var i = new l.default(t, void 0, (0, m.getResolutionOfUrl)(r)),
                            o = new e(i);
                        return i.imageUrl = r, n || (n = r), l.default.addToCache(o.baseTexture, n), e.addToCache(o, n), n !== r && (l.default.addToCache(o.baseTexture, r), e.addToCache(o, r)), o
                    }, e.addToCache = function (t, e) {
                        e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e), m.TextureCache[e] = t)
                    }, e.removeFromCache = function (t) {
                        if ("string" == typeof t) {
                            var e = m.TextureCache[t];
                            if (e) {
                                var r = e.textureCacheIds.indexOf(t);
                                return r > -1 && e.textureCacheIds.splice(r, 1), delete m.TextureCache[t], e
                            }
                        } else if (t && t.textureCacheIds) {
                            for (var n = 0; n < t.textureCacheIds.length; ++n) m.TextureCache[t.textureCacheIds[n]] === t && delete m.TextureCache[t.textureCacheIds[n]];
                            return t.textureCacheIds.length = 0, t
                        }
                        return null
                    }, u(e, [{
                        key: "frame",
                        get: function () {
                            return this._frame
                        },
                        set: function (t) {
                            this._frame = t, this.noFrame = !1;
                            var e = t.x,
                                r = t.y,
                                n = t.width,
                                i = t.height,
                                o = e + n > this.baseTexture.width,
                                s = r + i > this.baseTexture.height;
                            if (o || s) {
                                var a = o && s ? "and" : "or",
                                    u = "X: " + e + " + " + n + " = " + (e + n) + " > " + this.baseTexture.width,
                                    h = "Y: " + r + " + " + i + " = " + (r + i) + " > " + this.baseTexture.height;
                                throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: " + u + " " + a + " " + h)
                            }
                            this.valid = n && i && this.baseTexture.hasLoaded, this.trim || this.rotate || (this.orig = t), this.valid && this._updateUvs()
                        }
                    }, {
                        key: "rotate",
                        get: function () {
                            return this._rotate
                        },
                        set: function (t) {
                            this._rotate = t, this.valid && this._updateUvs()
                        }
                    }, {
                        key: "width",
                        get: function () {
                            return this.orig.width
                        }
                    }, {
                        key: "height",
                        get: function () {
                            return this.orig.height
                        }
                    }]), e
                }(g.default);
            r.default = x, x.EMPTY = new x(new l.default), a(x.EMPTY), a(x.EMPTY.baseTexture), x.WHITE = function () {
                var t = document.createElement("canvas");
                t.width = 10, t.height = 10;
                var e = t.getContext("2d");
                return e.fillStyle = "white", e.fillRect(0, 0, 10, 10), new x(new l.default(t))
            }(), a(x.WHITE), a(x.WHITE.baseTexture)
        }, {
            "../math": 70,
            "../settings": 101,
            "../utils": 125,
            "./BaseTexture": 112,
            "./TextureUvs": 117,
            "./VideoBaseTexture": 118,
            eventemitter3: 3
        }],
        116: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                o = t("../math/Matrix"),
                s = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(o),
                a = new s.default,
                u = function () {
                    function t(e, r) {
                        n(this, t), this._texture = e, this.mapCoord = new s.default, this.uClampFrame = new Float32Array(4), this.uClampOffset = new Float32Array(2), this._lastTextureID = -1, this.clampOffset = 0, this.clampMargin = void 0 === r ? .5 : r
                    }
                    return t.prototype.multiplyUvs = function (t, e) {
                        void 0 === e && (e = t);
                        for (var r = this.mapCoord, n = 0; n < t.length; n += 2) {
                            var i = t[n],
                                o = t[n + 1];
                            e[n] = i * r.a + o * r.c + r.tx, e[n + 1] = i * r.b + o * r.d + r.ty
                        }
                        return e
                    }, t.prototype.update = function (t) {
                        var e = this._texture;
                        if (!e || !e.valid) return !1;
                        if (!t && this._lastTextureID === e._updateID) return !1;
                        this._lastTextureID = e._updateID;
                        var r = e._uvs;
                        this.mapCoord.set(r.x1 - r.x0, r.y1 - r.y0, r.x3 - r.x0, r.y3 - r.y0, r.x0, r.y0);
                        var n = e.orig,
                            i = e.trim;
                        i && (a.set(n.width / i.width, 0, 0, n.height / i.height, -i.x / i.width, -i.y / i.height), this.mapCoord.append(a));
                        var o = e.baseTexture,
                            s = this.uClampFrame,
                            u = this.clampMargin / o.resolution,
                            h = this.clampOffset;
                        return s[0] = (e._frame.x + u + h) / o.width, s[1] = (e._frame.y + u + h) / o.height, s[2] = (e._frame.x + e._frame.width - u + h) / o.width, s[3] = (e._frame.y + e._frame.height - u + h) / o.height, this.uClampOffset[0] = h / o.realWidth, this.uClampOffset[1] = h / o.realHeight, !0
                    }, i(t, [{
                        key: "texture",
                        get: function () {
                            return this._texture
                        },
                        set: function (t) {
                            this._texture = t, this._lastTextureID = -1
                        }
                    }]), t
                }();
            r.default = u
        }, {
            "../math/Matrix": 67
        }],
        117: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("../math/GroupD8"),
                o = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(i),
                s = function () {
                    function t() {
                        n(this, t), this.x0 = 0, this.y0 = 0, this.x1 = 1, this.y1 = 0, this.x2 = 1, this.y2 = 1, this.x3 = 0, this.y3 = 1, this.uvsUint32 = new Uint32Array(4)
                    }
                    return t.prototype.set = function (t, e, r) {
                        var n = e.width,
                            i = e.height;
                        if (r) {
                            var s = t.width / 2 / n,
                                a = t.height / 2 / i,
                                u = t.x / n + s,
                                h = t.y / i + a;
                            r = o.default.add(r, o.default.NW), this.x0 = u + s * o.default.uX(r), this.y0 = h + a * o.default.uY(r), r = o.default.add(r, 2), this.x1 = u + s * o.default.uX(r), this.y1 = h + a * o.default.uY(r), r = o.default.add(r, 2), this.x2 = u + s * o.default.uX(r), this.y2 = h + a * o.default.uY(r), r = o.default.add(r, 2), this.x3 = u + s * o.default.uX(r), this.y3 = h + a * o.default.uY(r)
                        } else this.x0 = t.x / n, this.y0 = t.y / i, this.x1 = (t.x + t.width) / n, this.y1 = t.y / i, this.x2 = (t.x + t.width) / n, this.y2 = (t.y + t.height) / i, this.x3 = t.x / n, this.y3 = (t.y + t.height) / i;
                        this.uvsUint32[0] = (65535 & Math.round(65535 * this.y0)) << 16 | 65535 & Math.round(65535 * this.x0), this.uvsUint32[1] = (65535 & Math.round(65535 * this.y1)) << 16 | 65535 & Math.round(65535 * this.x1), this.uvsUint32[2] = (65535 & Math.round(65535 * this.y2)) << 16 | 65535 & Math.round(65535 * this.x2), this.uvsUint32[3] = (65535 & Math.round(65535 * this.y3)) << 16 | 65535 & Math.round(65535 * this.x3)
                    }, t
                }();
            r.default = s
        }, {
            "../math/GroupD8": 66
        }],
        118: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            function a(t, e) {
                if (!e) {
                    var r = t.split("?").shift().toLowerCase();
                    e = "video/" + r.substr(r.lastIndexOf(".") + 1)
                }
                var n = document.createElement("source");
                return n.src = t, n.type = e, n
            }
            r.__esModule = !0;
            var u = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                h = t("./BaseTexture"),
                l = n(h),
                c = t("../utils"),
                d = t("../ticker"),
                f = t("../const"),
                p = t("../utils/determineCrossOrigin"),
                v = n(p),
                g = function (t) {
                    function e(r, n) {
                        var s = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                        if (i(this, e), !r) throw new Error("No video source element specified.");
                        (r.readyState === r.HAVE_ENOUGH_DATA || r.readyState === r.HAVE_FUTURE_DATA) && r.width && r.height && (r.complete = !0);
                        var a = o(this, t.call(this, r, n));
                        return a.width = r.videoWidth, a.height = r.videoHeight, a._autoUpdate = !0, a._isAutoUpdating = !1, a.autoPlay = s, a.update = a.update.bind(a), a._onCanPlay = a._onCanPlay.bind(a), r.addEventListener("play", a._onPlayStart.bind(a)), r.addEventListener("pause", a._onPlayStop.bind(a)), a.hasLoaded = !1, a.__loaded = !1, a._isSourceReady() ? a._onCanPlay() : (r.addEventListener("canplay", a._onCanPlay), r.addEventListener("canplaythrough", a._onCanPlay)), a
                    }
                    return s(e, t), e.prototype._isSourcePlaying = function () {
                        var t = this.source;
                        return t.currentTime > 0 && !1 === t.paused && !1 === t.ended && t.readyState > 2
                    }, e.prototype._isSourceReady = function () {
                        return 3 === this.source.readyState || 4 === this.source.readyState
                    }, e.prototype._onPlayStart = function () {
                        this.hasLoaded || this._onCanPlay(), !this._isAutoUpdating && this.autoUpdate && (d.shared.add(this.update, this, f.UPDATE_PRIORITY.HIGH), this._isAutoUpdating = !0)
                    }, e.prototype._onPlayStop = function () {
                        this._isAutoUpdating && (d.shared.remove(this.update, this), this._isAutoUpdating = !1)
                    }, e.prototype._onCanPlay = function () {
                        this.hasLoaded = !0, this.source && (this.source.removeEventListener("canplay", this._onCanPlay), this.source.removeEventListener("canplaythrough", this._onCanPlay), this.width = this.source.videoWidth, this.height = this.source.videoHeight, this.__loaded || (this.__loaded = !0, this.emit("loaded", this)), this._isSourcePlaying() ? this._onPlayStart() : this.autoPlay && this.source.play())
                    }, e.prototype.destroy = function () {
                        this._isAutoUpdating && d.shared.remove(this.update, this), this.source && this.source._pixiId && (l.default.removeFromCache(this.source._pixiId), delete this.source._pixiId, this.source.pause(), this.source.src = "", this.source.load()), t.prototype.destroy.call(this)
                    }, e.fromVideo = function (t, r, n) {
                        t._pixiId || (t._pixiId = "video_" + (0, c.uid)());
                        var i = c.BaseTextureCache[t._pixiId];
                        return i || (i = new e(t, r, n), l.default.addToCache(i, t._pixiId)), i
                    }, e.fromUrl = function (t, r, n, i) {
                        var o = document.createElement("video");
                        o.setAttribute("webkit-playsinline", ""), o.setAttribute("playsinline", "");
                        var s = Array.isArray(t) ? t[0].src || t[0] : t.src || t;
                        if (void 0 === n && 0 !== s.indexOf("data:") ? o.crossOrigin = (0, v.default)(s) : n && (o.crossOrigin = "string" == typeof n ? n : "anonymous"), Array.isArray(t))
                            for (var u = 0; u < t.length; ++u) o.appendChild(a(t[u].src || t[u], t[u].mime));
                        else o.appendChild(a(s, t.mime));
                        return o.load(), e.fromVideo(o, r, i)
                    }, u(e, [{
                        key: "autoUpdate",
                        get: function () {
                            return this._autoUpdate
                        },
                        set: function (t) {
                            t !== this._autoUpdate && (this._autoUpdate = t, !this._autoUpdate && this._isAutoUpdating ? (d.shared.remove(this.update, this), this._isAutoUpdating = !1) : this._autoUpdate && !this._isAutoUpdating && (d.shared.add(this.update, this, f.UPDATE_PRIORITY.HIGH), this._isAutoUpdating = !0))
                        }
                    }]), e
                }(l.default);
            r.default = g, g.fromUrls = g.fromUrl
        }, {
            "../const": 46,
            "../ticker": 121,
            "../utils": 125,
            "../utils/determineCrossOrigin": 124,
            "./BaseTexture": 112
        }],
        119: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var o = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                s = t("../settings"),
                a = n(s),
                u = t("../const"),
                h = t("./TickerListener"),
                l = n(h),
                c = function () {
                    function t() {
                        var e = this;
                        i(this, t), this._head = new l.default(null, null, 1 / 0), this._requestId = null, this._maxElapsedMS = 100, this.autoStart = !1, this.deltaTime = 1, this.elapsedMS = 1 / a.default.TARGET_FPMS, this.lastTime = -1, this.speed = 1, this.started = !1, this._tick = function (t) {
                            e._requestId = null, e.started && (e.update(t), e.started && null === e._requestId && e._head.next && (e._requestId = requestAnimationFrame(e._tick)))
                        }
                    }
                    return t.prototype._requestIfNeeded = function () {
                        null === this._requestId && this._head.next && (this.lastTime = performance.now(), this._requestId = requestAnimationFrame(this._tick))
                    }, t.prototype._cancelIfNeeded = function () {
                        null !== this._requestId && (cancelAnimationFrame(this._requestId), this._requestId = null)
                    }, t.prototype._startIfPossible = function () {
                        this.started ? this._requestIfNeeded() : this.autoStart && this.start()
                    }, t.prototype.add = function (t, e) {
                        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : u.UPDATE_PRIORITY.NORMAL;
                        return this._addListener(new l.default(t, e, r))
                    }, t.prototype.addOnce = function (t, e) {
                        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : u.UPDATE_PRIORITY.NORMAL;
                        return this._addListener(new l.default(t, e, r, !0))
                    }, t.prototype._addListener = function (t) {
                        var e = this._head.next,
                            r = this._head;
                        if (e) {
                            for (; e;) {
                                if (t.priority > e.priority) {
                                    t.connect(r);
                                    break
                                }
                                r = e, e = e.next
                            }
                            t.previous || t.connect(r)
                        } else t.connect(r);
                        return this._startIfPossible(), this
                    }, t.prototype.remove = function (t, e) {
                        for (var r = this._head.next; r;) r = r.match(t, e) ? r.destroy() : r.next;
                        return this._head.next || this._cancelIfNeeded(), this
                    }, t.prototype.start = function () {
                        this.started || (this.started = !0, this._requestIfNeeded())
                    }, t.prototype.stop = function () {
                        this.started && (this.started = !1, this._cancelIfNeeded())
                    }, t.prototype.destroy = function () {
                        this.stop();
                        for (var t = this._head.next; t;) t = t.destroy(!0);
                        this._head.destroy(), this._head = null
                    }, t.prototype.update = function () {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : performance.now(),
                            e = void 0;
                        if (t > this.lastTime) {
                            e = this.elapsedMS = t - this.lastTime, e > this._maxElapsedMS && (e = this._maxElapsedMS), this.deltaTime = e * a.default.TARGET_FPMS * this.speed;
                            for (var r = this._head, n = r.next; n;) n = n.emit(this.deltaTime);
                            r.next || this._cancelIfNeeded()
                        } else this.deltaTime = this.elapsedMS = 0;
                        this.lastTime = t
                    }, o(t, [{
                        key: "FPS",
                        get: function () {
                            return 1e3 / this.elapsedMS
                        }
                    }, {
                        key: "minFPS",
                        get: function () {
                            return 1e3 / this._maxElapsedMS
                        },
                        set: function (t) {
                            var e = Math.min(Math.max(0, t) / 1e3, a.default.TARGET_FPMS);
                            this._maxElapsedMS = 1 / e
                        }
                    }]), t
                }();
            r.default = c
        }, {
            "../const": 46,
            "../settings": 101,
            "./TickerListener": 120
        }],
        120: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                function t(e) {
                    var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                        i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                        o = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                    n(this, t), this.fn = e, this.context = r, this.priority = i, this.once = o, this.next = null, this.previous = null, this._destroyed = !1
                }
                return t.prototype.match = function (t, e) {
                    return e = e || null, this.fn === t && this.context === e
                }, t.prototype.emit = function (t) {
                    this.fn && (this.context ? this.fn.call(this.context, t) : this.fn(t));
                    var e = this.next;
                    return this.once && this.destroy(!0), this._destroyed && (this.next = null), e
                }, t.prototype.connect = function (t) {
                    this.previous = t, t.next && (t.next.previous = this), this.next = t.next, t.next = this
                }, t.prototype.destroy = function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    this._destroyed = !0, this.fn = null, this.context = null, this.previous && (this.previous.next = this.next), this.next && (this.next.previous = this.previous);
                    var e = this.next;
                    return this.next = t ? null : e, this.previous = null, e
                }, t
            }();
            r.default = i
        }, {}],
        121: [function (t, e, r) {
            "use strict";
            r.__esModule = !0, r.Ticker = r.shared = void 0;
            var n = t("./Ticker"),
                i = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(n),
                o = new i.default;
            o.autoStart = !0, o.destroy = function () {}, r.shared = o, r.Ticker = i.default
        }, {
            "./Ticker": 119
        }],
        122: [function (t, e, r) {
            "use strict";
            function n() {
                return !(!!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform))
            }
            r.__esModule = !0, r.default = n
        }, {}],
        123: [function (t, e, r) {
            "use strict";
            function n(t) {
                for (var e = 6 * t, r = new Uint16Array(e), n = 0, i = 0; n < e; n += 6, i += 4) r[n + 0] = i + 0, r[n + 1] = i + 1, r[n + 2] = i + 2, r[n + 3] = i + 0, r[n + 4] = i + 2, r[n + 5] = i + 3;
                return r
            }
            r.__esModule = !0, r.default = n
        }, {}],
        124: [function (t, e, r) {
            "use strict";
            function n(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window.location;
                if (0 === t.indexOf("data:")) return "";
                e = e || window.location, s || (s = document.createElement("a")), s.href = t, t = o.default.parse(s.href);
                var r = !t.port && "" === e.port || t.port === e.port;
                return t.hostname === e.hostname && r && t.protocol === e.protocol ? "" : "anonymous"
            }
            r.__esModule = !0, r.default = n;
            var i = t("url"),
                o = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(i),
                s = void 0
        }, {
            url: 38
        }],
        125: [function (t, e, r) {
            "use strict";
            function n(t) {
                if (t && t.__esModule) return t;
                var e = {};
                if (null != t)
                    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                return e.default = t, e
            }
            function i(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function o() {
                return ++U
            }
            function s(t, e) {
                return e = e || [], e[0] = (t >> 16 & 255) / 255, e[1] = (t >> 8 & 255) / 255, e[2] = (255 & t) / 255, e
            }
            function a(t) {
                return t = t.toString(16), "#" + (t = "000000".substr(0, 6 - t.length) + t)
            }
            function u(t) {
                return (255 * t[0] << 16) + (255 * t[1] << 8) + (255 * t[2] | 0)
            }
            function h(t, e) {
                var r = S.default.RETINA_PREFIX.exec(t);
                return r ? parseFloat(r[1]) : void 0 !== e ? e : 1
            }
            function l(t) {
                var e = w.DATA_URI.exec(t);
                if (e) return {
                    mediaType: e[1] ? e[1].toLowerCase() : void 0,
                    subType: e[2] ? e[2].toLowerCase() : void 0,
                    charset: e[3] ? e[3].toLowerCase() : void 0,
                    encoding: e[4] ? e[4].toLowerCase() : void 0,
                    data: e[5]
                }
            }
            function c(t) {
                var e = w.URL_FILE_EXTENSION.exec(t);
                if (e) return e[1].toLowerCase()
            }
            function d(t) {
                var e = w.SVG_SIZE.exec(t),
                    r = {};
                return e && (r[e[1]] = Math.round(parseFloat(e[3])), r[e[5]] = Math.round(parseFloat(e[7]))), r
            }
            function f() {
                X = !0
            }
            function p(t) {
                if (!X) {
                    if (navigator.userAgent.toLowerCase().indexOf("chrome") > -1) {
                        var e = ["\n %c %c %c PixiJS " + w.VERSION + " -  " + t + "   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n", "background: #ff66a5; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff66a5; background: #030307; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "background: #ffc3dc; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;"];
                        window.console.log.apply(console, e)
                    } else window.console && window.console.log("PixiJS " + w.VERSION + " - " + t + " - http://www.pixijs.com/");
                    X = !0
                }
            }
            function v() {
                var t = {
                    stencil: !0,
                    failIfMajorPerformanceCaveat: !0
                };
                try {
                    if (!window.WebGLRenderingContext) return !1;
                    var e = document.createElement("canvas"),
                        r = e.getContext("webgl", t) || e.getContext("experimental-webgl", t),
                        n = !(!r || !r.getContextAttributes().stencil);
                    if (r) {
                        var i = r.getExtension("WEBGL_lose_context");
                        i && i.loseContext()
                    }
                    return r = null, n
                } catch (t) {
                    return !1
                }
            }
            function g(t) {
                return 0 === t ? 0 : t < 0 ? -1 : 1
            }
            function y() {
                var t = void 0;
                for (t in G) G[t].destroy();
                for (t in W) W[t].destroy()
            }
            function m() {
                var t = void 0;
                for (t in G) delete G[t];
                for (t in W) delete W[t]
            }
            function _(t, e) {
                return H[e ? 1 : 0][t]
            }
            function b(t, e) {
                if (1 === e) return (255 * e << 24) + t;
                if (0 === e) return 0;
                var r = t >> 16 & 255,
                    n = t >> 8 & 255,
                    i = 255 & t;
                return r = r * e + .5 | 0, n = n * e + .5 | 0, i = i * e + .5 | 0, (255 * e << 24) + (r << 16) + (n << 8) + i
            }
            function x(t, e, r, n) {
                return r = r || new Float32Array(4), n || void 0 === n ? (r[0] = t[0] * e, r[1] = t[1] * e, r[2] = t[2] * e) : (r[0] = t[0], r[1] = t[1], r[2] = t[2]), r[3] = e, r
            }
            function T(t, e, r, n) {
                return r = r || new Float32Array(4), r[0] = (t >> 16 & 255) / 255, r[1] = (t >> 8 & 255) / 255, r[2] = (255 & t) / 255, (n || void 0 === n) && (r[0] *= e, r[1] *= e, r[2] *= e), r[3] = e, r
            }
            r.__esModule = !0, r.premultiplyBlendMode = r.BaseTextureCache = r.TextureCache = r.earcut = r.mixins = r.pluginTarget = r.EventEmitter = r.removeItems = r.isMobile = void 0, r.uid = o, r.hex2rgb = s, r.hex2string = a, r.rgb2hex = u, r.getResolutionOfUrl = h, r.decomposeDataUri = l, r.getUrlFileExtension = c, r.getSvgSize = d, r.skipHello = f, r.sayHello = p, r.isWebGLSupported = v, r.sign = g, r.destroyTextureCache = y, r.clearTextureCache = m, r.correctBlendMode = _, r.premultiplyTint = b, r.premultiplyRgba = x, r.premultiplyTintToRgba = T;
            var w = t("../const"),
                E = t("../settings"),
                S = i(E),
                O = t("eventemitter3"),
                M = i(O),
                P = t("./pluginTarget"),
                C = i(P),
                R = t("./mixin"),
                A = n(R),
                I = t("ismobilejs"),
                D = n(I),
                L = t("remove-array-items"),
                N = i(L),
                B = t("./mapPremultipliedBlendModes"),
                k = i(B),
                F = t("earcut"),
                j = i(F),
                U = 0,
                X = !1;
            r.isMobile = D, r.removeItems = N.default, r.EventEmitter = M.default, r.pluginTarget = C.default, r.mixins = A, r.earcut = j.default;
            var G = r.TextureCache = Object.create(null),
                W = r.BaseTextureCache = Object.create(null),
                H = r.premultiplyBlendMode = (0, k.default)()
        }, {
            "../const": 46,
            "../settings": 101,
            "./mapPremultipliedBlendModes": 126,
            "./mixin": 128,
            "./pluginTarget": 129,
            earcut: 2,
            eventemitter3: 3,
            ismobilejs: 4,
            "remove-array-items": 31
        }],
        126: [function (t, e, r) {
            "use strict";
            function n() {
                for (var t = [], e = [], r = 0; r < 32; r++) t[r] = r, e[r] = r;
                t[i.BLEND_MODES.NORMAL_NPM] = i.BLEND_MODES.NORMAL, t[i.BLEND_MODES.ADD_NPM] = i.BLEND_MODES.ADD, t[i.BLEND_MODES.SCREEN_NPM] = i.BLEND_MODES.SCREEN, e[i.BLEND_MODES.NORMAL] = i.BLEND_MODES.NORMAL_NPM, e[i.BLEND_MODES.ADD] = i.BLEND_MODES.ADD_NPM, e[i.BLEND_MODES.SCREEN] = i.BLEND_MODES.SCREEN_NPM;
                var n = [];
                return n.push(e), n.push(t), n
            }
            r.__esModule = !0, r.default = n;
            var i = t("../const")
        }, {
            "../const": 46
        }],
        127: [function (t, e, r) {
            "use strict";
            function n(t) {
                return o.default.tablet || o.default.phone ? 4 : t
            }
            r.__esModule = !0, r.default = n;
            var i = t("ismobilejs"),
                o = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(i)
        }, {
            ismobilejs: 4
        }],
        128: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (t && e)
                    for (var r = Object.keys(e), n = 0; n < r.length; ++n) {
                        var i = r[n];
                        Object.defineProperty(t, i, Object.getOwnPropertyDescriptor(e, i))
                    }
            }
            function i(t, e) {
                s.push(t, e)
            }
            function o() {
                for (var t = 0; t < s.length; t += 2) n(s[t], s[t + 1]);
                s.length = 0
            }
            r.__esModule = !0, r.mixin = n, r.delayMixin = i, r.performMixins = o;
            var s = []
        }, {}],
        129: [function (t, e, r) {
            "use strict";
            function n(t) {
                t.__plugins = {}, t.registerPlugin = function (e, r) {
                    t.__plugins[e] = r
                }, t.prototype.initPlugins = function () {
                    this.plugins = this.plugins || {};
                    for (var e in t.__plugins) this.plugins[e] = new t.__plugins[e](this)
                }, t.prototype.destroyPlugins = function () {
                    for (var t in this.plugins) this.plugins[t].destroy(), this.plugins[t] = null;
                    this.plugins = null
                }
            }
            r.__esModule = !0, r.default = {
                mixin: function (t) {
                    n(t)
                }
            }
        }, {}],
        130: [function (t, e, r) {
            "use strict";
            function n(t) {
                var e = t.width,
                    r = t.height,
                    n = t.getContext("2d"),
                    i = n.getImageData(0, 0, e, r),
                    o = i.data,
                    s = o.length,
                    a = {
                        top: null,
                        left: null,
                        right: null,
                        bottom: null
                    },
                    u = null,
                    h = void 0,
                    l = void 0,
                    c = void 0;
                for (h = 0; h < s; h += 4) 0 !== o[h + 3] && (l = h / 4 % e, c = ~~(h / 4 / e), null === a.top && (a.top = c), null === a.left ? a.left = l : l < a.left && (a.left = l), null === a.right ? a.right = l + 1 : a.right < l && (a.right = l + 1), null === a.bottom ? a.bottom = c : a.bottom < c && (a.bottom = c));
                return null !== a.top && (e = a.right - a.left, r = a.bottom - a.top + 1, u = n.getImageData(a.left, a.top, e, r)), {
                    height: r,
                    width: e,
                    data: u
                }
            }
            r.__esModule = !0, r.default = n
        }, {}],
        131: [function (t, e, r) {
            "use strict";
            function n(t) {
                if (!o[t]) {
                    var e = (new Error).stack;
                    void 0 === e ? console.warn("Deprecation Warning: ", t) : (e = e.split("\n").splice(3).join("\n"), console.groupCollapsed ? (console.groupCollapsed("%cDeprecation Warning: %c%s", "color:#614108;background:#fffbe6", "font-weight:normal;color:#614108;background:#fffbe6", t), console.warn(e), console.groupEnd()) : (console.warn("Deprecation Warning: ", t), console.warn(e))), o[t] = !0
                }
            }
            function i(t) {
                var e = t.mesh,
                    r = t.particles,
                    i = t.extras,
                    o = t.filters,
                    s = t.prepare,
                    a = t.loaders,
                    u = t.interaction;
                Object.defineProperties(t, {
                    SpriteBatch: {
                        get: function () {
                            throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")
                        }
                    },
                    AssetLoader: {
                        get: function () {
                            throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")
                        }
                    },
                    Stage: {
                        get: function () {
                            return n("You do not need to use a PIXI Stage any more, you can simply render any container."), t.Container
                        }
                    },
                    DisplayObjectContainer: {
                        get: function () {
                            return n("DisplayObjectContainer has been shortened to Container, please use Container from now on."), t.Container
                        }
                    },
                    Strip: {
                        get: function () {
                            return n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."), e.Mesh
                        }
                    },
                    Rope: {
                        get: function () {
                            return n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."), e.Rope
                        }
                    },
                    ParticleContainer: {
                        get: function () {
                            return n("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."), r.ParticleContainer
                        }
                    },
                    MovieClip: {
                        get: function () {
                            return n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."), i.AnimatedSprite
                        }
                    },
                    TilingSprite: {
                        get: function () {
                            return n("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."), i.TilingSprite
                        }
                    },
                    BitmapText: {
                        get: function () {
                            return n("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."), i.BitmapText
                        }
                    },
                    blendModes: {
                        get: function () {
                            return n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."), t.BLEND_MODES
                        }
                    },
                    scaleModes: {
                        get: function () {
                            return n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."), t.SCALE_MODES
                        }
                    },
                    BaseTextureCache: {
                        get: function () {
                            return n("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."), t.utils.BaseTextureCache
                        }
                    },
                    TextureCache: {
                        get: function () {
                            return n("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."), t.utils.TextureCache
                        }
                    },
                    math: {
                        get: function () {
                            return n("The math namespace is deprecated, please access members already accessible on PIXI."), t
                        }
                    },
                    AbstractFilter: {
                        get: function () {
                            return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"), t.Filter
                        }
                    },
                    TransformManual: {
                        get: function () {
                            return n("TransformManual has been renamed to TransformBase, please update your pixi-spine"), t.TransformBase
                        }
                    },
                    TARGET_FPMS: {
                        get: function () {
                            return n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"), t.settings.TARGET_FPMS
                        },
                        set: function (e) {
                            n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"), t.settings.TARGET_FPMS = e
                        }
                    },
                    FILTER_RESOLUTION: {
                        get: function () {
                            return n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"), t.settings.FILTER_RESOLUTION
                        },
                        set: function (e) {
                            n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"), t.settings.FILTER_RESOLUTION = e
                        }
                    },
                    RESOLUTION: {
                        get: function () {
                            return n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"), t.settings.RESOLUTION
                        },
                        set: function (e) {
                            n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"), t.settings.RESOLUTION = e
                        }
                    },
                    MIPMAP_TEXTURES: {
                        get: function () {
                            return n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"), t.settings.MIPMAP_TEXTURES
                        },
                        set: function (e) {
                            n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"), t.settings.MIPMAP_TEXTURES = e
                        }
                    },
                    SPRITE_BATCH_SIZE: {
                        get: function () {
                            return n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"), t.settings.SPRITE_BATCH_SIZE
                        },
                        set: function (e) {
                            n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"), t.settings.SPRITE_BATCH_SIZE = e
                        }
                    },
                    SPRITE_MAX_TEXTURES: {
                        get: function () {
                            return n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"), t.settings.SPRITE_MAX_TEXTURES
                        },
                        set: function (e) {
                            n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"), t.settings.SPRITE_MAX_TEXTURES = e
                        }
                    },
                    RETINA_PREFIX: {
                        get: function () {
                            return n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"), t.settings.RETINA_PREFIX
                        },
                        set: function (e) {
                            n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"), t.settings.RETINA_PREFIX = e
                        }
                    },
                    DEFAULT_RENDER_OPTIONS: {
                        get: function () {
                            return n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"), t.settings.RENDER_OPTIONS
                        }
                    }
                });
                for (var h = [{
                        parent: "TRANSFORM_MODE",
                        target: "TRANSFORM_MODE"
                    }, {
                        parent: "GC_MODES",
                        target: "GC_MODE"
                    }, {
                        parent: "WRAP_MODES",
                        target: "WRAP_MODE"
                    }, {
                        parent: "SCALE_MODES",
                        target: "SCALE_MODE"
                    }, {
                        parent: "PRECISION",
                        target: "PRECISION_FRAGMENT"
                    }], l = 0; l < h.length; l++) ! function (e) {
                    var r = h[e];
                    Object.defineProperty(t[r.parent], "DEFAULT", {
                        get: function () {
                            return n("PIXI." + r.parent + ".DEFAULT has been deprecated, please use PIXI.settings." + r.target), t.settings[r.target]
                        },
                        set: function (e) {
                            n("PIXI." + r.parent + ".DEFAULT has been deprecated, please use PIXI.settings." + r.target), t.settings[r.target] = e
                        }
                    })
                }(l);
                Object.defineProperties(t.settings, {
                    PRECISION: {
                        get: function () {
                            return n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"), t.settings.PRECISION_FRAGMENT
                        },
                        set: function (e) {
                            n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"), t.settings.PRECISION_FRAGMENT = e
                        }
                    }
                }), i.AnimatedSprite && Object.defineProperties(i, {
                    MovieClip: {
                        get: function () {
                            return n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."), i.AnimatedSprite
                        }
                    }
                }), i && Object.defineProperties(i, {
                    TextureTransform: {
                        get: function () {
                            return n("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."), t.TextureMatrix
                        }
                    }
                }), t.DisplayObject.prototype.generateTexture = function (t, e, r) {
                    return n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"), t.generateTexture(this, e, r)
                }, t.Graphics.prototype.generateTexture = function (t, e) {
                    return n("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"), this.generateCanvasTexture(t, e)
                }, t.GroupD8.isSwapWidthHeight = function (e) {
                    return n("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"), t.GroupD8.isVertical(e)
                }, t.RenderTexture.prototype.render = function (t, e, r, i) {
                    this.legacyRenderer.render(t, this, r, e, !i), n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")
                }, t.RenderTexture.prototype.getImage = function (t) {
                    return n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"), this.legacyRenderer.extract.image(t)
                }, t.RenderTexture.prototype.getBase64 = function (t) {
                    return n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"), this.legacyRenderer.extract.base64(t)
                }, t.RenderTexture.prototype.getCanvas = function (t) {
                    return n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"), this.legacyRenderer.extract.canvas(t)
                }, t.RenderTexture.prototype.getPixels = function (t) {
                    return n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"), this.legacyRenderer.pixels(t)
                }, t.Sprite.prototype.setTexture = function (t) {
                    this.texture = t, n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")
                }, i.BitmapText && (i.BitmapText.prototype.setText = function (t) {
                    this.text = t, n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")
                }), t.Text.prototype.setText = function (t) {
                    this.text = t, n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")
                }, t.Text.calculateFontProperties = function (e) {
                    return n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"), t.TextMetrics.measureFont(e)
                }, Object.defineProperties(t.Text, {
                    fontPropertiesCache: {
                        get: function () {
                            return n("Text.fontPropertiesCache is deprecated"), t.TextMetrics._fonts
                        }
                    },
                    fontPropertiesCanvas: {
                        get: function () {
                            return n("Text.fontPropertiesCanvas is deprecated"), t.TextMetrics._canvas
                        }
                    },
                    fontPropertiesContext: {
                        get: function () {
                            return n("Text.fontPropertiesContext is deprecated"), t.TextMetrics._context
                        }
                    }
                }), t.Text.prototype.setStyle = function (t) {
                    this.style = t, n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")
                }, t.Text.prototype.determineFontProperties = function (e) {
                    return n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"), t.TextMetrics.measureFont(e)
                }, t.Text.getFontStyle = function (e) {
                    return n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"), e = e || {}, e instanceof t.TextStyle || (e = new t.TextStyle(e)), e.toFontString()
                }, Object.defineProperties(t.TextStyle.prototype, {
                    font: {
                        get: function () {
                            n("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");
                            var t = "number" == typeof this._fontSize ? this._fontSize + "px" : this._fontSize;
                            return this._fontStyle + " " + this._fontVariant + " " + this._fontWeight + " " + t + " " + this._fontFamily
                        },
                        set: function (t) {
                            n("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"), t.indexOf("italic") > 1 ? this._fontStyle = "italic" : t.indexOf("oblique") > -1 ? this._fontStyle = "oblique" : this._fontStyle = "normal", t.indexOf("small-caps") > -1 ? this._fontVariant = "small-caps" : this._fontVariant = "normal";
                            var e = t.split(" "),
                                r = -1;
                            this._fontSize = 26;
                            for (var i = 0; i < e.length; ++i)
                                if (e[i].match(/(px|pt|em|%)/)) {
                                    r = i, this._fontSize = e[i];
                                    break
                                } this._fontWeight = "normal";
                            for (var o = 0; o < r; ++o)
                                if (e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)) {
                                    this._fontWeight = e[o];
                                    break
                                } if (r > -1 && r < e.length - 1) {
                                this._fontFamily = "";
                                for (var s = r + 1; s < e.length; ++s) this._fontFamily += e[s] + " ";
                                this._fontFamily = this._fontFamily.slice(0, -1)
                            } else this._fontFamily = "Arial";
                            this.styleID++
                        }
                    }
                }), t.Texture.prototype.setFrame = function (t) {
                    this.frame = t, n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")
                }, t.Texture.addTextureToCache = function (e, r) {
                    t.Texture.addToCache(e, r), n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")
                }, t.Texture.removeTextureFromCache = function (e) {
                    return n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"), t.BaseTexture.removeFromCache(e), t.Texture.removeFromCache(e)
                }, Object.defineProperties(o, {
                    AbstractFilter: {
                        get: function () {
                            return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"), t.AbstractFilter
                        }
                    },
                    SpriteMaskFilter: {
                        get: function () {
                            return n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."), t.SpriteMaskFilter
                        }
                    },
                    VoidFilter: {
                        get: function () {
                            return n("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"), o.AlphaFilter
                        }
                    }
                }), t.utils.uuid = function () {
                    return n("utils.uuid() is deprecated, please use utils.uid() from now on."), t.utils.uid()
                }, t.utils.canUseNewCanvasBlendModes = function () {
                    return n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"), t.CanvasTinter.canUseMultiply
                };
                var c = !0;
                if (Object.defineProperty(t.utils, "_saidHello", {
                        set: function (t) {
                            t && (n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"), this.skipHello()), c = t
                        },
                        get: function () {
                            return c
                        }
                    }), s.BasePrepare && (s.BasePrepare.prototype.register = function (t, e) {
                        return n("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"), t && this.registerFindHook(t), e && this.registerUploadHook(e), this
                    }), s.canvas && Object.defineProperty(s.canvas, "UPLOADS_PER_FRAME", {
                        set: function () {
                            n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")
                        },
                        get: function () {
                            return n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"), NaN
                        }
                    }), s.webgl && Object.defineProperty(s.webgl, "UPLOADS_PER_FRAME", {
                        set: function () {
                            n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")
                        },
                        get: function () {
                            return n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"), NaN
                        }
                    }), a.Loader) {
                    var d = a.Resource,
                        f = a.Loader;
                    Object.defineProperties(d.prototype, {
                        isJson: {
                            get: function () {
                                return n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."), this.type === d.TYPE.JSON
                            }
                        },
                        isXml: {
                            get: function () {
                                return n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."), this.type === d.TYPE.XML
                            }
                        },
                        isImage: {
                            get: function () {
                                return n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."), this.type === d.TYPE.IMAGE
                            }
                        },
                        isAudio: {
                            get: function () {
                                return n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."), this.type === d.TYPE.AUDIO
                            }
                        },
                        isVideo: {
                            get: function () {
                                return n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."), this.type === d.TYPE.VIDEO
                            }
                        }
                    }), Object.defineProperties(f.prototype, {
                        before: {
                            get: function () {
                                return n("The before() method is deprecated, please use pre()."), this.pre
                            }
                        },
                        after: {
                            get: function () {
                                return n("The after() method is deprecated, please use use()."), this.use
                            }
                        }
                    })
                }
                u.interactiveTarget && Object.defineProperty(u.interactiveTarget, "defaultCursor", {
                    set: function (t) {
                        n("Property defaultCursor has been replaced with 'cursor'. "), this.cursor = t
                    },
                    get: function () {
                        return n("Property defaultCursor has been replaced with 'cursor'. "), this.cursor
                    }
                }), u.InteractionManager && (Object.defineProperty(u.InteractionManager, "defaultCursorStyle", {
                    set: function (t) {
                        n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "), this.cursorStyles.default = t
                    },
                    get: function () {
                        return n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "), this.cursorStyles.default
                    }
                }), Object.defineProperty(u.InteractionManager, "currentCursorStyle", {
                    set: function (t) {
                        n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."), this.currentCursorMode = t
                    },
                    get: function () {
                        return n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."), this.currentCursorMode
                    }
                }))
            }
            r.__esModule = !0, r.default = i;
            var o = {}
        }, {}],
        132: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("../../core"),
                o = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(i),
                s = new o.Rectangle,
                a = function () {
                    function t(e) {
                        n(this, t), this.renderer = e, e.extract = this
                    }
                    return t.prototype.image = function (t) {
                        var e = new Image;
                        return e.src = this.base64(t), e
                    }, t.prototype.base64 = function (t) {
                        return this.canvas(t).toDataURL()
                    }, t.prototype.canvas = function (t) {
                        var e = this.renderer,
                            r = void 0,
                            n = void 0,
                            i = void 0,
                            a = void 0;
                        t && (a = t instanceof o.RenderTexture ? t : e.generateTexture(t)), a ? (r = a.baseTexture._canvasRenderTarget.context, n = a.baseTexture._canvasRenderTarget.resolution, i = a.frame) : (r = e.rootContext, n = e.resolution, i = s, i.width = this.renderer.width, i.height = this.renderer.height);
                        var u = i.width * n,
                            h = i.height * n,
                            l = new o.CanvasRenderTarget(u, h, 1),
                            c = r.getImageData(i.x * n, i.y * n, u, h);
                        return l.context.putImageData(c, 0, 0), l.canvas
                    }, t.prototype.pixels = function (t) {
                        var e = this.renderer,
                            r = void 0,
                            n = void 0,
                            i = void 0,
                            a = void 0;
                        return t && (a = t instanceof o.RenderTexture ? t : e.generateTexture(t)), a ? (r = a.baseTexture._canvasRenderTarget.context, n = a.baseTexture._canvasRenderTarget.resolution, i = a.frame) : (r = e.rootContext, i = s, i.width = e.width, i.height = e.height), r.getImageData(0, 0, i.width * n, i.height * n).data
                    }, t.prototype.destroy = function () {
                        this.renderer.extract = null, this.renderer = null
                    }, t
                }();
            r.default = a, o.CanvasRenderer.registerPlugin("extract", a)
        }, {
            "../../core": 65
        }],
        133: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            r.__esModule = !0;
            var i = t("./webgl/WebGLExtract");
            Object.defineProperty(r, "webgl", {
                enumerable: !0,
                get: function () {
                    return n(i).default
                }
            });
            var o = t("./canvas/CanvasExtract");
            Object.defineProperty(r, "canvas", {
                enumerable: !0,
                get: function () {
                    return n(o).default
                }
            })
        }, {
            "./canvas/CanvasExtract": 132,
            "./webgl/WebGLExtract": 134
        }],
        134: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("../../core"),
                o = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(i),
                s = new o.Rectangle,
                a = function () {
                    function t(e) {
                        n(this, t), this.renderer = e, e.extract = this
                    }
                    return t.prototype.image = function (t) {
                        var e = new Image;
                        return e.src = this.base64(t), e
                    }, t.prototype.base64 = function (t) {
                        return this.canvas(t).toDataURL()
                    }, t.prototype.canvas = function (t) {
                        var e = this.renderer,
                            r = void 0,
                            n = void 0,
                            i = void 0,
                            a = !1,
                            u = void 0,
                            h = !1;
                        t && (t instanceof o.RenderTexture ? u = t : (u = this.renderer.generateTexture(t), h = !0)), u ? (r = u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID], n = r.resolution, i = u.frame, a = !1) : (r = this.renderer.rootRenderTarget, n = r.resolution, a = !0, i = s, i.width = r.size.width, i.height = r.size.height);
                        var l = i.width * n,
                            c = i.height * n,
                            d = new o.CanvasRenderTarget(l, c, 1);
                        if (r) {
                            e.bindRenderTarget(r);
                            var f = new Uint8Array(4 * l * c),
                                p = e.gl;
                            p.readPixels(i.x * n, i.y * n, l, c, p.RGBA, p.UNSIGNED_BYTE, f);
                            var v = d.context.getImageData(0, 0, l, c);
                            v.data.set(f), d.context.putImageData(v, 0, 0), a && (d.context.scale(1, -1), d.context.drawImage(d.canvas, 0, -c))
                        }
                        return h && u.destroy(!0), d.canvas
                    }, t.prototype.pixels = function (t) {
                        var e = this.renderer,
                            r = void 0,
                            n = void 0,
                            i = void 0,
                            a = void 0,
                            u = !1;
                        t && (t instanceof o.RenderTexture ? a = t : (a = this.renderer.generateTexture(t), u = !0)), a ? (r = a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID], n = r.resolution, i = a.frame) : (r = this.renderer.rootRenderTarget, n = r.resolution, i = s, i.width = r.size.width, i.height = r.size.height);
                        var h = i.width * n,
                            l = i.height * n,
                            c = new Uint8Array(4 * h * l);
                        if (r) {
                            e.bindRenderTarget(r);
                            var d = e.gl;
                            d.readPixels(i.x * n, i.y * n, h, l, d.RGBA, d.UNSIGNED_BYTE, c)
                        }
                        return u && a.destroy(!0), c
                    }, t.prototype.destroy = function () {
                        this.renderer.extract = null, this.renderer = null
                    }, t
                }();
            r.default = a, o.WebGLRenderer.registerPlugin("extract", a)
        }, {
            "../../core": 65
        }],
        135: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                a = t("../core"),
                u = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(a),
                h = function (t) {
                    function e(r, o) {
                        n(this, e);
                        var s = i(this, t.call(this, r[0] instanceof u.Texture ? r[0] : r[0].texture));
                        return s._textures = null, s._durations = null, s.textures = r, s._autoUpdate = !1 !== o, s.animationSpeed = 1, s.loop = !0, s.updateAnchor = !1, s.onComplete = null, s.onFrameChange = null, s.onLoop = null, s._currentTime = 0, s.playing = !1, s
                    }
                    return o(e, t), e.prototype.stop = function () {
                        this.playing && (this.playing = !1, this._autoUpdate && u.ticker.shared.remove(this.update, this))
                    }, e.prototype.play = function () {
                        this.playing || (this.playing = !0, this._autoUpdate && u.ticker.shared.add(this.update, this, u.UPDATE_PRIORITY.HIGH))
                    }, e.prototype.gotoAndStop = function (t) {
                        this.stop();
                        var e = this.currentFrame;
                        this._currentTime = t, e !== this.currentFrame && this.updateTexture()
                    }, e.prototype.gotoAndPlay = function (t) {
                        var e = this.currentFrame;
                        this._currentTime = t, e !== this.currentFrame && this.updateTexture(), this.play()
                    }, e.prototype.update = function (t) {
                        var e = this.animationSpeed * t,
                            r = this.currentFrame;
                        if (null !== this._durations) {
                            var n = this._currentTime % 1 * this._durations[this.currentFrame];
                            for (n += e / 60 * 1e3; n < 0;) this._currentTime--, n += this._durations[this.currentFrame];
                            var i = Math.sign(this.animationSpeed * t);
                            for (this._currentTime = Math.floor(this._currentTime); n >= this._durations[this.currentFrame];) n -= this._durations[this.currentFrame] * i, this._currentTime += i;
                            this._currentTime += n / this._durations[this.currentFrame]
                        } else this._currentTime += e;
                        this._currentTime < 0 && !this.loop ? (this.gotoAndStop(0), this.onComplete && this.onComplete()) : this._currentTime >= this._textures.length && !this.loop ? (this.gotoAndStop(this._textures.length - 1), this.onComplete && this.onComplete()) : r !== this.currentFrame && (this.loop && this.onLoop && (this.animationSpeed > 0 && this.currentFrame < r ? this.onLoop() : this.animationSpeed < 0 && this.currentFrame > r && this.onLoop()), this.updateTexture())
                    }, e.prototype.updateTexture = function () {
                        this._texture = this._textures[this.currentFrame], this._textureID = -1, this.cachedTint = 16777215, this.updateAnchor && this._anchor.copy(this._texture.defaultAnchor), this.onFrameChange && this.onFrameChange(this.currentFrame)
                    }, e.prototype.destroy = function (e) {
                        this.stop(), t.prototype.destroy.call(this, e)
                    }, e.fromFrames = function (t) {
                        for (var r = [], n = 0; n < t.length; ++n) r.push(u.Texture.fromFrame(t[n]));
                        return new e(r)
                    }, e.fromImages = function (t) {
                        for (var r = [], n = 0; n < t.length; ++n) r.push(u.Texture.fromImage(t[n]));
                        return new e(r)
                    }, s(e, [{
                        key: "totalFrames",
                        get: function () {
                            return this._textures.length
                        }
                    }, {
                        key: "textures",
                        get: function () {
                            return this._textures
                        },
                        set: function (t) {
                            if (t[0] instanceof u.Texture) this._textures = t, this._durations = null;
                            else {
                                this._textures = [], this._durations = [];
                                for (var e = 0; e < t.length; e++) this._textures.push(t[e].texture), this._durations.push(t[e].time)
                            }
                            this.gotoAndStop(0), this.updateTexture()
                        }
                    }, {
                        key: "currentFrame",
                        get: function () {
                            var t = Math.floor(this._currentTime) % this._textures.length;
                            return t < 0 && (t += this._textures.length), t
                        }
                    }]), e
                }(u.Sprite);
            r.default = h
        }, {
            "../core": 65
        }],
        136: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                u = t("../core"),
                h = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(u),
                l = t("../core/math/ObservablePoint"),
                c = n(l),
                d = t("../core/utils"),
                f = t("../core/settings"),
                p = n(f),
                v = function (t) {
                    function e(r) {
                        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        i(this, e);
                        var s = o(this, t.call(this));
                        return s._textWidth = 0, s._textHeight = 0, s._glyphs = [], s._font = {
                            tint: void 0 !== n.tint ? n.tint : 16777215,
                            align: n.align || "left",
                            name: null,
                            size: 0
                        }, s.font = n.font, s._text = r, s._maxWidth = 0, s._maxLineHeight = 0, s._letterSpacing = 0, s._anchor = new c.default(function () {
                            s.dirty = !0
                        }, s, 0, 0), s.dirty = !1, s.updateText(), s
                    }
                    return s(e, t), e.prototype.updateText = function () {
                        for (var t = e.fonts[this._font.name], r = this._font.size / t.size, n = new h.Point, i = [], o = [], s = this.text.replace(/(?:\r\n|\r)/g, "\n"), a = s.length, u = this._maxWidth * t.size / this._font.size, l = null, c = 0, d = 0, f = 0, p = -1, v = 0, g = 0, y = 0, m = 0; m < a; m++) {
                            var _ = s.charCodeAt(m),
                                b = s.charAt(m);
                            if (/(?:\s)/.test(b) && (p = m, v = c), "\r" !== b && "\n" !== b) {
                                var x = t.chars[_];
                                x && (l && x.kerning[l] && (n.x += x.kerning[l]), i.push({
                                    texture: x.texture,
                                    line: f,
                                    charCode: _,
                                    position: new h.Point(n.x + x.xOffset + this._letterSpacing / 2, n.y + x.yOffset)
                                }), n.x += x.xAdvance + this._letterSpacing, c = n.x, y = Math.max(y, x.yOffset + x.texture.height), l = _, -1 !== p && u > 0 && n.x > u && (++g, h.utils.removeItems(i, 1 + p - g, 1 + m - p), m = p, p = -1, o.push(v), d = Math.max(d, v), f++, n.x = 0, n.y += t.lineHeight, l = null))
                            } else o.push(c), d = Math.max(d, c), ++f, ++g, n.x = 0, n.y += t.lineHeight, l = null
                        }
                        var T = s.charAt(s.length - 1);
                        "\r" !== T && "\n" !== T && (/(?:\s)/.test(T) && (c = v), o.push(c), d = Math.max(d, c));
                        for (var w = [], E = 0; E <= f; E++) {
                            var S = 0;
                            "right" === this._font.align ? S = d - o[E] : "center" === this._font.align && (S = (d - o[E]) / 2), w.push(S)
                        }
                        for (var O = i.length, M = this.tint, P = 0; P < O; P++) {
                            var C = this._glyphs[P];
                            C ? C.texture = i[P].texture : (C = new h.Sprite(i[P].texture), this._glyphs.push(C)), C.position.x = (i[P].position.x + w[i[P].line]) * r, C.position.y = i[P].position.y * r, C.scale.x = C.scale.y = r, C.tint = M, C.parent || this.addChild(C)
                        }
                        for (var R = O; R < this._glyphs.length; ++R) this.removeChild(this._glyphs[R]);
                        if (this._textWidth = d * r, this._textHeight = (n.y + t.lineHeight) * r, 0 !== this.anchor.x || 0 !== this.anchor.y)
                            for (var A = 0; A < O; A++) this._glyphs[A].x -= this._textWidth * this.anchor.x, this._glyphs[A].y -= this._textHeight * this.anchor.y;
                        this._maxLineHeight = y * r
                    }, e.prototype.updateTransform = function () {
                        this.validate(), this.containerUpdateTransform()
                    }, e.prototype.getLocalBounds = function () {
                        return this.validate(), t.prototype.getLocalBounds.call(this)
                    }, e.prototype.validate = function () {
                        this.dirty && (this.updateText(), this.dirty = !1)
                    }, e.registerFont = function (t, r) {
                        var n = {},
                            i = t.getElementsByTagName("info")[0],
                            o = t.getElementsByTagName("common")[0],
                            s = t.getElementsByTagName("page"),
                            a = (0, d.getResolutionOfUrl)(s[0].getAttribute("file"), p.default.RESOLUTION),
                            u = {};
                        n.font = i.getAttribute("face"), n.size = parseInt(i.getAttribute("size"), 10), n.lineHeight = parseInt(o.getAttribute("lineHeight"), 10) / a, n.chars = {}, r instanceof h.Texture && (r = [r]);
                        for (var l = 0; l < s.length; l++) {
                            var c = s[l].getAttribute("id"),
                                f = s[l].getAttribute("file");
                            u[c] = r instanceof Array ? r[l] : r[f]
                        }
                        for (var v = t.getElementsByTagName("char"), g = 0; g < v.length; g++) {
                            var y = v[g],
                                m = parseInt(y.getAttribute("id"), 10),
                                _ = y.getAttribute("page") || 0,
                                b = new h.Rectangle(parseInt(y.getAttribute("x"), 10) / a + u[_].frame.x / a, parseInt(y.getAttribute("y"), 10) / a + u[_].frame.y / a, parseInt(y.getAttribute("width"), 10) / a, parseInt(y.getAttribute("height"), 10) / a);
                            n.chars[m] = {
                                xOffset: parseInt(y.getAttribute("xoffset"), 10) / a,
                                yOffset: parseInt(y.getAttribute("yoffset"), 10) / a,
                                xAdvance: parseInt(y.getAttribute("xadvance"), 10) / a,
                                kerning: {},
                                texture: new h.Texture(u[_].baseTexture, b),
                                page: _
                            }
                        }
                        for (var x = t.getElementsByTagName("kerning"), T = 0; T < x.length; T++) {
                            var w = x[T],
                                E = parseInt(w.getAttribute("first"), 10) / a,
                                S = parseInt(w.getAttribute("second"), 10) / a,
                                O = parseInt(w.getAttribute("amount"), 10) / a;
                            n.chars[S] && (n.chars[S].kerning[E] = O)
                        }
                        return e.fonts[n.font] = n, n
                    }, a(e, [{
                        key: "tint",
                        get: function () {
                            return this._font.tint
                        },
                        set: function (t) {
                            this._font.tint = "number" == typeof t && t >= 0 ? t : 16777215, this.dirty = !0
                        }
                    }, {
                        key: "align",
                        get: function () {
                            return this._font.align
                        },
                        set: function (t) {
                            this._font.align = t || "left", this.dirty = !0
                        }
                    }, {
                        key: "anchor",
                        get: function () {
                            return this._anchor
                        },
                        set: function (t) {
                            "number" == typeof t ? this._anchor.set(t) : this._anchor.copy(t)
                        }
                    }, {
                        key: "font",
                        get: function () {
                            return this._font
                        },
                        set: function (t) {
                            t && ("string" == typeof t ? (t = t.split(" "), this._font.name = 1 === t.length ? t[0] : t.slice(1).join(" "), this._font.size = t.length >= 2 ? parseInt(t[0], 10) : e.fonts[this._font.name].size) : (this._font.name = t.name, this._font.size = "number" == typeof t.size ? t.size : parseInt(t.size, 10)), this.dirty = !0)
                        }
                    }, {
                        key: "text",
                        get: function () {
                            return this._text
                        },
                        set: function (t) {
                            t = t.toString() || " ", this._text !== t && (this._text = t, this.dirty = !0)
                        }
                    }, {
                        key: "maxWidth",
                        get: function () {
                            return this._maxWidth
                        },
                        set: function (t) {
                            this._maxWidth !== t && (this._maxWidth = t, this.dirty = !0)
                        }
                    }, {
                        key: "maxLineHeight",
                        get: function () {
                            return this.validate(), this._maxLineHeight
                        }
                    }, {
                        key: "textWidth",
                        get: function () {
                            return this.validate(), this._textWidth
                        }
                    }, {
                        key: "letterSpacing",
                        get: function () {
                            return this._letterSpacing
                        },
                        set: function (t) {
                            this._letterSpacing !== t && (this._letterSpacing = t, this.dirty = !0)
                        }
                    }, {
                        key: "textHeight",
                        get: function () {
                            return this.validate(), this._textHeight
                        }
                    }]), e
                }(h.Container);
            r.default = v, v.fonts = {}
        }, {
            "../core": 65,
            "../core/math/ObservablePoint": 68,
            "../core/settings": 101,
            "../core/utils": 125
        }],
        137: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                a = t("../core"),
                u = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(a),
                h = t("../core/sprites/canvas/CanvasTinter"),
                l = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(h),
                c = new u.Point,
                d = function (t) {
                    function e(r) {
                        var o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100,
                            s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 100;
                        n(this, e);
                        var a = i(this, t.call(this, r));
                        return a.tileTransform = new u.TransformStatic, a._width = o, a._height = s, a._canvasPattern = null, a.uvTransform = r.transform || new u.TextureMatrix(r), a.pluginName = "tilingSprite", a.uvRespectAnchor = !1, a
                    }
                    return o(e, t), e.prototype._onTextureUpdate = function () {
                        this.uvTransform && (this.uvTransform.texture = this._texture), this.cachedTint = 16777215
                    }, e.prototype._renderWebGL = function (t) {
                        var e = this._texture;
                        e && e.valid && (this.tileTransform.updateLocalTransform(), this.uvTransform.update(), t.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this))
                    }, e.prototype._renderCanvas = function (t) {
                        var e = this._texture;
                        if (e.baseTexture.hasLoaded) {
                            var r = t.context,
                                n = this.worldTransform,
                                i = t.resolution,
                                o = 2 === e.rotate,
                                s = e.baseTexture,
                                a = s.resolution,
                                h = this.tilePosition.x / this.tileScale.x % e.orig.width * a,
                                c = this.tilePosition.y / this.tileScale.y % e.orig.height * a;
                            if (this._textureID !== this._texture._updateID || this.cachedTint !== this.tint) {
                                this._textureID = this._texture._updateID;
                                var d = new u.CanvasRenderTarget(e.orig.width, e.orig.height, a);
                                if (16777215 !== this.tint) this.tintedTexture = l.default.getTintedTexture(this, this.tint), d.context.drawImage(this.tintedTexture, 0, 0);
                                else {
                                    var f = e._frame.x * a,
                                        p = e._frame.y * a,
                                        v = e._frame.width * a,
                                        g = e._frame.height * a,
                                        y = (e.trim ? e.trim.width : e.orig.width) * a,
                                        m = (e.trim ? e.trim.height : e.orig.height) * a,
                                        _ = (e.trim ? e.trim.x : 0) * a,
                                        b = (e.trim ? e.trim.y : 0) * a;
                                    o ? (d.context.rotate(-Math.PI / 2), d.context.translate(-m, 0), d.context.drawImage(s.source, f, p, v, g, -b, _, m, y)) : d.context.drawImage(s.source, f, p, v, g, _, b, y, m)
                                }
                                this.cachedTint = this.tint, this._canvasPattern = d.context.createPattern(d.canvas, "repeat")
                            }
                            r.globalAlpha = this.worldAlpha, r.setTransform(n.a * i, n.b * i, n.c * i, n.d * i, n.tx * i, n.ty * i), t.setBlendMode(this.blendMode), r.fillStyle = this._canvasPattern, r.scale(this.tileScale.x / a, this.tileScale.y / a);
                            var x = this.anchor.x * -this._width * a,
                                T = this.anchor.y * -this._height * a;
                            this.uvRespectAnchor ? (r.translate(h, c), r.fillRect(-h + x, -c + T, this._width / this.tileScale.x * a, this._height / this.tileScale.y * a)) : (r.translate(h + x, c + T), r.fillRect(-h, -c, this._width / this.tileScale.x * a, this._height / this.tileScale.y * a))
                        }
                    }, e.prototype._calculateBounds = function () {
                        var t = this._width * -this._anchor._x,
                            e = this._height * -this._anchor._y,
                            r = this._width * (1 - this._anchor._x),
                            n = this._height * (1 - this._anchor._y);
                        this._bounds.addFrame(this.transform, t, e, r, n)
                    }, e.prototype.getLocalBounds = function (e) {
                        return 0 === this.children.length ? (this._bounds.minX = this._width * -this._anchor._x,
                            this._bounds.minY = this._height * -this._anchor._y, this._bounds.maxX = this._width * (1 - this._anchor._x), this._bounds.maxY = this._height * (1 - this._anchor._y), e || (this._localBoundsRect || (this._localBoundsRect = new u.Rectangle), e = this._localBoundsRect), this._bounds.getRectangle(e)) : t.prototype.getLocalBounds.call(this, e)
                    }, e.prototype.containsPoint = function (t) {
                        this.worldTransform.applyInverse(t, c);
                        var e = this._width,
                            r = this._height,
                            n = -e * this.anchor._x;
                        if (c.x >= n && c.x < n + e) {
                            var i = -r * this.anchor._y;
                            if (c.y >= i && c.y < i + r) return !0
                        }
                        return !1
                    }, e.prototype.destroy = function (e) {
                        t.prototype.destroy.call(this, e), this.tileTransform = null, this.uvTransform = null
                    }, e.from = function (t, r, n) {
                        return new e(u.Texture.from(t), r, n)
                    }, e.fromFrame = function (t, r, n) {
                        var i = u.utils.TextureCache[t];
                        if (!i) throw new Error('The frameId "' + t + '" does not exist in the texture cache ' + this);
                        return new e(i, r, n)
                    }, e.fromImage = function (t, r, n, i, o) {
                        return new e(u.Texture.fromImage(t, i, o), r, n)
                    }, s(e, [{
                        key: "clampMargin",
                        get: function () {
                            return this.uvTransform.clampMargin
                        },
                        set: function (t) {
                            this.uvTransform.clampMargin = t, this.uvTransform.update(!0)
                        }
                    }, {
                        key: "tileScale",
                        get: function () {
                            return this.tileTransform.scale
                        },
                        set: function (t) {
                            this.tileTransform.scale.copy(t)
                        }
                    }, {
                        key: "tilePosition",
                        get: function () {
                            return this.tileTransform.position
                        },
                        set: function (t) {
                            this.tileTransform.position.copy(t)
                        }
                    }, {
                        key: "width",
                        get: function () {
                            return this._width
                        },
                        set: function (t) {
                            this._width = t
                        }
                    }, {
                        key: "height",
                        get: function () {
                            return this._height
                        },
                        set: function (t) {
                            this._height = t
                        }
                    }]), e
                }(u.Sprite);
            r.default = d
        }, {
            "../core": 65,
            "../core/sprites/canvas/CanvasTinter": 104
        }],
        138: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            var o = t("../core"),
                s = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(o),
                a = t("../core/textures/Texture"),
                u = n(a),
                h = t("../core/textures/BaseTexture"),
                l = n(h),
                c = t("../core/utils"),
                d = s.DisplayObject,
                f = new s.Matrix;
            d.prototype._cacheAsBitmap = !1, d.prototype._cacheData = !1;
            var p = function t() {
                i(this, t), this.textureCacheId = null, this.originalRenderWebGL = null, this.originalRenderCanvas = null, this.originalCalculateBounds = null, this.originalGetLocalBounds = null, this.originalUpdateTransform = null, this.originalHitTest = null, this.originalDestroy = null, this.originalMask = null, this.originalFilterArea = null, this.sprite = null
            };
            Object.defineProperties(d.prototype, {
                cacheAsBitmap: {
                    get: function () {
                        return this._cacheAsBitmap
                    },
                    set: function (t) {
                        if (this._cacheAsBitmap !== t) {
                            this._cacheAsBitmap = t;
                            var e = void 0;
                            t ? (this._cacheData || (this._cacheData = new p), e = this._cacheData, e.originalRenderWebGL = this.renderWebGL, e.originalRenderCanvas = this.renderCanvas, e.originalUpdateTransform = this.updateTransform, e.originalCalculateBounds = this.calculateBounds, e.originalGetLocalBounds = this.getLocalBounds, e.originalDestroy = this.destroy, e.originalContainsPoint = this.containsPoint, e.originalMask = this._mask, e.originalFilterArea = this.filterArea, this.renderWebGL = this._renderCachedWebGL, this.renderCanvas = this._renderCachedCanvas, this.destroy = this._cacheAsBitmapDestroy) : (e = this._cacheData, e.sprite && this._destroyCachedDisplayObject(), this.renderWebGL = e.originalRenderWebGL, this.renderCanvas = e.originalRenderCanvas, this.calculateBounds = e.originalCalculateBounds, this.getLocalBounds = e.originalGetLocalBounds, this.destroy = e.originalDestroy, this.updateTransform = e.originalUpdateTransform, this.containsPoint = e.originalContainsPoint, this._mask = e.originalMask, this.filterArea = e.originalFilterArea)
                        }
                    }
                }
            }), d.prototype._renderCachedWebGL = function (t) {
                !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObject(t), this._cacheData.sprite.transform._worldID = this.transform._worldID, this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite._renderWebGL(t))
            }, d.prototype._initCachedDisplayObject = function (t) {
                if (!this._cacheData || !this._cacheData.sprite) {
                    var e = this.alpha;
                    this.alpha = 1, t.currentRenderer.flush();
                    var r = this.getLocalBounds().clone();
                    if (this._filters && this._filters.length) {
                        var n = this._filters[0].padding;
                        r.pad(n)
                    }
                    r.ceil(s.settings.RESOLUTION);
                    var i = t._activeRenderTarget,
                        o = t.filterManager.filterStack,
                        a = s.RenderTexture.create(r.width, r.height),
                        h = "cacheAsBitmap_" + (0, c.uid)();
                    this._cacheData.textureCacheId = h, l.default.addToCache(a.baseTexture, h), u.default.addToCache(a, h);
                    var d = f;
                    d.tx = -r.x, d.ty = -r.y, this.transform.worldTransform.identity(), this.renderWebGL = this._cacheData.originalRenderWebGL, t.render(this, a, !0, d, !0), t.bindRenderTarget(i), t.filterManager.filterStack = o, this.renderWebGL = this._renderCachedWebGL, this.updateTransform = this.displayObjectUpdateTransform, this.calculateBounds = this._calculateCachedBounds, this.getLocalBounds = this._getCachedLocalBounds, this._mask = null, this.filterArea = null;
                    var p = new s.Sprite(a);
                    p.transform.worldTransform = this.transform.worldTransform, p.anchor.x = -r.x / r.width, p.anchor.y = -r.y / r.height, p.alpha = e, p._bounds = this._bounds, this._cacheData.sprite = p, this.transform._parentID = -1, this.parent ? this.updateTransform() : (this.parent = t._tempDisplayObjectParent, this.updateTransform(), this.parent = null), this.containsPoint = p.containsPoint.bind(p)
                }
            }, d.prototype._renderCachedCanvas = function (t) {
                !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObjectCanvas(t), this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite._renderCanvas(t))
            }, d.prototype._initCachedDisplayObjectCanvas = function (t) {
                if (!this._cacheData || !this._cacheData.sprite) {
                    var e = this.getLocalBounds(),
                        r = this.alpha;
                    this.alpha = 1;
                    var n = t.context;
                    e.ceil(s.settings.RESOLUTION);
                    var i = s.RenderTexture.create(e.width, e.height),
                        o = "cacheAsBitmap_" + (0, c.uid)();
                    this._cacheData.textureCacheId = o, l.default.addToCache(i.baseTexture, o), u.default.addToCache(i, o);
                    var a = f;
                    this.transform.localTransform.copy(a), a.invert(), a.tx -= e.x, a.ty -= e.y, this.renderCanvas = this._cacheData.originalRenderCanvas, t.render(this, i, !0, a, !1), t.context = n, this.renderCanvas = this._renderCachedCanvas, this.updateTransform = this.displayObjectUpdateTransform, this.calculateBounds = this._calculateCachedBounds, this.getLocalBounds = this._getCachedLocalBounds, this._mask = null, this.filterArea = null;
                    var h = new s.Sprite(i);
                    h.transform.worldTransform = this.transform.worldTransform, h.anchor.x = -e.x / e.width, h.anchor.y = -e.y / e.height, h.alpha = r, h._bounds = this._bounds, this._cacheData.sprite = h, this.transform._parentID = -1, this.parent ? this.updateTransform() : (this.parent = t._tempDisplayObjectParent, this.updateTransform(), this.parent = null), this.containsPoint = h.containsPoint.bind(h)
                }
            }, d.prototype._calculateCachedBounds = function () {
                this._bounds.clear(), this._cacheData.sprite.transform._worldID = this.transform._worldID, this._cacheData.sprite._calculateBounds(), this._lastBoundsID = this._boundsID
            }, d.prototype._getCachedLocalBounds = function () {
                return this._cacheData.sprite.getLocalBounds()
            }, d.prototype._destroyCachedDisplayObject = function () {
                this._cacheData.sprite._texture.destroy(!0), this._cacheData.sprite = null, l.default.removeFromCache(this._cacheData.textureCacheId), u.default.removeFromCache(this._cacheData.textureCacheId), this._cacheData.textureCacheId = null
            }, d.prototype._cacheAsBitmapDestroy = function (t) {
                this.cacheAsBitmap = !1, this.destroy(t)
            }
        }, {
            "../core": 65,
            "../core/textures/BaseTexture": 112,
            "../core/textures/Texture": 115,
            "../core/utils": 125
        }],
        139: [function (t, e, r) {
            "use strict";
            var n = t("../core"),
                i = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(n);
            i.DisplayObject.prototype.name = null, i.Container.prototype.getChildByName = function (t) {
                for (var e = 0; e < this.children.length; e++)
                    if (this.children[e].name === t) return this.children[e];
                return null
            }
        }, {
            "../core": 65
        }],
        140: [function (t, e, r) {
            "use strict";
            var n = t("../core"),
                i = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(n);
            i.DisplayObject.prototype.getGlobalPosition = function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new i.Point,
                    e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                return this.parent ? this.parent.toGlobal(this.position, t, e) : (t.x = this.position.x, t.y = this.position.y), t
            }
        }, {
            "../core": 65
        }],
        141: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            r.__esModule = !0, r.BitmapText = r.TilingSpriteRenderer = r.TilingSprite = r.AnimatedSprite = void 0;
            var i = t("./AnimatedSprite");
            Object.defineProperty(r, "AnimatedSprite", {
                enumerable: !0,
                get: function () {
                    return n(i).default
                }
            });
            var o = t("./TilingSprite");
            Object.defineProperty(r, "TilingSprite", {
                enumerable: !0,
                get: function () {
                    return n(o).default
                }
            });
            var s = t("./webgl/TilingSpriteRenderer");
            Object.defineProperty(r, "TilingSpriteRenderer", {
                enumerable: !0,
                get: function () {
                    return n(s).default
                }
            });
            var a = t("./BitmapText");
            Object.defineProperty(r, "BitmapText", {
                enumerable: !0,
                get: function () {
                    return n(a).default
                }
            }), t("./cacheAsBitmap"), t("./getChildByName"), t("./getGlobalPosition")
        }, {
            "./AnimatedSprite": 135,
            "./BitmapText": 136,
            "./TilingSprite": 137,
            "./cacheAsBitmap": 138,
            "./getChildByName": 139,
            "./getGlobalPosition": 140,
            "./webgl/TilingSpriteRenderer": 142
        }],
        142: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = t("../../core"),
                a = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(s),
                u = t("../../core/const"),
                h = (t("path"), new a.Matrix),
                l = function (t) {
                    function e(r) {
                        n(this, e);
                        var o = i(this, t.call(this, r));
                        return o.shader = null, o.simpleShader = null, o.quad = null, o
                    }
                    return o(e, t), e.prototype.onContextChange = function () {
                        var t = this.renderer.gl;
                        this.shader = new a.Shader(t, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"), this.simpleShader = new a.Shader(t, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"), this.renderer.bindVao(null), this.quad = new a.Quad(t, this.renderer.state.attribState), this.quad.initVao(this.shader)
                    }, e.prototype.render = function (t) {
                        var e = this.renderer,
                            r = this.quad;
                        e.bindVao(r.vao);
                        var n = r.vertices;
                        n[0] = n[6] = t._width * -t.anchor.x, n[1] = n[3] = t._height * -t.anchor.y, n[2] = n[4] = t._width * (1 - t.anchor.x), n[5] = n[7] = t._height * (1 - t.anchor.y), t.uvRespectAnchor && (n = r.uvs, n[0] = n[6] = -t.anchor.x, n[1] = n[3] = -t.anchor.y, n[2] = n[4] = 1 - t.anchor.x, n[5] = n[7] = 1 - t.anchor.y), r.upload();
                        var i = t._texture,
                            o = i.baseTexture,
                            s = t.tileTransform.localTransform,
                            l = t.uvTransform,
                            c = o.isPowerOfTwo && i.frame.width === o.width && i.frame.height === o.height;
                        c && (o._glTextures[e.CONTEXT_UID] ? c = o.wrapMode !== u.WRAP_MODES.CLAMP : o.wrapMode === u.WRAP_MODES.CLAMP && (o.wrapMode = u.WRAP_MODES.REPEAT));
                        var d = c ? this.simpleShader : this.shader;
                        e.bindShader(d);
                        var f = i.width,
                            p = i.height,
                            v = t._width,
                            g = t._height;
                        h.set(s.a * f / v, s.b * f / g, s.c * p / v, s.d * p / g, s.tx / v, s.ty / g), h.invert(), c ? h.prepend(l.mapCoord) : (d.uniforms.uMapCoord = l.mapCoord.toArray(!0), d.uniforms.uClampFrame = l.uClampFrame, d.uniforms.uClampOffset = l.uClampOffset), d.uniforms.uTransform = h.toArray(!0), d.uniforms.uColor = a.utils.premultiplyTintToRgba(t.tint, t.worldAlpha, d.uniforms.uColor, o.premultipliedAlpha), d.uniforms.translationMatrix = t.transform.worldTransform.toArray(!0), d.uniforms.uSampler = e.bindTexture(i), e.setBlendMode(a.utils.correctBlendMode(t.blendMode, o.premultipliedAlpha)), r.vao.draw(this.renderer.gl.TRIANGLES, 6, 0)
                    }, e
                }(a.ObjectRenderer);
            r.default = l, a.WebGLRenderer.registerPlugin("tilingSprite", l)
        }, {
            "../../core": 65,
            "../../core/const": 46,
            path: 8
        }],
        143: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                a = t("../../core"),
                u = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(a),
                h = (t("path"), function (t) {
                    function e() {
                        var r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
                        n(this, e);
                        var o = i(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));
                        return o.alpha = r, o.glShaderKey = "alpha", o
                    }
                    return o(e, t), s(e, [{
                        key: "alpha",
                        get: function () {
                            return this.uniforms.uAlpha
                        },
                        set: function (t) {
                            this.uniforms.uAlpha = t
                        }
                    }]), e
                }(u.Filter));
            r.default = h
        }, {
            "../../core": 65,
            path: 8
        }],
        144: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                u = t("../../core"),
                h = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(u),
                l = t("./BlurXFilter"),
                c = n(l),
                d = t("./BlurYFilter"),
                f = n(d),
                p = function (t) {
                    function e(r, n, s, a) {
                        i(this, e);
                        var u = o(this, t.call(this));
                        return u.blurXFilter = new c.default(r, n, s, a), u.blurYFilter = new f.default(r, n, s, a), u.padding = 0, u.resolution = s || h.settings.RESOLUTION, u.quality = n || 4, u.blur = r || 8, u
                    }
                    return s(e, t), e.prototype.apply = function (t, e, r) {
                        var n = t.getRenderTarget(!0);
                        this.blurXFilter.apply(t, e, n, !0), this.blurYFilter.apply(t, n, r, !1), t.returnRenderTarget(n)
                    }, a(e, [{
                        key: "blur",
                        get: function () {
                            return this.blurXFilter.blur
                        },
                        set: function (t) {
                            this.blurXFilter.blur = this.blurYFilter.blur = t, this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength))
                        }
                    }, {
                        key: "quality",
                        get: function () {
                            return this.blurXFilter.quality
                        },
                        set: function (t) {
                            this.blurXFilter.quality = this.blurYFilter.quality = t
                        }
                    }, {
                        key: "blurX",
                        get: function () {
                            return this.blurXFilter.blur
                        },
                        set: function (t) {
                            this.blurXFilter.blur = t, this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength))
                        }
                    }, {
                        key: "blurY",
                        get: function () {
                            return this.blurYFilter.blur
                        },
                        set: function (t) {
                            this.blurYFilter.blur = t, this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength))
                        }
                    }, {
                        key: "blendMode",
                        get: function () {
                            return this.blurYFilter._blendMode
                        },
                        set: function (t) {
                            this.blurYFilter._blendMode = t
                        }
                    }]), e
                }(h.Filter);
            r.default = p
        }, {
            "../../core": 65,
            "./BlurXFilter": 145,
            "./BlurYFilter": 146
        }],
        145: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                u = t("../../core"),
                h = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(u),
                l = t("./generateBlurVertSource"),
                c = n(l),
                d = t("./generateBlurFragSource"),
                f = n(d),
                p = t("./getMaxBlurKernelSize"),
                v = n(p),
                g = function (t) {
                    function e(r, n, s, a) {
                        i(this, e), a = a || 5;
                        var u = (0, c.default)(a, !0),
                            l = (0, f.default)(a),
                            d = o(this, t.call(this, u, l));
                        return d.resolution = s || h.settings.RESOLUTION, d._quality = 0, d.quality = n || 4, d.strength = r || 8, d.firstRun = !0, d
                    }
                    return s(e, t), e.prototype.apply = function (t, e, r, n) {
                        if (this.firstRun) {
                            var i = t.renderer.gl,
                                o = (0, v.default)(i);
                            this.vertexSrc = (0, c.default)(o, !0), this.fragmentSrc = (0, f.default)(o), this.firstRun = !1
                        }
                        if (this.uniforms.strength = 1 / r.size.width * (r.size.width / e.size.width), this.uniforms.strength *= this.strength, this.uniforms.strength /= this.passes, 1 === this.passes) t.applyFilter(this, e, r, n);
                        else {
                            for (var s = t.getRenderTarget(!0), a = e, u = s, h = 0; h < this.passes - 1; h++) {
                                t.applyFilter(this, a, u, !0);
                                var l = u;
                                u = a, a = l
                            }
                            t.applyFilter(this, a, r, n), t.returnRenderTarget(s)
                        }
                    }, a(e, [{
                        key: "blur",
                        get: function () {
                            return this.strength
                        },
                        set: function (t) {
                            this.padding = 2 * Math.abs(t), this.strength = t
                        }
                    }, {
                        key: "quality",
                        get: function () {
                            return this._quality
                        },
                        set: function (t) {
                            this._quality = t, this.passes = t
                        }
                    }]), e
                }(h.Filter);
            r.default = g
        }, {
            "../../core": 65,
            "./generateBlurFragSource": 147,
            "./generateBlurVertSource": 148,
            "./getMaxBlurKernelSize": 149
        }],
        146: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                u = t("../../core"),
                h = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(u),
                l = t("./generateBlurVertSource"),
                c = n(l),
                d = t("./generateBlurFragSource"),
                f = n(d),
                p = t("./getMaxBlurKernelSize"),
                v = n(p),
                g = function (t) {
                    function e(r, n, s, a) {
                        i(this, e), a = a || 5;
                        var u = (0, c.default)(a, !1),
                            l = (0, f.default)(a),
                            d = o(this, t.call(this, u, l));
                        return d.resolution = s || h.settings.RESOLUTION, d._quality = 0, d.quality = n || 4, d.strength = r || 8, d.firstRun = !0, d
                    }
                    return s(e, t), e.prototype.apply = function (t, e, r, n) {
                        if (this.firstRun) {
                            var i = t.renderer.gl,
                                o = (0, v.default)(i);
                            this.vertexSrc = (0, c.default)(o, !1), this.fragmentSrc = (0, f.default)(o), this.firstRun = !1
                        }
                        if (this.uniforms.strength = 1 / r.size.height * (r.size.height / e.size.height), this.uniforms.strength *= this.strength, this.uniforms.strength /= this.passes, 1 === this.passes) t.applyFilter(this, e, r, n);
                        else {
                            for (var s = t.getRenderTarget(!0), a = e, u = s, h = 0; h < this.passes - 1; h++) {
                                t.applyFilter(this, a, u, !0);
                                var l = u;
                                u = a, a = l
                            }
                            t.applyFilter(this, a, r, n), t.returnRenderTarget(s)
                        }
                    }, a(e, [{
                        key: "blur",
                        get: function () {
                            return this.strength
                        },
                        set: function (t) {
                            this.padding = 2 * Math.abs(t), this.strength = t
                        }
                    }, {
                        key: "quality",
                        get: function () {
                            return this._quality
                        },
                        set: function (t) {
                            this._quality = t, this.passes = t
                        }
                    }]), e
                }(h.Filter);
            r.default = g
        }, {
            "../../core": 65,
            "./generateBlurFragSource": 147,
            "./generateBlurVertSource": 148,
            "./getMaxBlurKernelSize": 149
        }],
        147: [function (t, e, r) {
            "use strict";
            function n(t) {
                for (var e = i[t], r = e.length, n = o, s = "", a = "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;", u = void 0, h = 0; h < t; h++) {
                    var l = a.replace("%index%", h);
                    u = h, h >= r && (u = t - h - 1), l = l.replace("%value%", e[u]), s += l, s += "\n"
                }
                return n = n.replace("%blur%", s), n = n.replace("%size%", t)
            }
            r.__esModule = !0, r.default = n;
            var i = {
                    5: [.153388, .221461, .250301],
                    7: [.071303, .131514, .189879, .214607],
                    9: [.028532, .067234, .124009, .179044, .20236],
                    11: [.0093, .028002, .065984, .121703, .175713, .198596],
                    13: [.002406, .009255, .027867, .065666, .121117, .174868, .197641],
                    15: [489e-6, .002403, .009246, .02784, .065602, .120999, .174697, .197448]
                },
                o = ["varying vec2 vBlurTexCoords[%size%];", "uniform sampler2D uSampler;", "void main(void)", "{", "    gl_FragColor = vec4(0.0);", "    %blur%", "}"].join("\n")
        }, {}],
        148: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                var r = Math.ceil(t / 2),
                    n = i,
                    o = "",
                    s = void 0;
                s = e ? "vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);" : "vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";
                for (var a = 0; a < t; a++) {
                    var u = s.replace("%index%", a);
                    u = u.replace("%sampleIndex%", a - (r - 1) + ".0"), o += u, o += "\n"
                }
                return n = n.replace("%blur%", o), n = n.replace("%size%", t)
            }
            r.__esModule = !0, r.default = n;
            var i = ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform float strength;", "uniform mat3 projectionMatrix;", "varying vec2 vBlurTexCoords[%size%];", "void main(void)", "{", "gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);", "%blur%", "}"].join("\n")
        }, {}],
        149: [function (t, e, r) {
            "use strict";
            function n(t) {
                for (var e = t.getParameter(t.MAX_VARYING_VECTORS), r = 15; r > e;) r -= 2;
                return r
            }
            r.__esModule = !0, r.default = n
        }, {}],
        150: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                a = t("../../core"),
                u = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(a),
                h = (t("path"), function (t) {
                    function e() {
                        n(this, e);
                        var r = i(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));
                        return r.uniforms.m = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0], r.alpha = 1, r
                    }
                    return o(e, t), e.prototype._loadMatrix = function (t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                            r = t;
                        e && (this._multiply(r, this.uniforms.m, t), r = this._colorMatrix(r)), this.uniforms.m = r
                    }, e.prototype._multiply = function (t, e, r) {
                        return t[0] = e[0] * r[0] + e[1] * r[5] + e[2] * r[10] + e[3] * r[15], t[1] = e[0] * r[1] + e[1] * r[6] + e[2] * r[11] + e[3] * r[16], t[2] = e[0] * r[2] + e[1] * r[7] + e[2] * r[12] + e[3] * r[17], t[3] = e[0] * r[3] + e[1] * r[8] + e[2] * r[13] + e[3] * r[18], t[4] = e[0] * r[4] + e[1] * r[9] + e[2] * r[14] + e[3] * r[19] + e[4], t[5] = e[5] * r[0] + e[6] * r[5] + e[7] * r[10] + e[8] * r[15], t[6] = e[5] * r[1] + e[6] * r[6] + e[7] * r[11] + e[8] * r[16], t[7] = e[5] * r[2] + e[6] * r[7] + e[7] * r[12] + e[8] * r[17], t[8] = e[5] * r[3] + e[6] * r[8] + e[7] * r[13] + e[8] * r[18], t[9] = e[5] * r[4] + e[6] * r[9] + e[7] * r[14] + e[8] * r[19] + e[9], t[10] = e[10] * r[0] + e[11] * r[5] + e[12] * r[10] + e[13] * r[15], t[11] = e[10] * r[1] + e[11] * r[6] + e[12] * r[11] + e[13] * r[16], t[12] = e[10] * r[2] + e[11] * r[7] + e[12] * r[12] + e[13] * r[17], t[13] = e[10] * r[3] + e[11] * r[8] + e[12] * r[13] + e[13] * r[18], t[14] = e[10] * r[4] + e[11] * r[9] + e[12] * r[14] + e[13] * r[19] + e[14], t[15] = e[15] * r[0] + e[16] * r[5] + e[17] * r[10] + e[18] * r[15], t[16] = e[15] * r[1] + e[16] * r[6] + e[17] * r[11] + e[18] * r[16], t[17] = e[15] * r[2] + e[16] * r[7] + e[17] * r[12] + e[18] * r[17], t[18] = e[15] * r[3] + e[16] * r[8] + e[17] * r[13] + e[18] * r[18], t[19] = e[15] * r[4] + e[16] * r[9] + e[17] * r[14] + e[18] * r[19] + e[19], t
                    }, e.prototype._colorMatrix = function (t) {
                        var e = new Float32Array(t);
                        return e[4] /= 255, e[9] /= 255, e[14] /= 255, e[19] /= 255, e
                    }, e.prototype.brightness = function (t, e) {
                        var r = [t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 1, 0];
                        this._loadMatrix(r, e)
                    }, e.prototype.greyscale = function (t, e) {
                        var r = [t, t, t, 0, 0, t, t, t, 0, 0, t, t, t, 0, 0, 0, 0, 0, 1, 0];
                        this._loadMatrix(r, e)
                    }, e.prototype.blackAndWhite = function (t) {
                        var e = [.3, .6, .1, 0, 0, .3, .6, .1, 0, 0, .3, .6, .1, 0, 0, 0, 0, 0, 1, 0];
                        this._loadMatrix(e, t)
                    }, e.prototype.hue = function (t, e) {
                        t = (t || 0) / 180 * Math.PI;
                        var r = Math.cos(t),
                            n = Math.sin(t),
                            i = Math.sqrt,
                            o = 1 / 3,
                            s = i(o),
                            a = r + (1 - r) * o,
                            u = o * (1 - r) - s * n,
                            h = o * (1 - r) + s * n,
                            l = o * (1 - r) + s * n,
                            c = r + o * (1 - r),
                            d = o * (1 - r) - s * n,
                            f = o * (1 - r) - s * n,
                            p = o * (1 - r) + s * n,
                            v = r + o * (1 - r),
                            g = [a, u, h, 0, 0, l, c, d, 0, 0, f, p, v, 0, 0, 0, 0, 0, 1, 0];
                        this._loadMatrix(g, e)
                    }, e.prototype.contrast = function (t, e) {
                        var r = (t || 0) + 1,
                            n = -.5 * (r - 1),
                            i = [r, 0, 0, 0, n, 0, r, 0, 0, n, 0, 0, r, 0, n, 0, 0, 0, 1, 0];
                        this._loadMatrix(i, e)
                    }, e.prototype.saturate = function () {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            e = arguments[1],
                            r = 2 * t / 3 + 1,
                            n = -.5 * (r - 1),
                            i = [r, n, n, 0, 0, n, r, n, 0, 0, n, n, r, 0, 0, 0, 0, 0, 1, 0];
                        this._loadMatrix(i, e)
                    }, e.prototype.desaturate = function () {
                        this.saturate(-1)
                    }, e.prototype.negative = function (t) {
                        var e = [-1, 0, 0, 1, 0, 0, -1, 0, 1, 0, 0, 0, -1, 1, 0, 0, 0, 0, 1, 0];
                        this._loadMatrix(e, t)
                    }, e.prototype.sepia = function (t) {
                        var e = [.393, .7689999, .18899999, 0, 0, .349, .6859999, .16799999, 0, 0, .272, .5339999, .13099999, 0, 0, 0, 0, 0, 1, 0];
                        this._loadMatrix(e, t)
                    }, e.prototype.technicolor = function (t) {
                        var e = [1.9125277891456083, -.8545344976951645, -.09155508482755585, 0, 11.793603434377337, -.3087833385928097, 1.7658908555458428, -.10601743074722245, 0, -70.35205161461398, -.231103377548616, -.7501899197440212, 1.847597816108189, 0, 30.950940869491138, 0, 0, 0, 1, 0];
                        this._loadMatrix(e, t)
                    }, e.prototype.polaroid = function (t) {
                        var e = [1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0];
                        this._loadMatrix(e, t)
                    }, e.prototype.toBGR = function (t) {
                        var e = [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0];
                        this._loadMatrix(e, t)
                    }, e.prototype.kodachrome = function (t) {
                        var e = [1.1285582396593525, -.3967382283601348, -.03992559172921793, 0, 63.72958762196502, -.16404339962244616, 1.0835251566291304, -.05498805115633132, 0, 24.732407896706203, -.16786010706155763, -.5603416277695248, 1.6014850761964943, 0, 35.62982807460946, 0, 0, 0, 1, 0];
                        this._loadMatrix(e, t)
                    }, e.prototype.browni = function (t) {
                        var e = [.5997023498159715, .34553243048391263, -.2708298674538042, 0, 47.43192855600873, -.037703249837783157, .8609577587992641, .15059552388459913, 0, -36.96841498319127, .24113635128153335, -.07441037908422492, .44972182064877153, 0, -7.562075277591283, 0, 0, 0, 1, 0];
                        this._loadMatrix(e, t)
                    }, e.prototype.vintage = function (t) {
                        var e = [.6279345635605994, .3202183420819367, -.03965408211312453, 0, 9.651285835294123, .02578397704808868, .6441188644374771, .03259127616149294, 0, 7.462829176470591, .0466055556782719, -.0851232987247891, .5241648018700465, 0, 5.159190588235296, 0, 0, 0, 1, 0];
                        this._loadMatrix(e, t)
                    }, e.prototype.colorTone = function (t, e, r, n, i) {
                        t = t || .2, e = e || .15, r = r || 16770432, n = n || 3375104;
                        var o = (r >> 16 & 255) / 255,
                            s = (r >> 8 & 255) / 255,
                            a = (255 & r) / 255,
                            u = (n >> 16 & 255) / 255,
                            h = (n >> 8 & 255) / 255,
                            l = (255 & n) / 255,
                            c = [.3, .59, .11, 0, 0, o, s, a, t, 0, u, h, l, e, 0, o - u, s - h, a - l, 0, 0];
                        this._loadMatrix(c, i)
                    }, e.prototype.night = function (t, e) {
                        t = t || .1;
                        var r = [-2 * t, -t, 0, 0, 0, -t, 0, t, 0, 0, 0, t, 2 * t, 0, 0, 0, 0, 0, 1, 0];
                        this._loadMatrix(r, e)
                    }, e.prototype.predator = function (t, e) {
                        var r = [11.224130630493164 * t, -4.794486999511719 * t, -2.8746118545532227 * t, 0 * t, .40342438220977783 * t, -3.6330697536468506 * t, 9.193157196044922 * t, -2.951810836791992 * t, 0 * t, -1.316135048866272 * t, -3.2184197902679443 * t, -4.2375030517578125 * t, 7.476448059082031 * t, 0 * t, .8044459223747253 * t, 0, 0, 0, 1, 0];
                        this._loadMatrix(r, e)
                    }, e.prototype.lsd = function (t) {
                        var e = [2, -.4, .5, 0, 0, -.5, 2, -.4, 0, 0, -.4, -.5, 3, 0, 0, 0, 0, 0, 1, 0];
                        this._loadMatrix(e, t)
                    }, e.prototype.reset = function () {
                        var t = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];
                        this._loadMatrix(t, !1)
                    }, s(e, [{
                        key: "matrix",
                        get: function () {
                            return this.uniforms.m
                        },
                        set: function (t) {
                            this.uniforms.m = t
                        }
                    }, {
                        key: "alpha",
                        get: function () {
                            return this.uniforms.uAlpha
                        },
                        set: function (t) {
                            this.uniforms.uAlpha = t
                        }
                    }]), e
                }(u.Filter));
            r.default = h, h.prototype.grayscale = h.prototype.greyscale
        }, {
            "../../core": 65,
            path: 8
        }],
        151: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                a = t("../../core"),
                u = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(a),
                h = (t("path"), function (t) {
                    function e(r, o) {
                        n(this, e);
                        var s = new u.Matrix;
                        r.renderable = !1;
                        var a = i(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}", "varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));
                        return a.maskSprite = r, a.maskMatrix = s, a.uniforms.mapSampler = r._texture, a.uniforms.filterMatrix = s, a.uniforms.scale = {
                            x: 1,
                            y: 1
                        }, null !== o && void 0 !== o || (o = 20), a.scale = new u.Point(o, o), a
                    }
                    return o(e, t), e.prototype.apply = function (t, e, r) {
                        this.uniforms.filterMatrix = t.calculateSpriteMatrix(this.maskMatrix, this.maskSprite), this.uniforms.scale.x = this.scale.x, this.uniforms.scale.y = this.scale.y, t.applyFilter(this, e, r)
                    }, s(e, [{
                        key: "map",
                        get: function () {
                            return this.uniforms.mapSampler
                        },
                        set: function (t) {
                            this.uniforms.mapSampler = t
                        }
                    }]), e
                }(u.Filter));
            r.default = h
        }, {
            "../../core": 65,
            path: 8
        }],
        152: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = t("../../core"),
                a = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(s),
                u = (t("path"), function (t) {
                    function e() {
                        return n(this, e), i(this, t.call(this, "\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}", 'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))
                    }
                    return o(e, t), e
                }(a.Filter));
            r.default = u
        }, {
            "../../core": 65,
            path: 8
        }],
        153: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            r.__esModule = !0;
            var i = t("./fxaa/FXAAFilter");
            Object.defineProperty(r, "FXAAFilter", {
                enumerable: !0,
                get: function () {
                    return n(i).default
                }
            });
            var o = t("./noise/NoiseFilter");
            Object.defineProperty(r, "NoiseFilter", {
                enumerable: !0,
                get: function () {
                    return n(o).default
                }
            });
            var s = t("./displacement/DisplacementFilter");
            Object.defineProperty(r, "DisplacementFilter", {
                enumerable: !0,
                get: function () {
                    return n(s).default
                }
            });
            var a = t("./blur/BlurFilter");
            Object.defineProperty(r, "BlurFilter", {
                enumerable: !0,
                get: function () {
                    return n(a).default
                }
            });
            var u = t("./blur/BlurXFilter");
            Object.defineProperty(r, "BlurXFilter", {
                enumerable: !0,
                get: function () {
                    return n(u).default
                }
            });
            var h = t("./blur/BlurYFilter");
            Object.defineProperty(r, "BlurYFilter", {
                enumerable: !0,
                get: function () {
                    return n(h).default
                }
            });
            var l = t("./colormatrix/ColorMatrixFilter");
            Object.defineProperty(r, "ColorMatrixFilter", {
                enumerable: !0,
                get: function () {
                    return n(l).default
                }
            });
            var c = t("./alpha/AlphaFilter");
            Object.defineProperty(r, "AlphaFilter", {
                enumerable: !0,
                get: function () {
                    return n(c).default
                }
            })
        }, {
            "./alpha/AlphaFilter": 143,
            "./blur/BlurFilter": 144,
            "./blur/BlurXFilter": 145,
            "./blur/BlurYFilter": 146,
            "./colormatrix/ColorMatrixFilter": 150,
            "./displacement/DisplacementFilter": 151,
            "./fxaa/FXAAFilter": 152,
            "./noise/NoiseFilter": 154
        }],
        154: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                a = t("../../core"),
                u = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(a),
                h = (t("path"), function (t) {
                    function e() {
                        var r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : .5,
                            o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Math.random();
                        n(this, e);
                        var s = i(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));
                        return s.noise = r, s.seed = o, s
                    }
                    return o(e, t), s(e, [{
                        key: "noise",
                        get: function () {
                            return this.uniforms.uNoise
                        },
                        set: function (t) {
                            this.uniforms.uNoise = t
                        }
                    }, {
                        key: "seed",
                        get: function () {
                            return this.uniforms.uSeed
                        },
                        set: function (t) {
                            this.uniforms.uSeed = t
                        }
                    }]), e
                }(u.Filter));
            r.default = h
        }, {
            "../../core": 65,
            path: 8
        }],
        155: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                o = t("../core"),
                s = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(o),
                a = function () {
                    function t() {
                        n(this, t), this.global = new s.Point, this.target = null, this.originalEvent = null, this.identifier = null, this.isPrimary = !1, this.button = 0, this.buttons = 0, this.width = 0, this.height = 0, this.tiltX = 0, this.tiltY = 0, this.pointerType = null, this.pressure = 0, this.rotationAngle = 0, this.twist = 0, this.tangentialPressure = 0
                    }
                    return t.prototype.getLocalPosition = function (t, e, r) {
                        return t.worldTransform.applyInverse(r || this.global, e)
                    }, t.prototype.copyEvent = function (t) {
                        t.isPrimary && (this.isPrimary = !0), this.button = t.button, this.buttons = Number.isInteger(t.buttons) ? t.buttons : t.which, this.width = t.width, this.height = t.height, this.tiltX = t.tiltX, this.tiltY = t.tiltY, this.pointerType = t.pointerType, this.pressure = t.pressure, this.rotationAngle = t.rotationAngle, this.twist = t.twist || 0, this.tangentialPressure = t.tangentialPressure || 0
                    }, t.prototype.reset = function () {
                        this.isPrimary = !1
                    }, i(t, [{
                        key: "pointerId",
                        get: function () {
                            return this.identifier
                        }
                    }]), t
                }();
            r.default = a
        }, {
            "../core": 65
        }],
        156: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                function t() {
                    n(this, t), this.stopped = !1, this.target = null, this.currentTarget = null, this.type = null, this.data = null
                }
                return t.prototype.stopPropagation = function () {
                    this.stopped = !0
                }, t.prototype.reset = function () {
                    this.stopped = !1, this.currentTarget = null, this.target = null
                }, t
            }();
            r.default = i
        }, {}],
        157: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                    return typeof t
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                },
                u = t("../core"),
                h = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(u),
                l = t("./InteractionData"),
                c = n(l),
                d = t("./InteractionEvent"),
                f = n(d),
                p = t("./InteractionTrackingData"),
                v = n(p),
                g = t("eventemitter3"),
                y = n(g),
                m = t("./interactiveTarget"),
                _ = n(m);
            h.utils.mixins.delayMixin(h.DisplayObject.prototype, _.default);
            var b = 1,
                x = {
                    target: null,
                    data: {
                        global: null
                    }
                },
                T = function (t) {
                    function e(r, n) {
                        i(this, e);
                        var s = o(this, t.call(this));
                        return n = n || {}, s.renderer = r, s.autoPreventDefault = void 0 === n.autoPreventDefault || n.autoPreventDefault, s.interactionFrequency = n.interactionFrequency || 10, s.mouse = new c.default, s.mouse.identifier = b, s.mouse.global.set(-999999), s.activeInteractionData = {}, s.activeInteractionData[b] = s.mouse, s.interactionDataPool = [], s.eventData = new f.default, s.interactionDOMElement = null, s.moveWhenInside = !1, s.eventsAdded = !1, s.mouseOverRenderer = !1, s.supportsTouchEvents = "ontouchstart" in window, s.supportsPointerEvents = !!window.PointerEvent, s.onPointerUp = s.onPointerUp.bind(s), s.processPointerUp = s.processPointerUp.bind(s), s.onPointerCancel = s.onPointerCancel.bind(s), s.processPointerCancel = s.processPointerCancel.bind(s), s.onPointerDown = s.onPointerDown.bind(s), s.processPointerDown = s.processPointerDown.bind(s), s.onPointerMove = s.onPointerMove.bind(s), s.processPointerMove = s.processPointerMove.bind(s), s.onPointerOut = s.onPointerOut.bind(s), s.processPointerOverOut = s.processPointerOverOut.bind(s), s.onPointerOver = s.onPointerOver.bind(s), s.cursorStyles = {
                            default: "inherit",
                            pointer: "pointer"
                        }, s.currentCursorMode = null, s.cursor = null, s._tempPoint = new h.Point, s.resolution = 1, s.setTargetElement(s.renderer.view, s.renderer.resolution), s
                    }
                    return s(e, t), e.prototype.hitTest = function (t, e) {
                        return x.target = null, x.data.global = t, e || (e = this.renderer._lastObjectRendered), this.processInteractive(x, e, null, !0), x.target
                    }, e.prototype.setTargetElement = function (t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                        this.removeEvents(), this.interactionDOMElement = t, this.resolution = e, this.addEvents()
                    }, e.prototype.addEvents = function () {
                        this.interactionDOMElement && (h.ticker.shared.add(this.update, this, h.UPDATE_PRIORITY.INTERACTION), window.navigator.msPointerEnabled ? (this.interactionDOMElement.style["-ms-content-zooming"] = "none", this.interactionDOMElement.style["-ms-touch-action"] = "none") : this.supportsPointerEvents && (this.interactionDOMElement.style["touch-action"] = "none"), this.supportsPointerEvents ? (window.document.addEventListener("pointermove", this.onPointerMove, !0), this.interactionDOMElement.addEventListener("pointerdown", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("pointerleave", this.onPointerOut, !0), this.interactionDOMElement.addEventListener("pointerover", this.onPointerOver, !0), window.addEventListener("pointercancel", this.onPointerCancel, !0), window.addEventListener("pointerup", this.onPointerUp, !0)) : (window.document.addEventListener("mousemove", this.onPointerMove, !0), this.interactionDOMElement.addEventListener("mousedown", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("mouseout", this.onPointerOut, !0), this.interactionDOMElement.addEventListener("mouseover", this.onPointerOver, !0), window.addEventListener("mouseup", this.onPointerUp, !0)), this.supportsTouchEvents && (this.interactionDOMElement.addEventListener("touchstart", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("touchcancel", this.onPointerCancel, !0), this.interactionDOMElement.addEventListener("touchend", this.onPointerUp, !0), this.interactionDOMElement.addEventListener("touchmove", this.onPointerMove, !0)), this.eventsAdded = !0)
                    }, e.prototype.removeEvents = function () {
                        this.interactionDOMElement && (h.ticker.shared.remove(this.update, this), window.navigator.msPointerEnabled ? (this.interactionDOMElement.style["-ms-content-zooming"] = "", this.interactionDOMElement.style["-ms-touch-action"] = "") : this.supportsPointerEvents && (this.interactionDOMElement.style["touch-action"] = ""), this.supportsPointerEvents ? (window.document.removeEventListener("pointermove", this.onPointerMove, !0), this.interactionDOMElement.removeEventListener("pointerdown", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("pointerleave", this.onPointerOut, !0), this.interactionDOMElement.removeEventListener("pointerover", this.onPointerOver, !0), window.removeEventListener("pointercancel", this.onPointerCancel, !0), window.removeEventListener("pointerup", this.onPointerUp, !0)) : (window.document.removeEventListener("mousemove", this.onPointerMove, !0), this.interactionDOMElement.removeEventListener("mousedown", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("mouseout", this.onPointerOut, !0), this.interactionDOMElement.removeEventListener("mouseover", this.onPointerOver, !0), window.removeEventListener("mouseup", this.onPointerUp, !0)), this.supportsTouchEvents && (this.interactionDOMElement.removeEventListener("touchstart", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("touchcancel", this.onPointerCancel, !0), this.interactionDOMElement.removeEventListener("touchend", this.onPointerUp, !0), this.interactionDOMElement.removeEventListener("touchmove", this.onPointerMove, !0)), this.interactionDOMElement = null, this.eventsAdded = !1)
                    }, e.prototype.update = function (t) {
                        if (this._deltaTime += t, !(this._deltaTime < this.interactionFrequency) && (this._deltaTime = 0, this.interactionDOMElement)) {
                            if (this.didMove) return void(this.didMove = !1);
                            this.cursor = null;
                            for (var e in this.activeInteractionData)
                                if (this.activeInteractionData.hasOwnProperty(e)) {
                                    var r = this.activeInteractionData[e];
                                    if (r.originalEvent && "touch" !== r.pointerType) {
                                        var n = this.configureInteractionEventForDOMEvent(this.eventData, r.originalEvent, r);
                                        this.processInteractive(n, this.renderer._lastObjectRendered, this.processPointerOverOut, !0)
                                    }
                                } this.setCursorMode(this.cursor)
                        }
                    }, e.prototype.setCursorMode = function (t) {
                        if (t = t || "default", this.currentCursorMode !== t) {
                            this.currentCursorMode = t;
                            var e = this.cursorStyles[t];
                            if (e) switch (void 0 === e ? "undefined" : a(e)) {
                            case "string":
                                this.interactionDOMElement.style.cursor = e;
                                break;
                            case "function":
                                e(t);
                                break;
                            case "object":
                                Object.assign(this.interactionDOMElement.style, e)
                            } else "string" != typeof t || Object.prototype.hasOwnProperty.call(this.cursorStyles, t) || (this.interactionDOMElement.style.cursor = t)
                        }
                    }, e.prototype.dispatchEvent = function (t, e, r) {
                        r.stopped || (r.currentTarget = t, r.type = e, t.emit(e, r), t[e] && t[e](r))
                    }, e.prototype.mapPositionToPoint = function (t, e, r) {
                        var n = void 0;
                        n = this.interactionDOMElement.parentElement ? this.interactionDOMElement.getBoundingClientRect() : {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        };
                        var i = navigator.isCocoonJS ? this.resolution : 1 / this.resolution;
                        t.x = (e - n.left) * (this.interactionDOMElement.width / n.width) * i, t.y = (r - n.top) * (this.interactionDOMElement.height / n.height) * i
                    }, e.prototype.processInteractive = function (t, e, r, n, i) {
                        if (!e || !e.visible) return !1;
                        var o = t.data.global;
                        i = e.interactive || i;
                        var s = !1,
                            a = i,
                            u = !0;
                        if (e.hitArea ? (n && (e.worldTransform.applyInverse(o, this._tempPoint), e.hitArea.contains(this._tempPoint.x, this._tempPoint.y) ? s = !0 : (n = !1, u = !1)), a = !1) : e._mask && n && (e._mask.containsPoint(o) || (n = !1, u = !1)), u && e.interactiveChildren && e.children)
                            for (var h = e.children, l = h.length - 1; l >= 0; l--) {
                                var c = h[l],
                                    d = this.processInteractive(t, c, r, n, a);
                                if (d) {
                                    if (!c.parent) continue;
                                    a = !1, d && (t.target && (n = !1), s = !0)
                                }
                            }
                        return i && (n && !t.target && !e.hitArea && e.containsPoint && e.containsPoint(o) && (s = !0), e.interactive && (s && !t.target && (t.target = e), r && r(t, e, !!s))), s
                    }, e.prototype.onPointerDown = function (t) {
                        if (!this.supportsTouchEvents || "touch" !== t.pointerType) {
                            var e = this.normalizeToPointerData(t);
                            this.autoPreventDefault && e[0].isNormalized && t.preventDefault();
                            for (var r = e.length, n = 0; n < r; n++) {
                                var i = e[n],
                                    o = this.getInteractionDataForPointerId(i),
                                    s = this.configureInteractionEventForDOMEvent(this.eventData, i, o);
                                if (s.data.originalEvent = t, this.processInteractive(s, this.renderer._lastObjectRendered, this.processPointerDown, !0), this.emit("pointerdown", s), "touch" === i.pointerType) this.emit("touchstart", s);
                                else if ("mouse" === i.pointerType || "pen" === i.pointerType) {
                                    var a = 2 === i.button;
                                    this.emit(a ? "rightdown" : "mousedown", this.eventData)
                                }
                            }
                        }
                    }, e.prototype.processPointerDown = function (t, e, r) {
                        var n = t.data,
                            i = t.data.identifier;
                        if (r)
                            if (e.trackedPointers[i] || (e.trackedPointers[i] = new v.default(i)), this.dispatchEvent(e, "pointerdown", t), "touch" === n.pointerType) this.dispatchEvent(e, "touchstart", t);
                            else if ("mouse" === n.pointerType || "pen" === n.pointerType) {
                            var o = 2 === n.button;
                            o ? e.trackedPointers[i].rightDown = !0 : e.trackedPointers[i].leftDown = !0, this.dispatchEvent(e, o ? "rightdown" : "mousedown", t)
                        }
                    }, e.prototype.onPointerComplete = function (t, e, r) {
                        for (var n = this.normalizeToPointerData(t), i = n.length, o = t.target !== this.interactionDOMElement ? "outside" : "", s = 0; s < i; s++) {
                            var a = n[s],
                                u = this.getInteractionDataForPointerId(a),
                                h = this.configureInteractionEventForDOMEvent(this.eventData, a, u);
                            if (h.data.originalEvent = t, this.processInteractive(h, this.renderer._lastObjectRendered, r, e || !o), this.emit(e ? "pointercancel" : "pointerup" + o, h), "mouse" === a.pointerType || "pen" === a.pointerType) {
                                var l = 2 === a.button;
                                this.emit(l ? "rightup" + o : "mouseup" + o, h)
                            } else "touch" === a.pointerType && (this.emit(e ? "touchcancel" : "touchend" + o, h), this.releaseInteractionDataForPointerId(a.pointerId, u))
                        }
                    }, e.prototype.onPointerCancel = function (t) {
                        this.supportsTouchEvents && "touch" === t.pointerType || this.onPointerComplete(t, !0, this.processPointerCancel)
                    }, e.prototype.processPointerCancel = function (t, e) {
                        var r = t.data,
                            n = t.data.identifier;
                        void 0 !== e.trackedPointers[n] && (delete e.trackedPointers[n], this.dispatchEvent(e, "pointercancel", t), "touch" === r.pointerType && this.dispatchEvent(e, "touchcancel", t))
                    }, e.prototype.onPointerUp = function (t) {
                        this.supportsTouchEvents && "touch" === t.pointerType || this.onPointerComplete(t, !1, this.processPointerUp)
                    }, e.prototype.processPointerUp = function (t, e, r) {
                        var n = t.data,
                            i = t.data.identifier,
                            o = e.trackedPointers[i],
                            s = "touch" === n.pointerType,
                            a = "mouse" === n.pointerType || "pen" === n.pointerType,
                            u = !1;
                        if (a) {
                            var h = 2 === n.button,
                                l = v.default.FLAGS,
                                c = h ? l.RIGHT_DOWN : l.LEFT_DOWN,
                                d = void 0 !== o && o.flags & c;
                            r ? (this.dispatchEvent(e, h ? "rightup" : "mouseup", t), d && (this.dispatchEvent(e, h ? "rightclick" : "click", t), u = !0)) : d && this.dispatchEvent(e, h ? "rightupoutside" : "mouseupoutside", t), o && (h ? o.rightDown = !1 : o.leftDown = !1)
                        }
                        r ? (this.dispatchEvent(e, "pointerup", t), s && this.dispatchEvent(e, "touchend", t), o && (a && !u || this.dispatchEvent(e, "pointertap", t), s && (this.dispatchEvent(e, "tap", t), o.over = !1))) : o && (this.dispatchEvent(e, "pointerupoutside", t), s && this.dispatchEvent(e, "touchendoutside", t)), o && o.none && delete e.trackedPointers[i]
                    }, e.prototype.onPointerMove = function (t) {
                        if (!this.supportsTouchEvents || "touch" !== t.pointerType) {
                            var e = this.normalizeToPointerData(t);
                            "mouse" !== e[0].pointerType && "pen" !== e[0].pointerType || (this.didMove = !0, this.cursor = null);
                            for (var r = e.length, n = 0; n < r; n++) {
                                var i = e[n],
                                    o = this.getInteractionDataForPointerId(i),
                                    s = this.configureInteractionEventForDOMEvent(this.eventData, i, o);
                                s.data.originalEvent = t;
                                var a = "touch" !== i.pointerType || this.moveWhenInside;
                                this.processInteractive(s, this.renderer._lastObjectRendered, this.processPointerMove, a), this.emit("pointermove", s), "touch" === i.pointerType && this.emit("touchmove", s), "mouse" !== i.pointerType && "pen" !== i.pointerType || this.emit("mousemove", s)
                            }
                            "mouse" === e[0].pointerType && this.setCursorMode(this.cursor)
                        }
                    }, e.prototype.processPointerMove = function (t, e, r) {
                        var n = t.data,
                            i = "touch" === n.pointerType,
                            o = "mouse" === n.pointerType || "pen" === n.pointerType;
                        o && this.processPointerOverOut(t, e, r), this.moveWhenInside && !r || (this.dispatchEvent(e, "pointermove", t), i && this.dispatchEvent(e, "touchmove", t), o && this.dispatchEvent(e, "mousemove", t))
                    }, e.prototype.onPointerOut = function (t) {
                        if (!this.supportsTouchEvents || "touch" !== t.pointerType) {
                            var e = this.normalizeToPointerData(t),
                                r = e[0];
                            "mouse" === r.pointerType && (this.mouseOverRenderer = !1, this.setCursorMode(null));
                            var n = this.getInteractionDataForPointerId(r),
                                i = this.configureInteractionEventForDOMEvent(this.eventData, r, n);
                            i.data.originalEvent = r, this.processInteractive(i, this.renderer._lastObjectRendered, this.processPointerOverOut, !1), this.emit("pointerout", i), "mouse" === r.pointerType || "pen" === r.pointerType ? this.emit("mouseout", i) : this.releaseInteractionDataForPointerId(n.identifier)
                        }
                    }, e.prototype.processPointerOverOut = function (t, e, r) {
                        var n = t.data,
                            i = t.data.identifier,
                            o = "mouse" === n.pointerType || "pen" === n.pointerType,
                            s = e.trackedPointers[i];
                        r && !s && (s = e.trackedPointers[i] = new v.default(i)), void 0 !== s && (r && this.mouseOverRenderer ? (s.over || (s.over = !0, this.dispatchEvent(e, "pointerover", t), o && this.dispatchEvent(e, "mouseover", t)), o && null === this.cursor && (this.cursor = e.cursor)) : s.over && (s.over = !1, this.dispatchEvent(e, "pointerout", this.eventData), o && this.dispatchEvent(e, "mouseout", t), s.none && delete e.trackedPointers[i]))
                    }, e.prototype.onPointerOver = function (t) {
                        var e = this.normalizeToPointerData(t),
                            r = e[0],
                            n = this.getInteractionDataForPointerId(r),
                            i = this.configureInteractionEventForDOMEvent(this.eventData, r, n);
                        i.data.originalEvent = r, "mouse" === r.pointerType && (this.mouseOverRenderer = !0), this.emit("pointerover", i), "mouse" !== r.pointerType && "pen" !== r.pointerType || this.emit("mouseover", i)
                    }, e.prototype.getInteractionDataForPointerId = function (t) {
                        var e = t.pointerId,
                            r = void 0;
                        return e === b || "mouse" === t.pointerType ? r = this.mouse : this.activeInteractionData[e] ? r = this.activeInteractionData[e] : (r = this.interactionDataPool.pop() || new c.default, r.identifier = e, this.activeInteractionData[e] = r), r.copyEvent(t), r
                    }, e.prototype.releaseInteractionDataForPointerId = function (t) {
                        var e = this.activeInteractionData[t];
                        e && (delete this.activeInteractionData[t], e.reset(), this.interactionDataPool.push(e))
                    }, e.prototype.configureInteractionEventForDOMEvent = function (t, e, r) {
                        return t.data = r, this.mapPositionToPoint(r.global, e.clientX, e.clientY), navigator.isCocoonJS && "touch" === e.pointerType && (r.global.x = r.global.x / this.resolution, r.global.y = r.global.y / this.resolution), "touch" === e.pointerType && (e.globalX = r.global.x, e.globalY = r.global.y), r.originalEvent = e, t.reset(), t
                    }, e.prototype.normalizeToPointerData = function (t) {
                        var e = [];
                        if (this.supportsTouchEvents && t instanceof TouchEvent)
                            for (var r = 0, n = t.changedTouches.length; r < n; r++) {
                                var i = t.changedTouches[r];
                                void 0 === i.button && (i.button = t.touches.length ? 1 : 0), void 0 === i.buttons && (i.buttons = t.touches.length ? 1 : 0), void 0 === i.isPrimary && (i.isPrimary = 1 === t.touches.length && "touchstart" === t.type), void 0 === i.width && (i.width = i.radiusX || 1), void 0 === i.height && (i.height = i.radiusY || 1), void 0 === i.tiltX && (i.tiltX = 0), void 0 === i.tiltY && (i.tiltY = 0), void 0 === i.pointerType && (i.pointerType = "touch"), void 0 === i.pointerId && (i.pointerId = i.identifier || 0), void 0 === i.pressure && (i.pressure = i.force || .5), void 0 === i.twist && (i.twist = 0), void 0 === i.tangentialPressure && (i.tangentialPressure = 0), void 0 === i.layerX && (i.layerX = i.offsetX = i.clientX), void 0 === i.layerY && (i.layerY = i.offsetY = i.clientY), i.isNormalized = !0, e.push(i)
                            } else !(t instanceof MouseEvent) || this.supportsPointerEvents && t instanceof window.PointerEvent ? e.push(t) : (void 0 === t.isPrimary && (t.isPrimary = !0), void 0 === t.width && (t.width = 1), void 0 === t.height && (t.height = 1), void 0 === t.tiltX && (t.tiltX = 0), void 0 === t.tiltY && (t.tiltY = 0), void 0 === t.pointerType && (t.pointerType = "mouse"), void 0 === t.pointerId && (t.pointerId = b), void 0 === t.pressure && (t.pressure = .5), void 0 === t.twist && (t.twist = 0), void 0 === t.tangentialPressure && (t.tangentialPressure = 0), t.isNormalized = !0, e.push(t));
                        return e
                    }, e.prototype.destroy = function () {
                        this.removeEvents(), this.removeAllListeners(), this.renderer = null, this.mouse = null, this.eventData = null, this.interactionDOMElement = null, this.onPointerDown = null, this.processPointerDown = null, this.onPointerUp = null, this.processPointerUp = null, this.onPointerCancel = null, this.processPointerCancel = null, this.onPointerMove = null, this.processPointerMove = null,
                            this.onPointerOut = null, this.processPointerOverOut = null, this.onPointerOver = null, this._tempPoint = null
                    }, e
                }(y.default);
            r.default = T, h.WebGLRenderer.registerPlugin("interaction", T), h.CanvasRenderer.registerPlugin("interaction", T)
        }, {
            "../core": 65,
            "./InteractionData": 155,
            "./InteractionEvent": 156,
            "./InteractionTrackingData": 158,
            "./interactiveTarget": 160,
            eventemitter3: 3
        }],
        158: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                o = function () {
                    function t(e) {
                        n(this, t), this._pointerId = e, this._flags = t.FLAGS.NONE
                    }
                    return t.prototype._doSet = function (t, e) {
                        this._flags = e ? this._flags | t : this._flags & ~t
                    }, i(t, [{
                        key: "pointerId",
                        get: function () {
                            return this._pointerId
                        }
                    }, {
                        key: "flags",
                        get: function () {
                            return this._flags
                        },
                        set: function (t) {
                            this._flags = t
                        }
                    }, {
                        key: "none",
                        get: function () {
                            return this._flags === this.constructor.FLAGS.NONE
                        }
                    }, {
                        key: "over",
                        get: function () {
                            return 0 != (this._flags & this.constructor.FLAGS.OVER)
                        },
                        set: function (t) {
                            this._doSet(this.constructor.FLAGS.OVER, t)
                        }
                    }, {
                        key: "rightDown",
                        get: function () {
                            return 0 != (this._flags & this.constructor.FLAGS.RIGHT_DOWN)
                        },
                        set: function (t) {
                            this._doSet(this.constructor.FLAGS.RIGHT_DOWN, t)
                        }
                    }, {
                        key: "leftDown",
                        get: function () {
                            return 0 != (this._flags & this.constructor.FLAGS.LEFT_DOWN)
                        },
                        set: function (t) {
                            this._doSet(this.constructor.FLAGS.LEFT_DOWN, t)
                        }
                    }]), t
                }();
            r.default = o, o.FLAGS = Object.freeze({
                NONE: 0,
                OVER: 1,
                LEFT_DOWN: 2,
                RIGHT_DOWN: 4
            })
        }, {}],
        159: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            r.__esModule = !0;
            var i = t("./InteractionData");
            Object.defineProperty(r, "InteractionData", {
                enumerable: !0,
                get: function () {
                    return n(i).default
                }
            });
            var o = t("./InteractionManager");
            Object.defineProperty(r, "InteractionManager", {
                enumerable: !0,
                get: function () {
                    return n(o).default
                }
            });
            var s = t("./interactiveTarget");
            Object.defineProperty(r, "interactiveTarget", {
                enumerable: !0,
                get: function () {
                    return n(s).default
                }
            });
            var a = t("./InteractionTrackingData");
            Object.defineProperty(r, "InteractionTrackingData", {
                enumerable: !0,
                get: function () {
                    return n(a).default
                }
            });
            var u = t("./InteractionEvent");
            Object.defineProperty(r, "InteractionEvent", {
                enumerable: !0,
                get: function () {
                    return n(u).default
                }
            })
        }, {
            "./InteractionData": 155,
            "./InteractionEvent": 156,
            "./InteractionManager": 157,
            "./InteractionTrackingData": 158,
            "./interactiveTarget": 160
        }],
        160: [function (t, e, r) {
            "use strict";
            r.__esModule = !0, r.default = {
                interactive: !1,
                interactiveChildren: !0,
                hitArea: null,
                get buttonMode() {
                    return "pointer" === this.cursor
                },
                set buttonMode(t) {
                    t ? this.cursor = "pointer" : "pointer" === this.cursor && (this.cursor = null)
                },
                cursor: null,
                get trackedPointers() {
                    return void 0 === this._trackedPointers && (this._trackedPointers = {}), this._trackedPointers
                },
                _trackedPointers: void 0
            }
        }, {}],
        161: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                t.bitmapFont = a.BitmapText.registerFont(t.data, e)
            }
            r.__esModule = !0, r.parse = n, r.default = function () {
                return function (t, e) {
                    if (!t.data || t.type !== s.Resource.TYPE.XML) return void e();
                    if (0 === t.data.getElementsByTagName("page").length || 0 === t.data.getElementsByTagName("info").length || null === t.data.getElementsByTagName("info")[0].getAttribute("face")) return void e();
                    var r = t.isDataUrl ? "" : o.dirname(t.url);
                    t.isDataUrl && ("." === r && (r = ""), this.baseUrl && r && "/" === this.baseUrl.charAt(this.baseUrl.length - 1) && (r += "/")), (r = r.replace(this.baseUrl, "")) && "/" !== r.charAt(r.length - 1) && (r += "/");
                    for (var i = t.data.getElementsByTagName("page"), a = {}, u = function (r) {
                            a[r.metadata.pageFile] = r.texture, Object.keys(a).length === i.length && (n(t, a), e())
                        }, h = 0; h < i.length; ++h) {
                        var l = i[h].getAttribute("file"),
                            c = r + l,
                            d = !1;
                        for (var f in this.resources) {
                            var p = this.resources[f];
                            if (p.url === c) {
                                p.metadata.pageFile = l, p.texture ? u(p) : p.onAfterMiddleware.add(u), d = !0;
                                break
                            }
                        }
                        if (!d) {
                            var v = {
                                crossOrigin: t.crossOrigin,
                                loadType: s.Resource.LOAD_TYPE.IMAGE,
                                metadata: Object.assign({
                                    pageFile: l
                                }, t.metadata.imageMetadata),
                                parentResource: t
                            };
                            this.add(c, v, u)
                        }
                    }
                }
            };
            var i = t("path"),
                o = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(i),
                s = t("resource-loader"),
                a = t("../extras")
        }, {
            "../extras": 141,
            path: 8,
            "resource-loader": 36
        }],
        162: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            r.__esModule = !0, r.shared = r.Resource = r.textureParser = r.getResourcePath = r.spritesheetParser = r.parseBitmapFontData = r.bitmapFontParser = r.Loader = void 0;
            var i = t("./bitmapFontParser");
            Object.defineProperty(r, "bitmapFontParser", {
                enumerable: !0,
                get: function () {
                    return n(i).default
                }
            }), Object.defineProperty(r, "parseBitmapFontData", {
                enumerable: !0,
                get: function () {
                    return i.parse
                }
            });
            var o = t("./spritesheetParser");
            Object.defineProperty(r, "spritesheetParser", {
                enumerable: !0,
                get: function () {
                    return n(o).default
                }
            }), Object.defineProperty(r, "getResourcePath", {
                enumerable: !0,
                get: function () {
                    return o.getResourcePath
                }
            });
            var s = t("./textureParser");
            Object.defineProperty(r, "textureParser", {
                enumerable: !0,
                get: function () {
                    return n(s).default
                }
            });
            var a = t("resource-loader");
            Object.defineProperty(r, "Resource", {
                enumerable: !0,
                get: function () {
                    return a.Resource
                }
            });
            var u = t("../core/Application"),
                h = n(u),
                l = t("./loader"),
                c = n(l);
            r.Loader = c.default;
            var d = new c.default;
            d.destroy = function () {}, r.shared = d;
            var f = h.default.prototype;
            f._loader = null, Object.defineProperty(f, "loader", {
                get: function () {
                    if (!this._loader) {
                        var t = this._options.sharedLoader;
                        this._loader = t ? d : new c.default
                    }
                    return this._loader
                }
            }), f._parentDestroy = f.destroy, f.destroy = function (t, e) {
                this._loader && (this._loader.destroy(), this._loader = null), this._parentDestroy(t, e)
            }
        }, {
            "../core/Application": 43,
            "./bitmapFontParser": 161,
            "./loader": 163,
            "./spritesheetParser": 164,
            "./textureParser": 165,
            "resource-loader": 36
        }],
        163: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = t("resource-loader"),
                u = n(a),
                h = t("resource-loader/lib/middlewares/parsing/blob"),
                l = t("eventemitter3"),
                c = n(l),
                d = t("./textureParser"),
                f = n(d),
                p = t("./spritesheetParser"),
                v = n(p),
                g = t("./bitmapFontParser"),
                y = n(g),
                m = function (t) {
                    function e(r, n) {
                        i(this, e);
                        var s = o(this, t.call(this, r, n));
                        c.default.call(s);
                        for (var a = 0; a < e._pixiMiddleware.length; ++a) s.use(e._pixiMiddleware[a]());
                        return s.onStart.add(function (t) {
                            return s.emit("start", t)
                        }), s.onProgress.add(function (t, e) {
                            return s.emit("progress", t, e)
                        }), s.onError.add(function (t, e, r) {
                            return s.emit("error", t, e, r)
                        }), s.onLoad.add(function (t, e) {
                            return s.emit("load", t, e)
                        }), s.onComplete.add(function (t, e) {
                            return s.emit("complete", t, e)
                        }), s
                    }
                    return s(e, t), e.addPixiMiddleware = function (t) {
                        e._pixiMiddleware.push(t)
                    }, e.prototype.destroy = function () {
                        this.removeAllListeners(), this.reset()
                    }, e
                }(u.default);
            r.default = m;
            for (var _ in c.default.prototype) m.prototype[_] = c.default.prototype[_];
            m._pixiMiddleware = [h.blobMiddlewareFactory, f.default, v.default, y.default];
            var b = u.default.Resource;
            b.setExtensionXhrType("fnt", b.XHR_RESPONSE_TYPE.DOCUMENT)
        }, {
            "./bitmapFontParser": 161,
            "./spritesheetParser": 164,
            "./textureParser": 165,
            eventemitter3: 3,
            "resource-loader": 36,
            "resource-loader/lib/middlewares/parsing/blob": 37
        }],
        164: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                return t.isDataUrl ? t.data.meta.image : s.default.resolve(t.url.replace(e, ""), t.data.meta.image)
            }
            r.__esModule = !0, r.default = function () {
                return function (t, e) {
                    var r = t.name + "_image";
                    if (!t.data || t.type !== i.Resource.TYPE.JSON || !t.data.frames || this.resources[r]) return void e();
                    var o = {
                            crossOrigin: t.crossOrigin,
                            metadata: t.metadata.imageMetadata,
                            parentResource: t
                        },
                        s = n(t, this.baseUrl);
                    this.add(r, s, o, function (r) {
                        if (r.error) return void e(r.error);
                        var n = new a.Spritesheet(r.texture.baseTexture, t.data, t.url);
                        n.parse(function () {
                            t.spritesheet = n, t.textures = n.textures, e()
                        })
                    })
                }
            }, r.getResourcePath = n;
            var i = t("resource-loader"),
                o = t("url"),
                s = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(o),
                a = t("../core")
        }, {
            "../core": 65,
            "resource-loader": 36,
            url: 38
        }],
        165: [function (t, e, r) {
            "use strict";
            r.__esModule = !0, r.default = function () {
                return function (t, e) {
                    t.data && t.type === n.Resource.TYPE.IMAGE && (t.texture = o.default.fromLoader(t.data, t.url, t.name)), e()
                }
            };
            var n = t("resource-loader"),
                i = t("../core/textures/Texture"),
                o = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(i)
        }, {
            "../core/textures/Texture": 115,
            "resource-loader": 36
        }],
        166: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                a = t("../core"),
                u = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(a),
                h = t("../core/textures/Texture"),
                l = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(h),
                c = new u.Point,
                d = new u.Polygon,
                f = function (t) {
                    function e(r, o, s, a, h) {
                        n(this, e);
                        var c = i(this, t.call(this));
                        return c._texture = r || l.default.EMPTY, c.uvs = s || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), c.vertices = o || new Float32Array([0, 0, 100, 0, 100, 100, 0, 100]), c.indices = a || new Uint16Array([0, 1, 3, 2]), c.dirty = 0, c.indexDirty = 0, c.vertexDirty = 0, c.autoUpdate = !0, c.blendMode = u.BLEND_MODES.NORMAL, c.canvasPadding = u.settings.MESH_CANVAS_PADDING, c.drawMode = h || e.DRAW_MODES.TRIANGLE_MESH, c.shader = null, c.tintRgb = new Float32Array([1, 1, 1]), c._glDatas = {}, c._uvTransform = new u.TextureMatrix(c._texture), c.uploadUvTransform = !1, c.pluginName = "mesh", c
                    }
                    return o(e, t), e.prototype._renderWebGL = function (t) {
                        this.refresh(), t.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this)
                    }, e.prototype._renderCanvas = function (t) {
                        this.refresh(), t.plugins[this.pluginName].render(this)
                    }, e.prototype._onTextureUpdate = function () {
                        this._uvTransform.texture = this._texture, this.refresh()
                    }, e.prototype.multiplyUvs = function () {
                        this.uploadUvTransform || this._uvTransform.multiplyUvs(this.uvs)
                    }, e.prototype.refresh = function (t) {
                        this.autoUpdate && this.vertexDirty++, this._uvTransform.update(t) && this._refresh()
                    }, e.prototype._refresh = function () {}, e.prototype._calculateBounds = function () {
                        this._bounds.addVertices(this.transform, this.vertices, 0, this.vertices.length)
                    }, e.prototype.containsPoint = function (t) {
                        if (!this.getBounds().contains(t.x, t.y)) return !1;
                        this.worldTransform.applyInverse(t, c);
                        for (var r = this.vertices, n = d.points, i = this.indices, o = this.indices.length, s = this.drawMode === e.DRAW_MODES.TRIANGLES ? 3 : 1, a = 0; a + 2 < o; a += s) {
                            var u = 2 * i[a],
                                h = 2 * i[a + 1],
                                l = 2 * i[a + 2];
                            if (n[0] = r[u], n[1] = r[u + 1], n[2] = r[h], n[3] = r[h + 1], n[4] = r[l], n[5] = r[l + 1], d.contains(c.x, c.y)) return !0
                        }
                        return !1
                    }, e.prototype.destroy = function (e) {
                        for (var r in this._glDatas) {
                            var n = this._glDatas[r];
                            n.destroy ? n.destroy() : (n.vertexBuffer && (n.vertexBuffer.destroy(), n.vertexBuffer = null), n.indexBuffer && (n.indexBuffer.destroy(), n.indexBuffer = null), n.uvBuffer && (n.uvBuffer.destroy(), n.uvBuffer = null), n.vao && (n.vao.destroy(), n.vao = null))
                        }
                        this._glDatas = null, t.prototype.destroy.call(this, e)
                    }, s(e, [{
                        key: "texture",
                        get: function () {
                            return this._texture
                        },
                        set: function (t) {
                            this._texture !== t && (this._texture = t, t && (t.baseTexture.hasLoaded ? this._onTextureUpdate() : t.once("update", this._onTextureUpdate, this)))
                        }
                    }, {
                        key: "tint",
                        get: function () {
                            return u.utils.rgb2hex(this.tintRgb)
                        },
                        set: function (t) {
                            this.tintRgb = u.utils.hex2rgb(t, this.tintRgb)
                        }
                    }]), e
                }(u.Container);
            r.default = f, f.DRAW_MODES = {
                TRIANGLE_MESH: 0,
                TRIANGLES: 1
            }
        }, {
            "../core": 65,
            "../core/textures/Texture": 115
        }],
        167: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                u = t("./Plane"),
                h = n(u),
                l = t("../core/sprites/canvas/CanvasTinter"),
                c = n(l),
                d = 10,
                f = function (t) {
                    function e(r, n, s, a, u) {
                        i(this, e);
                        var h = o(this, t.call(this, r, 4, 4));
                        return h._origWidth = r.orig.width, h._origHeight = r.orig.height, h._width = h._origWidth, h._height = h._origHeight, h._leftWidth = void 0 !== n ? n : d, h._rightWidth = void 0 !== a ? a : d, h._topHeight = void 0 !== s ? s : d, h._bottomHeight = void 0 !== u ? u : d, h._cachedTint = 16777215, h._tintedTexture = null, h._canvasUvs = null, h.refresh(!0), h
                    }
                    return s(e, t), e.prototype.updateHorizontalVertices = function () {
                        var t = this.vertices,
                            e = this._topHeight + this._bottomHeight,
                            r = this._height > e ? 1 : this._height / e;
                        t[9] = t[11] = t[13] = t[15] = this._topHeight * r, t[17] = t[19] = t[21] = t[23] = this._height - this._bottomHeight * r, t[25] = t[27] = t[29] = t[31] = this._height
                    }, e.prototype.updateVerticalVertices = function () {
                        var t = this.vertices,
                            e = this._leftWidth + this._rightWidth,
                            r = this._width > e ? 1 : this._width / e;
                        t[2] = t[10] = t[18] = t[26] = this._leftWidth * r, t[4] = t[12] = t[20] = t[28] = this._width - this._rightWidth * r, t[6] = t[14] = t[22] = t[30] = this._width
                    }, e.prototype._renderCanvas = function (t) {
                        var e = t.context,
                            r = this.worldTransform,
                            n = t.resolution,
                            i = 16777215 !== this.tint,
                            o = this._texture;
                        i && this._cachedTint !== this.tint && (this._cachedTint = this.tint, this._tintedTexture = c.default.getTintedTexture(this, this.tint));
                        var s = i ? this._tintedTexture : o.baseTexture.source;
                        this._canvasUvs || (this._canvasUvs = [0, 0, 0, 0, 0, 0, 0, 0]);
                        var a = this.vertices,
                            u = this._canvasUvs,
                            h = i ? 0 : o.frame.x,
                            l = i ? 0 : o.frame.y,
                            d = h + o.frame.width,
                            f = l + o.frame.height;
                        u[0] = h, u[1] = h + this._leftWidth, u[2] = d - this._rightWidth, u[3] = d, u[4] = l, u[5] = l + this._topHeight, u[6] = f - this._bottomHeight, u[7] = f;
                        for (var p = 0; p < 8; p++) u[p] *= o.baseTexture.resolution;
                        e.globalAlpha = this.worldAlpha, t.setBlendMode(this.blendMode), t.roundPixels ? e.setTransform(r.a * n, r.b * n, r.c * n, r.d * n, r.tx * n | 0, r.ty * n | 0) : e.setTransform(r.a * n, r.b * n, r.c * n, r.d * n, r.tx * n, r.ty * n);
                        for (var v = 0; v < 3; v++)
                            for (var g = 0; g < 3; g++) {
                                var y = 2 * g + 8 * v,
                                    m = Math.max(1, u[g + 1] - u[g]),
                                    _ = Math.max(1, u[v + 5] - u[v + 4]),
                                    b = Math.max(1, a[y + 10] - a[y]),
                                    x = Math.max(1, a[y + 11] - a[y + 1]);
                                e.drawImage(s, u[g], u[v + 4], m, _, a[y], a[y + 1], b, x)
                            }
                    }, e.prototype._refresh = function () {
                        t.prototype._refresh.call(this);
                        var e = this.uvs,
                            r = this._texture;
                        this._origWidth = r.orig.width, this._origHeight = r.orig.height;
                        var n = 1 / this._origWidth,
                            i = 1 / this._origHeight;
                        e[0] = e[8] = e[16] = e[24] = 0, e[1] = e[3] = e[5] = e[7] = 0, e[6] = e[14] = e[22] = e[30] = 1, e[25] = e[27] = e[29] = e[31] = 1, e[2] = e[10] = e[18] = e[26] = n * this._leftWidth, e[4] = e[12] = e[20] = e[28] = 1 - n * this._rightWidth, e[9] = e[11] = e[13] = e[15] = i * this._topHeight, e[17] = e[19] = e[21] = e[23] = 1 - i * this._bottomHeight, this.updateHorizontalVertices(), this.updateVerticalVertices(), this.dirty++, this.multiplyUvs()
                    }, a(e, [{
                        key: "width",
                        get: function () {
                            return this._width
                        },
                        set: function (t) {
                            this._width = t, this._refresh()
                        }
                    }, {
                        key: "height",
                        get: function () {
                            return this._height
                        },
                        set: function (t) {
                            this._height = t, this._refresh()
                        }
                    }, {
                        key: "leftWidth",
                        get: function () {
                            return this._leftWidth
                        },
                        set: function (t) {
                            this._leftWidth = t, this._refresh()
                        }
                    }, {
                        key: "rightWidth",
                        get: function () {
                            return this._rightWidth
                        },
                        set: function (t) {
                            this._rightWidth = t, this._refresh()
                        }
                    }, {
                        key: "topHeight",
                        get: function () {
                            return this._topHeight
                        },
                        set: function (t) {
                            this._topHeight = t, this._refresh()
                        }
                    }, {
                        key: "bottomHeight",
                        get: function () {
                            return this._bottomHeight
                        },
                        set: function (t) {
                            this._bottomHeight = t, this._refresh()
                        }
                    }]), e
                }(h.default);
            r.default = f
        }, {
            "../core/sprites/canvas/CanvasTinter": 104,
            "./Plane": 168
        }],
        168: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = t("./Mesh"),
                a = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(s),
                u = function (t) {
                    function e(r, o, s) {
                        n(this, e);
                        var u = i(this, t.call(this, r));
                        return u._ready = !0, u.verticesX = o || 10, u.verticesY = s || 10, u.drawMode = a.default.DRAW_MODES.TRIANGLES, u.refresh(), u
                    }
                    return o(e, t), e.prototype._refresh = function () {
                        for (var t = this._texture, e = this.verticesX * this.verticesY, r = [], n = [], i = [], o = [], s = this.verticesX - 1, a = this.verticesY - 1, u = t.width / s, h = t.height / a, l = 0; l < e; l++) {
                            var c = l % this.verticesX,
                                d = l / this.verticesX | 0;
                            r.push(c * u, d * h), i.push(c / s, d / a)
                        }
                        for (var f = s * a, p = 0; p < f; p++) {
                            var v = p % s,
                                g = p / s | 0,
                                y = g * this.verticesX + v,
                                m = g * this.verticesX + v + 1,
                                _ = (g + 1) * this.verticesX + v,
                                b = (g + 1) * this.verticesX + v + 1;
                            o.push(y, m, _), o.push(m, b, _)
                        }
                        this.vertices = new Float32Array(r), this.uvs = new Float32Array(i), this.colors = new Float32Array(n), this.indices = new Uint16Array(o), this.dirty++, this.indexDirty++, this.multiplyUvs()
                    }, e.prototype._onTextureUpdate = function () {
                        a.default.prototype._onTextureUpdate.call(this), this._ready && this.refresh()
                    }, e
                }(a.default);
            r.default = u
        }, {
            "./Mesh": 166
        }],
        169: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = t("./Mesh"),
                a = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(s),
                u = function (t) {
                    function e(r, o) {
                        n(this, e);
                        var s = i(this, t.call(this, r));
                        return s.points = o, s.vertices = new Float32Array(4 * o.length), s.uvs = new Float32Array(4 * o.length), s.colors = new Float32Array(2 * o.length), s.indices = new Uint16Array(2 * o.length), s.autoUpdate = !0, s.refresh(), s
                    }
                    return o(e, t), e.prototype._refresh = function () {
                        var t = this.points;
                        if (!(t.length < 1) && this._texture._uvs) {
                            this.vertices.length / 4 !== t.length && (this.vertices = new Float32Array(4 * t.length), this.uvs = new Float32Array(4 * t.length), this.colors = new Float32Array(2 * t.length), this.indices = new Uint16Array(2 * t.length));
                            var e = this.uvs,
                                r = this.indices,
                                n = this.colors;
                            e[0] = 0, e[1] = 0, e[2] = 0, e[3] = 1, n[0] = 1, n[1] = 1, r[0] = 0, r[1] = 1;
                            for (var i = t.length, o = 1; o < i; o++) {
                                var s = 4 * o,
                                    a = o / (i - 1);
                                e[s] = a, e[s + 1] = 0, e[s + 2] = a, e[s + 3] = 1, s = 2 * o, n[s] = 1, n[s + 1] = 1, s = 2 * o, r[s] = s, r[s + 1] = s + 1
                            }
                            this.dirty++, this.indexDirty++, this.multiplyUvs(), this.refreshVertices()
                        }
                    }, e.prototype.refreshVertices = function () {
                        var t = this.points;
                        if (!(t.length < 1))
                            for (var e = t[0], r = void 0, n = 0, i = 0, o = this.vertices, s = t.length, a = 0; a < s; a++) {
                                var u = t[a],
                                    h = 4 * a;
                                r = a < t.length - 1 ? t[a + 1] : u, i = -(r.x - e.x), n = r.y - e.y;
                                var l = 10 * (1 - a / (s - 1));
                                l > 1 && (l = 1);
                                var c = Math.sqrt(n * n + i * i),
                                    d = this._texture.height / 2;
                                n /= c, i /= c, n *= d, i *= d, o[h] = u.x + n, o[h + 1] = u.y + i, o[h + 2] = u.x - n, o[h + 3] = u.y - i, e = u
                            }
                    }, e.prototype.updateTransform = function () {
                        this.autoUpdate && this.refreshVertices(), this.containerUpdateTransform()
                    }, e
                }(a.default);
            r.default = u
        }, {
            "./Mesh": 166
        }],
        170: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = t("../../core"),
                o = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(i),
                s = t("../Mesh"),
                a = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(s),
                u = function () {
                    function t(e) {
                        n(this, t), this.renderer = e
                    }
                    return t.prototype.render = function (t) {
                        var e = this.renderer,
                            r = e.context,
                            n = t.worldTransform,
                            i = e.resolution;
                        e.roundPixels ? r.setTransform(n.a * i, n.b * i, n.c * i, n.d * i, n.tx * i | 0, n.ty * i | 0) : r.setTransform(n.a * i, n.b * i, n.c * i, n.d * i, n.tx * i, n.ty * i), e.context.globalAlpha = t.worldAlpha, e.setBlendMode(t.blendMode), t.drawMode === a.default.DRAW_MODES.TRIANGLE_MESH ? this._renderTriangleMesh(t) : this._renderTriangles(t)
                    }, t.prototype._renderTriangleMesh = function (t) {
                        for (var e = t.vertices.length / 2, r = 0; r < e - 2; r++) {
                            var n = 2 * r;
                            this._renderDrawTriangle(t, n, n + 2, n + 4)
                        }
                    }, t.prototype._renderTriangles = function (t) {
                        for (var e = t.indices, r = e.length, n = 0; n < r; n += 3) {
                            var i = 2 * e[n],
                                o = 2 * e[n + 1],
                                s = 2 * e[n + 2];
                            this._renderDrawTriangle(t, i, o, s)
                        }
                    }, t.prototype._renderDrawTriangle = function (t, e, r, n) {
                        var i = this.renderer.context,
                            o = t.uvs,
                            s = t.vertices,
                            a = t._texture;
                        if (a.valid) {
                            var u = a.baseTexture,
                                h = u.source,
                                l = u.width,
                                c = u.height,
                                d = void 0,
                                f = void 0,
                                p = void 0,
                                v = void 0,
                                g = void 0,
                                y = void 0;
                            if (t.uploadUvTransform) {
                                var m = t._uvTransform.mapCoord;
                                d = (o[e] * m.a + o[e + 1] * m.c + m.tx) * u.width, f = (o[r] * m.a + o[r + 1] * m.c + m.tx) * u.width, p = (o[n] * m.a + o[n + 1] * m.c + m.tx) * u.width, v = (o[e] * m.b + o[e + 1] * m.d + m.ty) * u.height, g = (o[r] * m.b + o[r + 1] * m.d + m.ty) * u.height, y = (o[n] * m.b + o[n + 1] * m.d + m.ty) * u.height
                            } else d = o[e] * u.width, f = o[r] * u.width, p = o[n] * u.width, v = o[e + 1] * u.height, g = o[r + 1] * u.height, y = o[n + 1] * u.height;
                            var _ = s[e],
                                b = s[r],
                                x = s[n],
                                T = s[e + 1],
                                w = s[r + 1],
                                E = s[n + 1],
                                S = t.canvasPadding / this.renderer.resolution;
                            if (S > 0) {
                                var O = S / Math.abs(t.worldTransform.a),
                                    M = S / Math.abs(t.worldTransform.d),
                                    P = (_ + b + x) / 3,
                                    C = (T + w + E) / 3,
                                    R = _ - P,
                                    A = T - C,
                                    I = Math.sqrt(R * R + A * A);
                                _ = P + R / I * (I + O), T = C + A / I * (I + M), R = b - P, A = w - C, I = Math.sqrt(R * R + A * A), b = P + R / I * (I + O), w = C + A / I * (I + M), R = x - P, A = E - C, I = Math.sqrt(R * R + A * A), x = P + R / I * (I + O), E = C + A / I * (I + M)
                            }
                            i.save(), i.beginPath(), i.moveTo(_, T), i.lineTo(b, w), i.lineTo(x, E), i.closePath(), i.clip();
                            var D = d * g + v * p + f * y - g * p - v * f - d * y,
                                L = _ * g + v * x + b * y - g * x - v * b - _ * y,
                                N = d * b + _ * p + f * x - b * p - _ * f - d * x,
                                B = d * g * x + v * b * p + _ * f * y - _ * g * p - v * f * x - d * b * y,
                                k = T * g + v * E + w * y - g * E - v * w - T * y,
                                F = d * w + T * p + f * E - w * p - T * f - d * E,
                                j = d * g * E + v * w * p + T * f * y - T * g * p - v * f * E - d * w * y;
                            i.transform(L / D, k / D, N / D, F / D, B / D, j / D), i.drawImage(h, 0, 0, l * u.resolution, c * u.resolution, 0, 0, l, c), i.restore(), this.renderer.invalidateBlendMode()
                        }
                    }, t.prototype.renderMeshFlat = function (t) {
                        var e = this.renderer.context,
                            r = t.vertices,
                            n = r.length / 2;
                        e.beginPath();
                        for (var i = 1; i < n - 2; ++i) {
                            var o = 2 * i,
                                s = r[o],
                                a = r[o + 1],
                                u = r[o + 2],
                                h = r[o + 3],
                                l = r[o + 4],
                                c = r[o + 5];
                            e.moveTo(s, a), e.lineTo(u, h), e.lineTo(l, c)
                        }
                        e.fillStyle = "#FF0000", e.fill(), e.closePath()
                    }, t.prototype.destroy = function () {
                        this.renderer = null
                    }, t
                }();
            r.default = u, o.CanvasRenderer.registerPlugin("mesh", u)
        }, {
            "../../core": 65,
            "../Mesh": 166
        }],
        171: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            r.__esModule = !0;
            var i = t("./Mesh");
            Object.defineProperty(r, "Mesh", {
                enumerable: !0,
                get: function () {
                    return n(i).default
                }
            });
            var o = t("./webgl/MeshRenderer");
            Object.defineProperty(r, "MeshRenderer", {
                enumerable: !0,
                get: function () {
                    return n(o).default
                }
            });
            var s = t("./canvas/CanvasMeshRenderer");
            Object.defineProperty(r, "CanvasMeshRenderer", {
                enumerable: !0,
                get: function () {
                    return n(s).default
                }
            });
            var a = t("./Plane");
            Object.defineProperty(r, "Plane", {
                enumerable: !0,
                get: function () {
                    return n(a).default
                }
            });
            var u = t("./NineSlicePlane");
            Object.defineProperty(r, "NineSlicePlane", {
                enumerable: !0,
                get: function () {
                    return n(u).default
                }
            });
            var h = t("./Rope");
            Object.defineProperty(r, "Rope", {
                enumerable: !0,
                get: function () {
                    return n(h).default
                }
            })
        }, {
            "./Mesh": 166,
            "./NineSlicePlane": 167,
            "./Plane": 168,
            "./Rope": 169,
            "./canvas/CanvasMeshRenderer": 170,
            "./webgl/MeshRenderer": 172
        }],
        172: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = t("../../core"),
                u = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(a),
                h = t("pixi-gl-core"),
                l = n(h),
                c = t("../Mesh"),
                d = n(c),
                f = (t("path"), u.Matrix.IDENTITY),
                p = function (t) {
                    function e(r) {
                        i(this, e);
                        var n = o(this, t.call(this, r));
                        return n.shader = null, n
                    }
                    return s(e, t), e.prototype.onContextChange = function () {
                        var t = this.renderer.gl;
                        this.shader = new u.Shader(t, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")
                    }, e.prototype.render = function (t) {
                        var e = this.renderer,
                            r = e.gl,
                            n = t._texture;
                        if (n.valid) {
                            var i = t._glDatas[e.CONTEXT_UID];
                            i || (e.bindVao(null), i = {
                                shader: this.shader,
                                vertexBuffer: l.default.GLBuffer.createVertexBuffer(r, t.vertices, r.STREAM_DRAW),
                                uvBuffer: l.default.GLBuffer.createVertexBuffer(r, t.uvs, r.STREAM_DRAW),
                                indexBuffer: l.default.GLBuffer.createIndexBuffer(r, t.indices, r.STATIC_DRAW),
                                vao: null,
                                dirty: t.dirty,
                                indexDirty: t.indexDirty,
                                vertexDirty: t.vertexDirty
                            }, i.vao = new l.default.VertexArrayObject(r).addIndex(i.indexBuffer).addAttribute(i.vertexBuffer, i.shader.attributes.aVertexPosition, r.FLOAT, !1, 8, 0).addAttribute(i.uvBuffer, i.shader.attributes.aTextureCoord, r.FLOAT, !1, 8, 0), t._glDatas[e.CONTEXT_UID] = i), e.bindVao(i.vao), t.dirty !== i.dirty && (i.dirty = t.dirty, i.uvBuffer.upload(t.uvs)), t.indexDirty !== i.indexDirty && (i.indexDirty = t.indexDirty, i.indexBuffer.upload(t.indices)), t.vertexDirty !== i.vertexDirty && (i.vertexDirty = t.vertexDirty, i.vertexBuffer.upload(t.vertices)), e.bindShader(i.shader), i.shader.uniforms.uSampler = e.bindTexture(n), e.state.setBlendMode(u.utils.correctBlendMode(t.blendMode, n.baseTexture.premultipliedAlpha)), i.shader.uniforms.uTransform && (t.uploadUvTransform ? i.shader.uniforms.uTransform = t._uvTransform.mapCoord.toArray(!0) : i.shader.uniforms.uTransform = f.toArray(!0)), i.shader.uniforms.translationMatrix = t.worldTransform.toArray(!0), i.shader.uniforms.uColor = u.utils.premultiplyRgba(t.tintRgb, t.worldAlpha, i.shader.uniforms.uColor, n.baseTexture.premultipliedAlpha);
                            var o = t.drawMode === d.default.DRAW_MODES.TRIANGLE_MESH ? r.TRIANGLE_STRIP : r.TRIANGLES;
                            i.vao.draw(o, t.indices.length, 0)
                        }
                    }, e
                }(u.ObjectRenderer);
            r.default = p, u.WebGLRenderer.registerPlugin("mesh", p)
        }, {
            "../../core": 65,
            "../Mesh": 166,
            path: 8,
            "pixi-gl-core": 15
        }],
        173: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = function () {
                    function t(t, e) {
                        for (var r = 0; r < e.length; r++) {
                            var n = e[r];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                        }
                    }
                    return function (e, r, n) {
                        return r && t(e.prototype, r), n && t(e, n), e
                    }
                }(),
                a = t("../core"),
                u = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(a),
                h = t("../core/utils"),
                l = function (t) {
                    function e() {
                        var r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1500,
                            o = arguments[1],
                            s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 16384,
                            a = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                        n(this, e);
                        var h = i(this, t.call(this));
                        return s > 16384 && (s = 16384), s > r && (s = r), h._properties = [!1, !0, !1, !1, !1], h._maxSize = r, h._batchSize = s, h._glBuffers = {}, h._bufferUpdateIDs = [], h._updateID = 0, h.interactiveChildren = !1, h.blendMode = u.BLEND_MODES.NORMAL, h.autoResize = a, h.roundPixels = !0, h.baseTexture = null, h.setProperties(o), h._tint = 0, h.tintRgb = new Float32Array(4), h.tint = 16777215, h
                    }
                    return o(e, t), e.prototype.setProperties = function (t) {
                        t && (this._properties[0] = "vertices" in t || "scale" in t ? !!t.vertices || !!t.scale : this._properties[0], this._properties[1] = "position" in t ? !!t.position : this._properties[1], this._properties[2] = "rotation" in t ? !!t.rotation : this._properties[2], this._properties[3] = "uvs" in t ? !!t.uvs : this._properties[3], this._properties[4] = "tint" in t || "alpha" in t ? !!t.tint || !!t.alpha : this._properties[4])
                    }, e.prototype.updateTransform = function () {
                        this.displayObjectUpdateTransform()
                    }, e.prototype.renderWebGL = function (t) {
                        var e = this;
                        this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable && (this.baseTexture || (this.baseTexture = this.children[0]._texture.baseTexture, this.baseTexture.hasLoaded || this.baseTexture.once("update", function () {
                            return e.onChildrenChange(0)
                        })), t.setObjectRenderer(t.plugins.particle), t.plugins.particle.render(this))
                    }, e.prototype.onChildrenChange = function (t) {
                        for (var e = Math.floor(t / this._batchSize); this._bufferUpdateIDs.length < e;) this._bufferUpdateIDs.push(0);
                        this._bufferUpdateIDs[e] = ++this._updateID
                    }, e.prototype.renderCanvas = function (t) {
                        if (this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable) {
                            var e = t.context,
                                r = this.worldTransform,
                                n = !0,
                                i = 0,
                                o = 0,
                                s = 0,
                                a = 0;
                            t.setBlendMode(this.blendMode), e.globalAlpha = this.worldAlpha, this.displayObjectUpdateTransform();
                            for (var u = 0; u < this.children.length; ++u) {
                                var h = this.children[u];
                                if (h.visible) {
                                    var l = h._texture.frame;
                                    if (e.globalAlpha = this.worldAlpha * h.alpha, h.rotation % (2 * Math.PI) == 0) n && (e.setTransform(r.a, r.b, r.c, r.d, r.tx * t.resolution, r.ty * t.resolution), n = !1), i = h.anchor.x * (-l.width * h.scale.x) + h.position.x + .5, o = h.anchor.y * (-l.height * h.scale.y) + h.position.y + .5, s = l.width * h.scale.x, a = l.height * h.scale.y;
                                    else {
                                        n || (n = !0), h.displayObjectUpdateTransform();
                                        var c = h.worldTransform;
                                        t.roundPixels ? e.setTransform(c.a, c.b, c.c, c.d, c.tx * t.resolution | 0, c.ty * t.resolution | 0) : e.setTransform(c.a, c.b, c.c, c.d, c.tx * t.resolution, c.ty * t.resolution), i = h.anchor.x * -l.width + .5, o = h.anchor.y * -l.height + .5, s = l.width, a = l.height
                                    }
                                    var d = h._texture.baseTexture.resolution;
                                    e.drawImage(h._texture.baseTexture.source, l.x * d, l.y * d, l.width * d, l.height * d, i * t.resolution, o * t.resolution, s * t.resolution, a * t.resolution)
                                }
                            }
                        }
                    }, e.prototype.destroy = function (e) {
                        if (t.prototype.destroy.call(this, e),
                            this._buffers)
                            for (var r = 0; r < this._buffers.length; ++r) this._buffers[r].destroy();
                        this._properties = null, this._buffers = null, this._bufferUpdateIDs = null
                    }, s(e, [{
                        key: "tint",
                        get: function () {
                            return this._tint
                        },
                        set: function (t) {
                            this._tint = t, (0, h.hex2rgb)(t, this.tintRgb)
                        }
                    }]), e
                }(u.Container);
            r.default = l
        }, {
            "../core": 65,
            "../core/utils": 125
        }],
        174: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            r.__esModule = !0;
            var i = t("./ParticleContainer");
            Object.defineProperty(r, "ParticleContainer", {
                enumerable: !0,
                get: function () {
                    return n(i).default
                }
            });
            var o = t("./webgl/ParticleRenderer");
            Object.defineProperty(r, "ParticleRenderer", {
                enumerable: !0,
                get: function () {
                    return n(o).default
                }
            })
        }, {
            "./ParticleContainer": 173,
            "./webgl/ParticleRenderer": 176
        }],
        175: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var o = t("pixi-gl-core"),
                s = n(o),
                a = t("../../core/utils/createIndicesForQuads"),
                u = n(a),
                h = function () {
                    function t(e, r, n, o) {
                        i(this, t), this.gl = e, this.size = o, this.dynamicProperties = [], this.staticProperties = [];
                        for (var s = 0; s < r.length; ++s) {
                            var a = r[s];
                            a = {
                                attribute: a.attribute,
                                size: a.size,
                                uploadFunction: a.uploadFunction,
                                unsignedByte: a.unsignedByte,
                                offset: a.offset
                            }, n[s] ? this.dynamicProperties.push(a) : this.staticProperties.push(a)
                        }
                        this.staticStride = 0, this.staticBuffer = null, this.staticData = null, this.staticDataUint32 = null, this.dynamicStride = 0, this.dynamicBuffer = null, this.dynamicData = null, this.dynamicDataUint32 = null, this._updateID = 0, this.initBuffers()
                    }
                    return t.prototype.initBuffers = function () {
                        var t = this.gl,
                            e = 0;
                        this.indices = (0, u.default)(this.size), this.indexBuffer = s.default.GLBuffer.createIndexBuffer(t, this.indices, t.STATIC_DRAW), this.dynamicStride = 0;
                        for (var r = 0; r < this.dynamicProperties.length; ++r) {
                            var n = this.dynamicProperties[r];
                            n.offset = e, e += n.size, this.dynamicStride += n.size
                        }
                        var i = new ArrayBuffer(this.size * this.dynamicStride * 4 * 4);
                        this.dynamicData = new Float32Array(i), this.dynamicDataUint32 = new Uint32Array(i), this.dynamicBuffer = s.default.GLBuffer.createVertexBuffer(t, i, t.STREAM_DRAW);
                        var o = 0;
                        this.staticStride = 0;
                        for (var a = 0; a < this.staticProperties.length; ++a) {
                            var h = this.staticProperties[a];
                            h.offset = o, o += h.size, this.staticStride += h.size
                        }
                        var l = new ArrayBuffer(this.size * this.staticStride * 4 * 4);
                        this.staticData = new Float32Array(l), this.staticDataUint32 = new Uint32Array(l), this.staticBuffer = s.default.GLBuffer.createVertexBuffer(t, l, t.STATIC_DRAW), this.vao = new s.default.VertexArrayObject(t).addIndex(this.indexBuffer);
                        for (var c = 0; c < this.dynamicProperties.length; ++c) {
                            var d = this.dynamicProperties[c];
                            d.unsignedByte ? this.vao.addAttribute(this.dynamicBuffer, d.attribute, t.UNSIGNED_BYTE, !0, 4 * this.dynamicStride, 4 * d.offset) : this.vao.addAttribute(this.dynamicBuffer, d.attribute, t.FLOAT, !1, 4 * this.dynamicStride, 4 * d.offset)
                        }
                        for (var f = 0; f < this.staticProperties.length; ++f) {
                            var p = this.staticProperties[f];
                            p.unsignedByte ? this.vao.addAttribute(this.staticBuffer, p.attribute, t.UNSIGNED_BYTE, !0, 4 * this.staticStride, 4 * p.offset) : this.vao.addAttribute(this.staticBuffer, p.attribute, t.FLOAT, !1, 4 * this.staticStride, 4 * p.offset)
                        }
                    }, t.prototype.uploadDynamic = function (t, e, r) {
                        for (var n = 0; n < this.dynamicProperties.length; n++) {
                            var i = this.dynamicProperties[n];
                            i.uploadFunction(t, e, r, i.unsignedByte ? this.dynamicDataUint32 : this.dynamicData, this.dynamicStride, i.offset)
                        }
                        this.dynamicBuffer.upload()
                    }, t.prototype.uploadStatic = function (t, e, r) {
                        for (var n = 0; n < this.staticProperties.length; n++) {
                            var i = this.staticProperties[n];
                            i.uploadFunction(t, e, r, i.unsignedByte ? this.staticDataUint32 : this.staticData, this.staticStride, i.offset)
                        }
                        this.staticBuffer.upload()
                    }, t.prototype.destroy = function () {
                        this.dynamicProperties = null, this.dynamicBuffer.destroy(), this.dynamicBuffer = null, this.dynamicData = null, this.dynamicDataUint32 = null, this.staticProperties = null, this.staticBuffer.destroy(), this.staticBuffer = null, this.staticData = null, this.staticDataUint32 = null
                    }, t
                }();
            r.default = h
        }, {
            "../../core/utils/createIndicesForQuads": 123,
            "pixi-gl-core": 15
        }],
        176: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function i(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function o(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var a = t("../../core"),
                u = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(a),
                h = t("./ParticleShader"),
                l = n(h),
                c = t("./ParticleBuffer"),
                d = n(c),
                f = t("../../core/utils"),
                p = function (t) {
                    function e(r) {
                        i(this, e);
                        var n = o(this, t.call(this, r));
                        return n.shader = null, n.indexBuffer = null, n.properties = null, n.tempMatrix = new u.Matrix, n.CONTEXT_UID = 0, n
                    }
                    return s(e, t), e.prototype.onContextChange = function () {
                        var t = this.renderer.gl;
                        this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.shader = new l.default(t), this.properties = [{
                            attribute: this.shader.attributes.aVertexPosition,
                            size: 2,
                            uploadFunction: this.uploadVertices,
                            offset: 0
                        }, {
                            attribute: this.shader.attributes.aPositionCoord,
                            size: 2,
                            uploadFunction: this.uploadPosition,
                            offset: 0
                        }, {
                            attribute: this.shader.attributes.aRotation,
                            size: 1,
                            uploadFunction: this.uploadRotation,
                            offset: 0
                        }, {
                            attribute: this.shader.attributes.aTextureCoord,
                            size: 2,
                            uploadFunction: this.uploadUvs,
                            offset: 0
                        }, {
                            attribute: this.shader.attributes.aColor,
                            size: 1,
                            unsignedByte: !0,
                            uploadFunction: this.uploadTint,
                            offset: 0
                        }]
                    }, e.prototype.start = function () {
                        this.renderer.bindShader(this.shader)
                    }, e.prototype.render = function (t) {
                        var e = t.children,
                            r = t._maxSize,
                            n = t._batchSize,
                            i = this.renderer,
                            o = e.length;
                        if (0 !== o) {
                            o > r && (o = r);
                            var s = t._glBuffers[i.CONTEXT_UID];
                            s || (s = t._glBuffers[i.CONTEXT_UID] = this.generateBuffers(t));
                            var a = e[0]._texture.baseTexture;
                            this.renderer.setBlendMode(u.utils.correctBlendMode(t.blendMode, a.premultipliedAlpha));
                            var h = i.gl,
                                l = t.worldTransform.copy(this.tempMatrix);
                            l.prepend(i._activeRenderTarget.projectionMatrix), this.shader.uniforms.projectionMatrix = l.toArray(!0), this.shader.uniforms.uColor = u.utils.premultiplyRgba(t.tintRgb, t.worldAlpha, this.shader.uniforms.uColor, a.premultipliedAlpha), this.shader.uniforms.uSampler = i.bindTexture(a);
                            for (var c = !1, d = 0, f = 0; d < o; d += n, f += 1) {
                                var p = o - d;
                                if (p > n && (p = n), f >= s.length) {
                                    if (!t.autoResize) break;
                                    s.push(this._generateOneMoreBuffer(t))
                                }
                                var v = s[f];
                                v.uploadDynamic(e, d, p);
                                var g = t._bufferUpdateIDs[f] || 0;
                                c = c || v._updateID < g, c && (v._updateID = t._updateID, v.uploadStatic(e, d, p)), i.bindVao(v.vao), v.vao.draw(h.TRIANGLES, 6 * p)
                            }
                        }
                    }, e.prototype.generateBuffers = function (t) {
                        for (var e = this.renderer.gl, r = [], n = t._maxSize, i = t._batchSize, o = t._properties, s = 0; s < n; s += i) r.push(new d.default(e, this.properties, o, i));
                        return r
                    }, e.prototype._generateOneMoreBuffer = function (t) {
                        var e = this.renderer.gl,
                            r = t._batchSize,
                            n = t._properties;
                        return new d.default(e, this.properties, n, r)
                    }, e.prototype.uploadVertices = function (t, e, r, n, i, o) {
                        for (var s = 0, a = 0, u = 0, h = 0, l = 0; l < r; ++l) {
                            var c = t[e + l],
                                d = c._texture,
                                f = c.scale.x,
                                p = c.scale.y,
                                v = d.trim,
                                g = d.orig;
                            v ? (a = v.x - c.anchor.x * g.width, s = a + v.width, h = v.y - c.anchor.y * g.height, u = h + v.height) : (s = g.width * (1 - c.anchor.x), a = g.width * -c.anchor.x, u = g.height * (1 - c.anchor.y), h = g.height * -c.anchor.y), n[o] = a * f, n[o + 1] = h * p, n[o + i] = s * f, n[o + i + 1] = h * p, n[o + 2 * i] = s * f, n[o + 2 * i + 1] = u * p, n[o + 3 * i] = a * f, n[o + 3 * i + 1] = u * p, o += 4 * i
                        }
                    }, e.prototype.uploadPosition = function (t, e, r, n, i, o) {
                        for (var s = 0; s < r; s++) {
                            var a = t[e + s].position;
                            n[o] = a.x, n[o + 1] = a.y, n[o + i] = a.x, n[o + i + 1] = a.y, n[o + 2 * i] = a.x, n[o + 2 * i + 1] = a.y, n[o + 3 * i] = a.x, n[o + 3 * i + 1] = a.y, o += 4 * i
                        }
                    }, e.prototype.uploadRotation = function (t, e, r, n, i, o) {
                        for (var s = 0; s < r; s++) {
                            var a = t[e + s].rotation;
                            n[o] = a, n[o + i] = a, n[o + 2 * i] = a, n[o + 3 * i] = a, o += 4 * i
                        }
                    }, e.prototype.uploadUvs = function (t, e, r, n, i, o) {
                        for (var s = 0; s < r; ++s) {
                            var a = t[e + s]._texture._uvs;
                            a ? (n[o] = a.x0, n[o + 1] = a.y0, n[o + i] = a.x1, n[o + i + 1] = a.y1, n[o + 2 * i] = a.x2, n[o + 2 * i + 1] = a.y2, n[o + 3 * i] = a.x3, n[o + 3 * i + 1] = a.y3, o += 4 * i) : (n[o] = 0, n[o + 1] = 0, n[o + i] = 0, n[o + i + 1] = 0, n[o + 2 * i] = 0, n[o + 2 * i + 1] = 0, n[o + 3 * i] = 0, n[o + 3 * i + 1] = 0, o += 4 * i)
                        }
                    }, e.prototype.uploadTint = function (t, e, r, n, i, o) {
                        for (var s = 0; s < r; ++s) {
                            var a = t[e + s],
                                u = a._texture.baseTexture.premultipliedAlpha,
                                h = a.alpha,
                                l = h < 1 && u ? (0, f.premultiplyTint)(a._tintRGB, h) : a._tintRGB + (255 * h << 24);
                            n[o] = l, n[o + i] = l, n[o + 2 * i] = l, n[o + 3 * i] = l, o += 4 * i
                        }
                    }, e.prototype.destroy = function () {
                        this.renderer.gl && this.renderer.gl.deleteBuffer(this.indexBuffer), t.prototype.destroy.call(this), this.shader.destroy(), this.indices = null, this.tempMatrix = null
                    }, e
                }(u.ObjectRenderer);
            r.default = p, u.WebGLRenderer.registerPlugin("particle", p)
        }, {
            "../../core": 65,
            "../../core/utils": 125,
            "./ParticleBuffer": 175,
            "./ParticleShader": 177
        }],
        177: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            r.__esModule = !0;
            var s = t("../../core/Shader"),
                a = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(s),
                u = function (t) {
                    function e(r) {
                        return n(this, e), i(this, t.call(this, r, ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute vec4 aColor;", "attribute vec2 aPositionCoord;", "attribute float aRotation;", "uniform mat3 projectionMatrix;", "uniform vec4 uColor;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "void main(void){", "   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);", "   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);", "   vec2 v = vec2(x, y);", "   v = v + aPositionCoord;", "   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vColor = aColor * uColor;", "}"].join("\n"), ["varying vec2 vTextureCoord;", "varying vec4 vColor;", "uniform sampler2D uSampler;", "void main(void){", "  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;", "  gl_FragColor = color;", "}"].join("\n")))
                    }
                    return o(e, t), e
                }(a.default);
            r.default = u
        }, {
            "../../core/Shader": 44
        }],
        178: [function (t, e, r) {
            "use strict";
            Math.sign || (Math.sign = function (t) {
                return t = Number(t), 0 === t || isNaN(t) ? t : t > 0 ? 1 : -1
            })
        }, {}],
        179: [function (t, e, r) {
            "use strict";
            Number.isInteger || (Number.isInteger = function (t) {
                return "number" == typeof t && isFinite(t) && Math.floor(t) === t
            })
        }, {}],
        180: [function (t, e, r) {
            "use strict";
            var n = t("object-assign"),
                i = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(n);
            Object.assign || (Object.assign = i.default)
        }, {
            "object-assign": 6
        }],
        181: [function (t, e, r) {
            "use strict";
            t("./Object.assign"), t("./requestAnimationFrame"), t("./Math.sign"), t("./Number.isInteger"), window.ArrayBuffer || (window.ArrayBuffer = Array), window.Float32Array || (window.Float32Array = Array), window.Uint32Array || (window.Uint32Array = Array), window.Uint16Array || (window.Uint16Array = Array)
        }, {
            "./Math.sign": 178,
            "./Number.isInteger": 179,
            "./Object.assign": 180,
            "./requestAnimationFrame": 182
        }],
        182: [function (t, e, r) {
            (function (t) {
                "use strict";
                if (Date.now && Date.prototype.getTime || (Date.now = function () {
                        return (new Date).getTime()
                    }), !t.performance || !t.performance.now) {
                    var e = Date.now();
                    t.performance || (t.performance = {}), t.performance.now = function () {
                        return Date.now() - e
                    }
                }
                for (var r = Date.now(), n = ["ms", "moz", "webkit", "o"], i = 0; i < n.length && !t.requestAnimationFrame; ++i) {
                    var o = n[i];
                    t.requestAnimationFrame = t[o + "RequestAnimationFrame"], t.cancelAnimationFrame = t[o + "CancelAnimationFrame"] || t[o + "CancelRequestAnimationFrame"]
                }
                t.requestAnimationFrame || (t.requestAnimationFrame = function (t) {
                    if ("function" != typeof t) throw new TypeError(t + "is not a function");
                    var e = Date.now(),
                        n = 16 + r - e;
                    return n < 0 && (n = 0), r = e, setTimeout(function () {
                        r = Date.now(), t(performance.now())
                    }, n)
                }), t.cancelAnimationFrame || (t.cancelAnimationFrame = function (t) {
                    return clearTimeout(t)
                })
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {}],
        183: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                var r = !1;
                if (t && t._textures && t._textures.length)
                    for (var n = 0; n < t._textures.length; n++)
                        if (t._textures[n] instanceof d.Texture) {
                            var i = t._textures[n].baseTexture; - 1 === e.indexOf(i) && (e.push(i), r = !0)
                        } return r
            }
            function o(t, e) {
                return t instanceof d.BaseTexture && (-1 === e.indexOf(t) && e.push(t), !0)
            }
            function s(t, e) {
                if (t._texture && t._texture instanceof d.Texture) {
                    var r = t._texture.baseTexture;
                    return -1 === e.indexOf(r) && e.push(r), !0
                }
                return !1
            }
            function a(t, e) {
                return e instanceof d.Text && (e.updateText(!0), !0)
            }
            function u(t, e) {
                if (e instanceof d.TextStyle) {
                    var r = e.toFontString();
                    return d.TextMetrics.measureFont(r), !0
                }
                return !1
            }
            function h(t, e) {
                if (t instanceof d.Text) {
                    -1 === e.indexOf(t.style) && e.push(t.style), -1 === e.indexOf(t) && e.push(t);
                    var r = t._texture.baseTexture;
                    return -1 === e.indexOf(r) && e.push(r), !0
                }
                return !1
            }
            function l(t, e) {
                return t instanceof d.TextStyle && (-1 === e.indexOf(t) && e.push(t), !0)
            }
            r.__esModule = !0;
            var c = t("../core"),
                d = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(c),
                f = t("./limiters/CountLimiter"),
                p = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(f),
                v = d.ticker.shared;
            d.settings.UPLOADS_PER_FRAME = 4;
            var g = function () {
                function t(e) {
                    var r = this;
                    n(this, t), this.limiter = new p.default(d.settings.UPLOADS_PER_FRAME), this.renderer = e, this.uploadHookHelper = null, this.queue = [], this.addHooks = [], this.uploadHooks = [], this.completes = [], this.ticking = !1, this.delayedTick = function () {
                        r.queue && r.prepareItems()
                    }, this.registerFindHook(h), this.registerFindHook(l), this.registerFindHook(i), this.registerFindHook(o), this.registerFindHook(s), this.registerUploadHook(a), this.registerUploadHook(u)
                }
                return t.prototype.upload = function (t, e) {
                    "function" == typeof t && (e = t, t = null), t && this.add(t), this.queue.length ? (e && this.completes.push(e), this.ticking || (this.ticking = !0, v.addOnce(this.tick, this, d.UPDATE_PRIORITY.UTILITY))) : e && e()
                }, t.prototype.tick = function () {
                    setTimeout(this.delayedTick, 0)
                }, t.prototype.prepareItems = function () {
                    for (this.limiter.beginFrame(); this.queue.length && this.limiter.allowedToUpload();) {
                        var t = this.queue[0],
                            e = !1;
                        if (t && !t._destroyed)
                            for (var r = 0, n = this.uploadHooks.length; r < n; r++)
                                if (this.uploadHooks[r](this.uploadHookHelper, t)) {
                                    this.queue.shift(), e = !0;
                                    break
                                } e || this.queue.shift()
                    }
                    if (this.queue.length) v.addOnce(this.tick, this, d.UPDATE_PRIORITY.UTILITY);
                    else {
                        this.ticking = !1;
                        var i = this.completes.slice(0);
                        this.completes.length = 0;
                        for (var o = 0, s = i.length; o < s; o++) i[o]()
                    }
                }, t.prototype.registerFindHook = function (t) {
                    return t && this.addHooks.push(t), this
                }, t.prototype.registerUploadHook = function (t) {
                    return t && this.uploadHooks.push(t), this
                }, t.prototype.add = function (t) {
                    for (var e = 0, r = this.addHooks.length; e < r && !this.addHooks[e](t, this.queue); e++);
                    if (t instanceof d.Container)
                        for (var n = t.children.length - 1; n >= 0; n--) this.add(t.children[n]);
                    return this
                }, t.prototype.destroy = function () {
                    this.ticking && v.remove(this.tick, this), this.ticking = !1, this.addHooks = null, this.uploadHooks = null, this.renderer = null, this.completes = null, this.queue = null, this.limiter = null, this.uploadHookHelper = null
                }, t
            }();
            r.default = g
        }, {
            "../core": 65,
            "./limiters/CountLimiter": 186
        }],
        184: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            function s(t, e) {
                if (e instanceof u.BaseTexture) {
                    var r = e.source,
                        n = 0 === r.width ? t.canvas.width : Math.min(t.canvas.width, r.width),
                        i = 0 === r.height ? t.canvas.height : Math.min(t.canvas.height, r.height);
                    return t.ctx.drawImage(r, 0, 0, n, i, 0, 0, t.canvas.width, t.canvas.height), !0
                }
                return !1
            }
            r.__esModule = !0;
            var a = t("../../core"),
                u = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(a),
                h = t("../BasePrepare"),
                l = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(h),
                c = 16,
                d = function (t) {
                    function e(r) {
                        n(this, e);
                        var o = i(this, t.call(this, r));
                        return o.uploadHookHelper = o, o.canvas = document.createElement("canvas"), o.canvas.width = c, o.canvas.height = c, o.ctx = o.canvas.getContext("2d"), o.registerUploadHook(s), o
                    }
                    return o(e, t), e.prototype.destroy = function () {
                        t.prototype.destroy.call(this), this.ctx = null, this.canvas = null
                    }, e
                }(l.default);
            r.default = d, u.CanvasRenderer.registerPlugin("prepare", d)
        }, {
            "../../core": 65,
            "../BasePrepare": 183
        }],
        185: [function (t, e, r) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            r.__esModule = !0;
            var i = t("./webgl/WebGLPrepare");
            Object.defineProperty(r, "webgl", {
                enumerable: !0,
                get: function () {
                    return n(i).default
                }
            });
            var o = t("./canvas/CanvasPrepare");
            Object.defineProperty(r, "canvas", {
                enumerable: !0,
                get: function () {
                    return n(o).default
                }
            });
            var s = t("./BasePrepare");
            Object.defineProperty(r, "BasePrepare", {
                enumerable: !0,
                get: function () {
                    return n(s).default
                }
            });
            var a = t("./limiters/CountLimiter");
            Object.defineProperty(r, "CountLimiter", {
                enumerable: !0,
                get: function () {
                    return n(a).default
                }
            });
            var u = t("./limiters/TimeLimiter");
            Object.defineProperty(r, "TimeLimiter", {
                enumerable: !0,
                get: function () {
                    return n(u).default
                }
            })
        }, {
            "./BasePrepare": 183,
            "./canvas/CanvasPrepare": 184,
            "./limiters/CountLimiter": 186,
            "./limiters/TimeLimiter": 187,
            "./webgl/WebGLPrepare": 188
        }],
        186: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                function t(e) {
                    n(this, t), this.maxItemsPerFrame = e, this.itemsLeft = 0
                }
                return t.prototype.beginFrame = function () {
                    this.itemsLeft = this.maxItemsPerFrame
                }, t.prototype.allowedToUpload = function () {
                    return this.itemsLeft-- > 0
                }, t
            }();
            r.default = i
        }, {}],
        187: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            r.__esModule = !0;
            var i = function () {
                function t(e) {
                    n(this, t), this.maxMilliseconds = e, this.frameStart = 0
                }
                return t.prototype.beginFrame = function () {
                    this.frameStart = Date.now()
                }, t.prototype.allowedToUpload = function () {
                    return Date.now() - this.frameStart < this.maxMilliseconds
                }, t
            }();
            r.default = i
        }, {}],
        188: [function (t, e, r) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            function s(t, e) {
                return e instanceof l.BaseTexture && (e._glTextures[t.CONTEXT_UID] || t.textureManager.updateTexture(e), !0)
            }
            function a(t, e) {
                return e instanceof l.Graphics && ((e.dirty || e.clearDirty || !e._webGL[t.plugins.graphics.CONTEXT_UID]) && t.plugins.graphics.updateGraphics(e), !0)
            }
            function u(t, e) {
                return t instanceof l.Graphics && (e.push(t), !0)
            }
            r.__esModule = !0;
            var h = t("../../core"),
                l = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }(h),
                c = t("../BasePrepare"),
                d = function (t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(c),
                f = function (t) {
                    function e(r) {
                        n(this, e);
                        var o = i(this, t.call(this, r));
                        return o.uploadHookHelper = o.renderer, o.registerFindHook(u), o.registerUploadHook(s), o.registerUploadHook(a), o
                    }
                    return o(e, t), e
                }(d.default);
            r.default = f, l.WebGLRenderer.registerPlugin("prepare", f)
        }, {
            "../../core": 65,
            "../BasePrepare": 183
        }],
        189: [function (t, e, r) {
            (function (e) {
                "use strict";
                function n(t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e.default = t, e
                }
                r.__esModule = !0, r.loader = r.prepare = r.particles = r.mesh = r.loaders = r.interaction = r.filters = r.extras = r.extract = r.accessibility = void 0;
                var i = t("./polyfill");
                Object.keys(i).forEach(function (t) {
                    "default" !== t && "__esModule" !== t && Object.defineProperty(r, t, {
                        enumerable: !0,
                        get: function () {
                            return i[t]
                        }
                    })
                });
                var o = t("./core");
                Object.keys(o).forEach(function (t) {
                    "default" !== t && "__esModule" !== t && Object.defineProperty(r, t, {
                        enumerable: !0,
                        get: function () {
                            return o[t]
                        }
                    })
                });
                var s = t("./deprecation"),
                    a = function (t) {
                        return t && t.__esModule ? t : {
                            default: t
                        }
                    }(s),
                    u = t("./accessibility"),
                    h = n(u),
                    l = t("./extract"),
                    c = n(l),
                    d = t("./extras"),
                    f = n(d),
                    p = t("./filters"),
                    v = n(p),
                    g = t("./interaction"),
                    y = n(g),
                    m = t("./loaders"),
                    _ = n(m),
                    b = t("./mesh"),
                    x = n(b),
                    T = t("./particles"),
                    w = n(T),
                    E = t("./prepare"),
                    S = n(E);
                o.utils.mixins.performMixins();
                var O = _.shared || null;
                r.accessibility = h, r.extract = c, r.extras = f, r.filters = v, r.interaction = y, r.loaders = _, r.mesh = x, r.particles = w, r.prepare = S, r.loader = O, "function" == typeof a.default && (0, a.default)(r), e.PIXI = r
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {
            "./accessibility": 42,
            "./core": 65,
            "./deprecation": 131,
            "./extract": 133,
            "./extras": 141,
            "./filters": 153,
            "./interaction": 159,
            "./loaders": 162,
            "./mesh": 171,
            "./particles": 174,
            "./polyfill": 181,
            "./prepare": 185
        }]
    }, {}, [189])(189)
});
! function (t) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = t();
    else if ("function" == typeof define && define.amd) define([], t);
    else {
        var i;
        i = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, i.pixiParticles = t()
    }
}(function () {
    return function t(i, e, s) {
        function a(n, o) {
            if (!e[n]) {
                if (!i[n]) {
                    var h = "function" == typeof require && require;
                    if (!o && h) return h(n, !0);
                    if (r) return r(n, !0);
                    var l = new Error("Cannot find module '" + n + "'");
                    throw l.code = "MODULE_NOT_FOUND", l
                }
                var p = e[n] = {
                    exports: {}
                };
                i[n][0].call(p.exports, function (t) {
                    var e = i[n][1][t];
                    return a(e ? e : t)
                }, p, p.exports, t, i, e, s)
            }
            return e[n].exports
        }
        for (var r = "function" == typeof require && require, n = 0; n < s.length; n++) a(s[n]);
        return a
    }({
        1: [function (t, i, e) {
            "use strict";
            var s = t("./ParticleUtils"),
                a = t("./Particle"),
                r = PIXI.Texture,
                n = function (t) {
                    a.call(this, t), this.textures = null, this.duration = 0, this.framerate = 0, this.elapsed = 0, this.loop = !1
                },
                o = a.prototype,
                h = n.prototype = Object.create(o);
            h.init = function () {
                this.Particle_init(), this.elapsed = 0, this.framerate < 0 && (this.duration = this.maxLife, this.framerate = this.textures.length / this.duration)
            }, h.applyArt = function (t) {
                this.textures = t.textures, this.framerate = t.framerate, this.duration = t.duration, this.loop = t.loop
            }, h.update = function (t) {
                if (this.Particle_update(t) >= 0) {
                    this.elapsed += t, this.elapsed > this.duration && (this.loop ? this.elapsed = this.elapsed % this.duration : this.elapsed = this.duration - 1e-6);
                    var i = this.elapsed * this.framerate + 1e-7 | 0;
                    this.texture = this.textures[i] || s.EMPTY_TEXTURE
                }
            }, h.Particle_destroy = a.prototype.destroy, h.destroy = function () {
                this.Particle_destroy(), this.textures = null
            }, n.parseArt = function (t) {
                var i, e, s, a, n, o, h = [];
                for (i = 0; i < t.length; ++i) {
                    for (e = t[i], t[i] = h = {}, h.textures = o = [], a = e.textures, s = 0; s < a.length; ++s)
                        if (n = a[s], "string" == typeof n) o.push(r.fromImage(n));
                        else if (n instanceof r) o.push(n);
                    else {
                        var l = n.count || 1;
                        for (n = "string" == typeof n.texture ? r.fromImage(n.texture) : n.texture; l > 0; --l) o.push(n)
                    }
                    "matchLife" == e.framerate ? (h.framerate = -1, h.duration = 0, h.loop = !1) : (h.loop = !!e.loop, h.framerate = e.framerate > 0 ? e.framerate : 60, h.duration = o.length / h.framerate)
                }
                return t
            }, i.exports = n
        }, {
            "./Particle": 3,
            "./ParticleUtils": 4
        }],
        2: [function (t, i, e) {
            "use strict";
            var s = t("./ParticleUtils"),
                a = t("./Particle"),
                r = PIXI.particles.ParticleContainer || PIXI.ParticleContainer,
                n = PIXI.ticker.shared,
                o = function (t, i, e) {
                    this._particleConstructor = a, this.particleImages = null, this.startAlpha = 1, this.endAlpha = 1, this.startSpeed = 0, this.endSpeed = 0, this.minimumSpeedMultiplier = 1, this.acceleration = null, this.maxSpeed = NaN, this.startScale = 1, this.endScale = 1, this.minimumScaleMultiplier = 1, this.startColor = null, this.endColor = null, this.minLifetime = 0, this.maxLifetime = 0, this.minStartRotation = 0, this.maxStartRotation = 0, this.noRotation = !1, this.minRotationSpeed = 0, this.maxRotationSpeed = 0, this.particleBlendMode = 0, this.customEase = null, this.extraData = null, this._frequency = 1, this.maxParticles = 1e3, this.emitterLifetime = -1, this.spawnPos = null, this.spawnType = null, this._spawnFunc = null, this.spawnRect = null, this.spawnCircle = null, this.particlesPerWave = 1, this.particleSpacing = 0, this.angleStart = 0, this.rotation = 0, this.ownerPos = null, this._prevEmitterPos = null, this._prevPosIsValid = !1, this._posChanged = !1, this._parentIsPC = !1, this._parent = null, this.addAtBack = !1, this.particleCount = 0, this._emit = !1, this._spawnTimer = 0, this._emitterLife = -1, this._activeParticlesFirst = null, this._activeParticlesLast = null, this._poolFirst = null, this._origConfig = null, this._origArt = null, this._autoUpdate = !1, this._destroyWhenComplete = !1, this._completeCallback = null, this.parent = t, i && e && this.init(i, e), this.recycle = this.recycle, this.update = this.update, this.rotate = this.rotate, this.updateSpawnPos = this.updateSpawnPos, this.updateOwnerPos = this.updateOwnerPos
                },
                h = o.prototype = {},
                l = new PIXI.Point;
            Object.defineProperty(h, "frequency", {
                get: function () {
                    return this._frequency
                },
                set: function (t) {
                    "number" == typeof t && t > 0 ? this._frequency = t : this._frequency = 1
                }
            }), Object.defineProperty(h, "particleConstructor", {
                get: function () {
                    return this._particleConstructor
                },
                set: function (t) {
                    if (t != this._particleConstructor) {
                        this._particleConstructor = t, this.cleanup();
                        for (var i = this._poolFirst; i; i = i.next) i.destroy();
                        this._poolFirst = null, this._origConfig && this._origArt && this.init(this._origArt, this._origConfig)
                    }
                }
            }), Object.defineProperty(h, "parent", {
                get: function () {
                    return this._parent
                },
                set: function (t) {
                    if (this._parentIsPC)
                        for (var i = this._poolFirst; i; i = i.next) i.parent && i.parent.removeChild(i);
                    this.cleanup(), this._parent = t, this._parentIsPC = r && t && t instanceof r
                }
            }), h.init = function (t, i) {
                if (t && i) {
                    this.cleanup(), this._origConfig = i, this._origArt = t, t = Array.isArray(t) ? t.slice() : [t];
                    var e = this._particleConstructor;
                    this.particleImages = e.parseArt ? e.parseArt(t) : t, i.alpha ? (this.startAlpha = i.alpha.start, this.endAlpha = i.alpha.end) : this.startAlpha = this.endAlpha = 1, i.speed ? (this.startSpeed = i.speed.start, this.endSpeed = i.speed.end, this.minimumSpeedMultiplier = i.speed.minimumSpeedMultiplier || 1) : (this.minimumSpeedMultiplier = 1, this.startSpeed = this.endSpeed = 0);
                    var a = i.acceleration;
                    a && (a.x || a.y) ? (this.endSpeed = this.startSpeed, this.acceleration = new PIXI.Point(a.x, a.y), this.maxSpeed = i.maxSpeed || NaN) : this.acceleration = new PIXI.Point, i.scale ? (this.startScale = i.scale.start, this.endScale = i.scale.end, this.minimumScaleMultiplier = i.scale.minimumScaleMultiplier || 1) : this.startScale = this.endScale = this.minimumScaleMultiplier = 1, i.color && (this.startColor = s.hexToRGB(i.color.start), i.color.start != i.color.end ? this.endColor = s.hexToRGB(i.color.end) : this.endColor = null), i.startRotation ? (this.minStartRotation = i.startRotation.min, this.maxStartRotation = i.startRotation.max) : this.minStartRotation = this.maxStartRotation = 0, i.noRotation && (this.minStartRotation || this.maxStartRotation) ? this.noRotation = !!i.noRotation : this.noRotation = !1, i.rotationSpeed ? (this.minRotationSpeed = i.rotationSpeed.min, this.maxRotationSpeed = i.rotationSpeed.max) : this.minRotationSpeed = this.maxRotationSpeed = 0, this.minLifetime = i.lifetime.min, this.maxLifetime = i.lifetime.max, this.particleBlendMode = s.getBlendMode(i.blendMode), i.ease ? this.customEase = "function" == typeof i.ease ? i.ease : s.generateEase(i.ease) : this.customEase = null, e.parseData ? this.extraData = e.parseData(i.extraData) : this.extraData = i.extraData || null, this.spawnRect = this.spawnCircle = null, this.particlesPerWave = 1, this.particleSpacing = 0, this.angleStart = 0;
                    var r;
                    switch (i.spawnType) {
                    case "rect":
                        this.spawnType = "rect", this._spawnFunc = this._spawnRect;
                        var n = i.spawnRect;
                        this.spawnRect = new PIXI.Rectangle(n.x, n.y, n.w, n.h);
                        break;
                    case "circle":
                        this.spawnType = "circle", this._spawnFunc = this._spawnCircle, r = i.spawnCircle, this.spawnCircle = new PIXI.Circle(r.x, r.y, r.r);
                        break;
                    case "ring":
                        this.spawnType = "ring", this._spawnFunc = this._spawnRing, r = i.spawnCircle, this.spawnCircle = new PIXI.Circle(r.x, r.y, r.r), this.spawnCircle.minRadius = r.minR;
                        break;
                    case "burst":
                        this.spawnType = "burst", this._spawnFunc = this._spawnBurst, this.particlesPerWave = i.particlesPerWave, this.particleSpacing = i.particleSpacing, this.angleStart = i.angleStart ? i.angleStart : 0;
                        break;
                    case "point":
                        this.spawnType = "point", this._spawnFunc = this._spawnPoint;
                        break;
                    default:
                        this.spawnType = "point", this._spawnFunc = this._spawnPoint
                    }
                    this.frequency = i.frequency, this.emitterLifetime = i.emitterLifetime || -1, this.maxParticles = i.maxParticles > 0 ? i.maxParticles : 1e3, this.addAtBack = !!i.addAtBack, this.rotation = 0, this.ownerPos = new PIXI.Point, this.spawnPos = new PIXI.Point(i.pos.x, i.pos.y), this._prevEmitterPos = this.spawnPos.clone(), this._prevPosIsValid = !1, this._spawnTimer = 0, this.emit = void 0 === i.emit || !!i.emit, this.autoUpdate = void 0 !== i.autoUpdate && !!i.autoUpdate
                }
            }, h.recycle = function (t) {
                t.next && (t.next.prev = t.prev), t.prev && (t.prev.next = t.next), t == this._activeParticlesLast && (this._activeParticlesLast = t.prev), t == this._activeParticlesFirst && (this._activeParticlesFirst = t.next), t.prev = null, t.next = this._poolFirst, this._poolFirst = t, this._parentIsPC ? (t.alpha = 0, t.visible = !1) : t.parent && t.parent.removeChild(t), --this.particleCount
            }, h.rotate = function (t) {
                if (this.rotation != t) {
                    var i = t - this.rotation;
                    this.rotation = t, s.rotatePoint(i, this.spawnPos), this._posChanged = !0
                }
            }, h.updateSpawnPos = function (t, i) {
                this._posChanged = !0, this.spawnPos.x = t, this.spawnPos.y = i
            }, h.updateOwnerPos = function (t, i) {
                this._posChanged = !0, this.ownerPos.x = t, this.ownerPos.y = i
            }, h.resetPositionTracking = function () {
                this._prevPosIsValid = !1
            }, Object.defineProperty(h, "emit", {
                get: function () {
                    return this._emit
                },
                set: function (t) {
                    this._emit = !!t, this._emitterLife = this.emitterLifetime
                }
            }), Object.defineProperty(h, "autoUpdate", {
                get: function () {
                    return this._autoUpdate
                },
                set: function (t) {
                    this._autoUpdate && !t ? n.remove(this.update, this) : !this._autoUpdate && t && n.add(this.update, this), this._autoUpdate = !!t
                }
            }), h.playOnceAndDestroy = function (t) {
                this.autoUpdate = !0, this.emit = !0, this._destroyWhenComplete = !0, this._completeCallback = t
            }, h.playOnce = function (t) {
                this.autoUpdate = !0, this.emit = !0, this._completeCallback = t
            }, h.update = function (t) {
                if (this._autoUpdate && (t = t / PIXI.settings.TARGET_FPMS / 1e3), this._parent) {
                    var i, e, s;
                    for (e = this._activeParticlesFirst; e; e = s) s = e.next, e.update(t);
                    var a, r;
                    this._prevPosIsValid && (a = this._prevEmitterPos.x, r = this._prevEmitterPos.y);
                    var n = this.ownerPos.x + this.spawnPos.x,
                        o = this.ownerPos.y + this.spawnPos.y;
                    if (this._emit)
                        for (this._spawnTimer -= t; this._spawnTimer <= 0;) {
                            if (this._emitterLife > 0 && (this._emitterLife -= this._frequency, this._emitterLife <= 0)) {
                                this._spawnTimer = 0, this._emitterLife = 0, this.emit = !1;
                                break
                            }
                            if (this.particleCount >= this.maxParticles) this._spawnTimer += this._frequency;
                            else {
                                var h;
                                if (h = this.minLifetime == this.maxLifetime ? this.minLifetime : Math.random() * (this.maxLifetime - this.minLifetime) + this.minLifetime, -this._spawnTimer < h) {
                                    var l, p;
                                    if (this._prevPosIsValid && this._posChanged) {
                                        var c = 1 + this._spawnTimer / t;
                                        l = (n - a) * c + a, p = (o - r) * c + r
                                    } else l = n, p = o;
                                    i = 0;
                                    for (var d = Math.min(this.particlesPerWave, this.maxParticles - this.particleCount); i < d; ++i) {
                                        var u, m;
                                        if (this._poolFirst ? (u = this._poolFirst, this._poolFirst = this._poolFirst.next, u.next = null) : u = new this.particleConstructor(this), this.particleImages.length > 1 ? u.applyArt(this.particleImages[Math.floor(Math.random() * this.particleImages.length)]) : u.applyArt(this.particleImages[0]), u.startAlpha = this.startAlpha, u.endAlpha = this.endAlpha, 1 != this.minimumSpeedMultiplier ? (m = Math.random() * (1 - this.minimumSpeedMultiplier) + this.minimumSpeedMultiplier, u.startSpeed = this.startSpeed * m, u.endSpeed = this.endSpeed * m) : (u.startSpeed = this.startSpeed, u.endSpeed = this.endSpeed), u.acceleration.x = this.acceleration.x, u.acceleration.y = this.acceleration.y, u.maxSpeed = this.maxSpeed, 1 != this.minimumScaleMultiplier ? (m = Math.random() * (1 - this.minimumScaleMultiplier) + this.minimumScaleMultiplier, u.startScale = this.startScale * m, u.endScale = this.endScale * m) : (u.startScale = this.startScale, u.endScale = this.endScale), u.startColor = this.startColor, u.endColor = this.endColor, this.minRotationSpeed == this.maxRotationSpeed ? u.rotationSpeed = this.minRotationSpeed : u.rotationSpeed = Math.random() * (this.maxRotationSpeed - this.minRotationSpeed) + this.minRotationSpeed, u.noRotation = this.noRotation, u.maxLife = h, u.blendMode = this.particleBlendMode, u.ease = this.customEase, u.extraData = this.extraData, this._spawnFunc(u, l, p, i), u.init(), u.update(-this._spawnTimer), this._parentIsPC && u.parent) {
                                            var f = this._parent.children;
                                            if (f[0] == u) f.shift();
                                            else if (f[f.length - 1] == u) f.pop();
                                            else {
                                                var _ = f.indexOf(u);
                                                f.splice(_, 1)
                                            }
                                            this.addAtBack ? f.unshift(u) : f.push(u)
                                        } else this.addAtBack ? this._parent.addChildAt(u, 0) : this._parent.addChild(u);
                                        this._activeParticlesLast ? (this._activeParticlesLast.next = u, u.prev = this._activeParticlesLast, this._activeParticlesLast = u) : this._activeParticlesLast = this._activeParticlesFirst = u, ++this.particleCount
                                    }
                                }
                                this._spawnTimer += this._frequency
                            }
                        }
                    this._posChanged && (this._prevEmitterPos.x = n, this._prevEmitterPos.y = o, this._prevPosIsValid = !0, this._posChanged = !1), this._emit || this._activeParticlesFirst || (this._completeCallback && this._completeCallback(), this._destroyWhenComplete && this.destroy())
                }
            }, h._spawnPoint = function (t, i, e) {
                this.minStartRotation == this.maxStartRotation ? t.rotation = this.minStartRotation + this.rotation : t.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation, t.position.x = i, t.position.y = e
            }, h._spawnRect = function (t, i, e) {
                this.minStartRotation == this.maxStartRotation ? t.rotation = this.minStartRotation + this.rotation : t.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation, l.x = Math.random() * this.spawnRect.width + this.spawnRect.x, l.y = Math.random() * this.spawnRect.height + this.spawnRect.y, 0 !== this.rotation && s.rotatePoint(this.rotation, l), t.position.x = i + l.x, t.position.y = e + l.y
            }, h._spawnCircle = function (t, i, e) {
                this.minStartRotation == this.maxStartRotation ? t.rotation = this.minStartRotation + this.rotation : t.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation, l.x = Math.random() * this.spawnCircle.radius, l.y = 0, s.rotatePoint(360 * Math.random(), l), l.x += this.spawnCircle.x, l.y += this.spawnCircle.y, 0 !== this.rotation && s.rotatePoint(this.rotation, l), t.position.x = i + l.x, t.position.y = e + l.y
            }, h._spawnRing = function (t, i, e) {
                var a = this.spawnCircle;
                this.minStartRotation == this.maxStartRotation ? t.rotation = this.minStartRotation + this.rotation : t.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation, a.minRadius == a.radius ? l.x = Math.random() * (a.radius - a.minRadius) + a.minRadius : l.x = a.radius, l.y = 0;
                var r = 360 * Math.random();
                t.rotation += r, s.rotatePoint(r, l), l.x += this.spawnCircle.x, l.y += this.spawnCircle.y, 0 !== this.rotation && s.rotatePoint(this.rotation, l), t.position.x = i + l.x, t.position.y = e + l.y
            }, h._spawnBurst = function (t, i, e, s) {
                0 === this.particleSpacing ? t.rotation = 360 * Math.random() : t.rotation = this.angleStart + this.particleSpacing * s + this.rotation, t.position.x = i, t.position.y = e
            }, h.cleanup = function () {
                var t, i;
                for (t = this._activeParticlesFirst; t; t = i) i = t.next, this.recycle(t), t.parent && t.parent.removeChild(t);
                this._activeParticlesFirst = this._activeParticlesLast = null, this.particleCount = 0
            }, h.destroy = function () {
                this.autoUpdate = !1, this.cleanup();
                for (var t, i = this._poolFirst; i; i = t) t = i.next, i.destroy();
                this._poolFirst = this._parent = this.particleImages = this.spawnPos = this.ownerPos = this.startColor = this.endColor = this.customEase = this._completeCallback = null
            }, i.exports = o
        }, {
            "./Particle": 3,
            "./ParticleUtils": 4
        }],
        3: [function (t, i, e) {
            var s = t("./ParticleUtils"),
                a = PIXI.Sprite,
                r = function (t) {
                    a.call(this), this.emitter = t, this.anchor.x = this.anchor.y = .5, this.velocity = new PIXI.Point, this.maxLife = 0, this.age = 0, this.ease = null, this.extraData = null, this.startAlpha = 0, this.endAlpha = 0, this.startSpeed = 0, this.endSpeed = 0, this.acceleration = new PIXI.Point, this.maxSpeed = NaN, this.startScale = 0, this.endScale = 0, this.startColor = null, this._sR = 0, this._sG = 0, this._sB = 0, this.endColor = null, this._eR = 0, this._eG = 0, this._eB = 0, this._doAlpha = !1, this._doScale = !1, this._doSpeed = !1, this._doAcceleration = !1, this._doColor = !1, this._doNormalMovement = !1, this._oneOverLife = 0, this.next = null, this.prev = null, this.init = this.init, this.Particle_init = this.Particle_init, this.update = this.update, this.Particle_update = this.Particle_update, this.applyArt = this.applyArt, this.kill = this.kill
                },
                n = r.prototype = Object.create(a.prototype);
            n.init = n.Particle_init = function () {
                this.age = 0, this.velocity.x = this.startSpeed, this.velocity.y = 0, s.rotatePoint(this.rotation, this.velocity), this.noRotation ? this.rotation = 0 : this.rotation *= s.DEG_TO_RADS, this.rotationSpeed *= s.DEG_TO_RADS, this.alpha = this.startAlpha, this.scale.x = this.scale.y = this.startScale, this.startColor && (this._sR = this.startColor[0], this._sG = this.startColor[1], this._sB = this.startColor[2], this.endColor && (this._eR = this.endColor[0], this._eG = this.endColor[1], this._eB = this.endColor[2])), this._doAlpha = this.startAlpha != this.endAlpha, this._doSpeed = this.startSpeed != this.endSpeed, this._doScale = this.startScale != this.endScale, this._doColor = !!this.endColor, this._doAcceleration = 0 !== this.acceleration.x || 0 !== this.acceleration.y, this._doNormalMovement = this._doSpeed || 0 !== this.startSpeed || this._doAcceleration, this._oneOverLife = 1 / this.maxLife, this.tint = s.combineRGBComponents(this._sR, this._sG, this._sB), this.visible = !0
            }, n.applyArt = function (t) {
                this.texture = t || s.EMPTY_TEXTURE
            }, n.update = n.Particle_update = function (t) {
                if (this.age += t, this.age >= this.maxLife) return this.kill(), -1;
                var i = this.age * this._oneOverLife;
                if (this.ease && (i = 4 == this.ease.length ? this.ease(i, 0, 1, 1) : this.ease(i)), this._doAlpha && (this.alpha = (this.endAlpha - this.startAlpha) * i + this.startAlpha), this._doScale) {
                    var e = (this.endScale - this.startScale) * i + this.startScale;
                    this.scale.x = this.scale.y = e
                }
                if (this._doNormalMovement) {
                    if (this._doSpeed) {
                        var a = (this.endSpeed - this.startSpeed) * i + this.startSpeed;
                        s.normalize(this.velocity), s.scaleBy(this.velocity, a)
                    } else if (this._doAcceleration && (this.velocity.x += this.acceleration.x * t, this.velocity.y += this.acceleration.y * t, this.maxSpeed)) {
                        var r = s.length(this.velocity);
                        r > this.maxSpeed && s.scaleBy(this.velocity, this.maxSpeed / r)
                    }
                    this.position.x += this.velocity.x * t, this.position.y += this.velocity.y * t
                }
                if (this._doColor) {
                    var n = (this._eR - this._sR) * i + this._sR,
                        o = (this._eG - this._sG) * i + this._sG,
                        h = (this._eB - this._sB) * i + this._sB;
                    this.tint = s.combineRGBComponents(n, o, h)
                }
                return 0 !== this.rotationSpeed ? this.rotation += this.rotationSpeed * t : this.acceleration && !this.noRotation && (this.rotation = Math.atan2(this.velocity.y, this.velocity.x)), i
            }, n.kill = function () {
                this.emitter.recycle(this)
            }, n.Sprite_Destroy = a.prototype.destroy, n.destroy = function () {
                this.parent && this.parent.removeChild(this), this.Sprite_Destroy && this.Sprite_Destroy(), this.emitter = this.velocity = this.startColor = this.endColor = this.ease = this.next = this.prev = null
            }, r.parseArt = function (t) {
                var i;
                for (i = t.length; i >= 0; --i) "string" == typeof t[i] && (t[i] = PIXI.Texture.fromImage(t[i]));
                if (s.verbose)
                    for (i = t.length - 1; i > 0; --i)
                        if (t[i].baseTexture != t[i - 1].baseTexture) {
                            window.console && console.warn("PixiParticles: using particle textures from different images may hinder performance in WebGL");
                            break
                        } return t
            }, r.parseData = function (t) {
                return t
            }, i.exports = r
        }, {
            "./ParticleUtils": 4
        }],
        4: [function (t, i, e) {
            "use strict";
            var s = PIXI.BLEND_MODES || PIXI.blendModes,
                a = PIXI.Texture,
                r = {};
            r.verbose = !1;
            var n = r.DEG_TO_RADS = Math.PI / 180,
                o = r.EMPTY_TEXTURE = a.EMPTY;
            o.on = o.destroy = o.once = o.emit = function () {}, r.rotatePoint = function (t, i) {
                if (t) {
                    t *= n;
                    var e = Math.sin(t),
                        s = Math.cos(t),
                        a = i.x * s - i.y * e,
                        r = i.x * e + i.y * s;
                    i.x = a, i.y = r
                }
            }, r.combineRGBComponents = function (t, i, e) {
                return t << 16 | i << 8 | e
            }, r.normalize = function (t) {
                var i = 1 / r.length(t);
                t.x *= i, t.y *= i
            }, r.scaleBy = function (t, i) {
                t.x *= i, t.y *= i
            }, r.length = function (t) {
                return Math.sqrt(t.x * t.x + t.y * t.y)
            }, r.hexToRGB = function (t, i) {
                i ? i.length = 0 : i = [], "#" == t.charAt(0) ? t = t.substr(1) : 0 === t.indexOf("0x") && (t = t.substr(2));
                var e;
                return 8 == t.length && (e = t.substr(0, 2), t = t.substr(2)), i.push(parseInt(t.substr(0, 2), 16)), i.push(parseInt(t.substr(2, 2), 16)), i.push(parseInt(t.substr(4, 2), 16)), e && i.push(parseInt(e, 16)), i
            }, r.generateEase = function (t) {
                var i = t.length,
                    e = 1 / i,
                    s = function (s) {
                        var a, r, n = i * s | 0;
                        return a = (s - n * e) * i, r = t[n] || t[i - 1], r.s + a * (2 * (1 - a) * (r.cp - r.s) + a * (r.e - r.s))
                    };
                return s
            }, r.getBlendMode = function (t) {
                if (!t) return s.NORMAL;
                for (t = t.toUpperCase(); t.indexOf(" ") >= 0;) t = t.replace(" ", "_");
                return s[t] || s.NORMAL
            }, i.exports = r
        }, {}],
        5: [function (t, i, e) {
            "use strict";
            var s = t("./ParticleUtils"),
                a = t("./Particle"),
                r = function (t) {
                    a.call(this, t), this.path = null, this.initialRotation = 0, this.initialPosition = new PIXI.Point, this.movement = 0
                },
                n = a.prototype,
                o = r.prototype = Object.create(n),
                h = new PIXI.Point;
            o.init = function () {
                this.initialRotation = this.rotation, this.Particle_init(), this.path = this.extraData.path, this._doNormalMovement = !this.path, this.movement = 0, this.initialPosition.x = this.position.x, this.initialPosition.y = this.position.y
            };
            for (var l = ["pow", "sqrt", "abs", "floor", "round", "ceil", "E", "PI", "sin", "cos", "tan", "asin", "acos", "atan", "atan2", "log"], p = "[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]", c = l.length - 1; c >= 0; --c) p += "|" + l[c];
            p = new RegExp(p, "g");
            var d = function (t) {
                for (var i = t.match(p), e = i.length - 1; e >= 0; --e) l.indexOf(i[e]) >= 0 && (i[e] = "Math." + i[e]);
                return t = i.join(""), new Function("x", "return " + t + ";")
            };
            o.update = function (t) {
                var i = this.Particle_update(t);
                if (i >= 0 && this.path) {
                    var e = (this.endSpeed - this.startSpeed) * i + this.startSpeed;
                    this.movement += e * t, h.x = this.movement, h.y = this.path(this.movement), s.rotatePoint(this.initialRotation, h), this.position.x = this.initialPosition.x + h.x, this.position.y = this.initialPosition.y + h.y
                }
            }, o.Particle_destroy = a.prototype.destroy, o.destroy = function () {
                this.Particle_destroy(), this.path = this.initialPosition = null
            }, r.parseArt = function (t) {
                return a.parseArt(t)
            }, r.parseData = function (t) {
                var i = {};
                if (t && t.path) try {
                    i.path = d(t.path)
                } catch (t) {
                    s.verbose && console.error("PathParticle: error in parsing path expression"), i.path = null
                } else s.verbose && console.error("PathParticle requires a path string in extraData!"), i.path = null;
                return i
            }, i.exports = r
        }, {
            "./Particle": 3,
            "./ParticleUtils": 4
        }],
        6: [function (t, i, e) {}, {}],
        7: [function (t, i, e) {
            e.ParticleUtils = t("./ParticleUtils.js"), e.Particle = t("./Particle.js"), e.Emitter = t("./Emitter.js"), e.PathParticle = t("./PathParticle.js"), e.AnimatedParticle = t("./AnimatedParticle.js"), t("./deprecation.js")
        }, {
            "./AnimatedParticle.js": 1,
            "./Emitter.js": 2,
            "./Particle.js": 3,
            "./ParticleUtils.js": 4,
            "./PathParticle.js": 5,
            "./deprecation.js": 6
        }],
        8: [function (t, i, e) {
            "use strict";
            var s = "undefined" != typeof window ? window : GLOBAL;
            if (s.PIXI.particles || (s.PIXI.particles = {}), "undefined" != typeof i && i.exports) "undefined" == typeof PIXI && t("pixi.js"), i.exports = s.PIXI.particles || a;
            else if ("undefined" == typeof PIXI) throw "pixi-particles requires pixi.js to be loaded first";
            var a = t("./particles");
            for (var r in a) s.PIXI.particles[r] = a[r]
        }, {
            "./particles": 7,
            "pixi.js": void 0
        }]
    }, {}, [8])(8)
});
! function (t) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = t();
    else if ("function" == typeof define && define.amd) define([], t);
    else {
        var e;
        e = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, e.PriorityQueue = t()
    }
}(function () {
    return function t(e, i, r) {
        function o(n, s) {
            if (!i[n]) {
                if (!e[n]) {
                    var h = "function" == typeof require && require;
                    if (!s && h) return h(n, !0);
                    if (a) return a(n, !0);
                    var u = new Error("Cannot find module '" + n + "'");
                    throw u.code = "MODULE_NOT_FOUND", u
                }
                var p = i[n] = {
                    exports: {}
                };
                e[n][0].call(p.exports, function (t) {
                    var i = e[n][1][t];
                    return o(i ? i : t)
                }, p, p.exports, t, e, i, r)
            }
            return i[n].exports
        }
        for (var a = "function" == typeof require && require, n = 0; n < r.length; n++) o(r[n]);
        return o
    }({
        1: [function (t, e, i) {
            var r, o, a, n, s, h = function (t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var r in e) u.call(e, r) && (t[r] = e[r]);
                    return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
                },
                u = {}.hasOwnProperty;
            r = t("./PriorityQueue/AbstractPriorityQueue"), o = t("./PriorityQueue/ArrayStrategy"), n = t("./PriorityQueue/BinaryHeapStrategy"), a = t("./PriorityQueue/BHeapStrategy"), s = function (t) {
                function e(t) {
                    t || (t = {}), t.strategy || (t.strategy = n), t.comparator || (t.comparator = function (t, e) {
                        return (t || 0) - (e || 0)
                    }), e.__super__.constructor.call(this, t)
                }
                return h(e, t), e
            }(r), s.ArrayStrategy = o, s.BinaryHeapStrategy = n, s.BHeapStrategy = a, e.exports = s
        }, {
            "./PriorityQueue/AbstractPriorityQueue": 2,
            "./PriorityQueue/ArrayStrategy": 3,
            "./PriorityQueue/BHeapStrategy": 4,
            "./PriorityQueue/BinaryHeapStrategy": 5
        }],
        2: [function (t, e, i) {
            var r;
            e.exports = r = function () {
                function t(t) {
                    var e;
                    if (null == (null != t ? t.strategy : void 0)) throw "Must pass options.strategy, a strategy";
                    if (null == (null != t ? t.comparator : void 0)) throw "Must pass options.comparator, a comparator";
                    this.priv = new t.strategy(t), this.length = (null != t && null != (e = t.initialValues) ? e.length : void 0) || 0
                }
                return t.prototype.queue = function (t) {
                    this.length++, this.priv.queue(t)
                }, t.prototype.dequeue = function (t) {
                    if (!this.length) throw "Empty queue";
                    return this.length--, this.priv.dequeue()
                }, t.prototype.peek = function (t) {
                    if (!this.length) throw "Empty queue";
                    return this.priv.peek()
                }, t.prototype.clear = function () {
                    return this.length = 0, this.priv.clear()
                }, t
            }()
        }, {}],
        3: [function (t, e, i) {
            var r, o;
            o = function (t, e, i) {
                var r, o, a;
                for (o = 0, r = t.length; r > o;) a = o + r >>> 1, i(t[a], e) >= 0 ? o = a + 1 : r = a;
                return o
            }, e.exports = r = function () {
                function t(t) {
                    var e;
                    this.options = t, this.comparator = this.options.comparator, this.data = (null != (e = this.options.initialValues) ? e.slice(0) : void 0) || [], this.data.sort(this.comparator).reverse()
                }
                return t.prototype.queue = function (t) {
                    var e;
                    e = o(this.data, t, this.comparator), this.data.splice(e, 0, t)
                }, t.prototype.dequeue = function () {
                    return this.data.pop()
                }, t.prototype.peek = function () {
                    return this.data[this.data.length - 1]
                }, t.prototype.clear = function () {
                    this.data.length = 0
                }, t
            }()
        }, {}],
        4: [function (t, e, i) {
            var r;
            e.exports = r = function () {
                function t(t) {
                    var e, i, r, o, a, n, s, h, u;
                    for (this.comparator = (null != t ? t.comparator : void 0) || function (t, e) {
                            return t - e
                        }, this.pageSize = (null != t ? t.pageSize : void 0) || 512, this.length = 0, h = 0; 1 << h < this.pageSize;) h += 1;
                    if (1 << h !== this.pageSize) throw "pageSize must be a power of two";
                    for (this._shift = h, this._emptyMemoryPageTemplate = e = [], i = r = 0, n = this.pageSize; n >= 0 ? n > r : r > n; i = n >= 0 ? ++r : --r) e.push(null);
                    if (this._memory = [], this._mask = this.pageSize - 1, t.initialValues)
                        for (s = t.initialValues, o = 0, a = s.length; a > o; o++) u = s[o], this.queue(u)
                }
                return t.prototype.queue = function (t) {
                    this.length += 1, this._write(this.length, t), this._bubbleUp(this.length, t)
                }, t.prototype.dequeue = function () {
                    var t, e;
                    return t = this._read(1), e = this._read(this.length), this.length -= 1, this.length > 0 && (this._write(1, e), this._bubbleDown(1, e)), t
                }, t.prototype.peek = function () {
                    return this._read(1)
                }, t.prototype.clear = function () {
                    this.length = 0, this._memory.length = 0
                }, t.prototype._write = function (t, e) {
                    var i;
                    for (i = t >> this._shift; i >= this._memory.length;) this._memory.push(this._emptyMemoryPageTemplate.slice(0));
                    return this._memory[i][t & this._mask] = e
                }, t.prototype._read = function (t) {
                    return this._memory[t >> this._shift][t & this._mask]
                }, t.prototype._bubbleUp = function (t, e) {
                    var i, r, o, a;
                    for (i = this.comparator; t > 1 && (r = t & this._mask, t < this.pageSize || r > 3 ? o = t & ~this._mask | r >> 1 : 2 > r ? (o = t - this.pageSize >> this._shift, o += o & ~(this._mask >> 1), o |= this.pageSize >> 1) : o = t - 2, a = this._read(o), !(i(a, e) < 0));) this._write(o, e), this._write(t, a), t = o
                }, t.prototype._bubbleDown = function (t, e) {
                    var i, r, o, a, n;
                    for (n = this.comparator; t < this.length;)
                        if (t > this._mask && !(t & this._mask - 1) ? i = r = t + 2 : t & this.pageSize >> 1 ? (i = (t & ~this._mask) >> 1, i |= t & this._mask >> 1, i = i + 1 << this._shift, r = i + 1) : (i = t + (t & this._mask), r = i + 1), i !== r && r <= this.length)
                            if (o = this._read(i), a = this._read(r), n(o, e) < 0 && n(o, a) <= 0) this._write(i, e), this._write(t, o), t = i;
                            else {
                                if (!(n(a, e) < 0)) break;
                                this._write(r, e), this._write(t, a), t = r
                            }
                    else {
                        if (!(i <= this.length)) break;
                        if (o = this._read(i), !(n(o, e) < 0)) break;
                        this._write(i, e), this._write(t, o), t = i
                    }
                }, t
            }()
        }, {}],
        5: [function (t, e, i) {
            var r;
            e.exports = r = function () {
                function t(t) {
                    var e;
                    this.comparator = (null != t ? t.comparator : void 0) || function (t, e) {
                        return t - e
                    }, this.length = 0, this.data = (null != (e = t.initialValues) ? e.slice(0) : void 0) || [], this._heapify()
                }
                return t.prototype._heapify = function () {
                    var t, e, i;
                    if (this.data.length > 0)
                        for (t = e = 1, i = this.data.length; i >= 1 ? i > e : e > i; t = i >= 1 ? ++e : --e) this._bubbleUp(t)
                }, t.prototype.queue = function (t) {
                    this.data.push(t), this._bubbleUp(this.data.length - 1)
                }, t.prototype.dequeue = function () {
                    var t, e;
                    return e = this.data[0], t = this.data.pop(), this.data.length > 0 && (this.data[0] = t, this._bubbleDown(0)), e
                }, t.prototype.peek = function () {
                    return this.data[0]
                }, t.prototype.clear = function () {
                    this.length = 0, this.data.length = 0
                }, t.prototype._bubbleUp = function (t) {
                    for (var e, i; t > 0 && (e = t - 1 >>> 1, this.comparator(this.data[t], this.data[e]) < 0);) i = this.data[e], this.data[e] = this.data[t], this.data[t] = i, t = e
                }, t.prototype._bubbleDown = function (t) {
                    var e, i, r, o, a;
                    for (e = this.data.length - 1;;) {
                        if (i = (t << 1) + 1, o = i + 1, r = t, e >= i && this.comparator(this.data[i], this.data[r]) < 0 && (r = i), e >= o && this.comparator(this.data[o], this.data[r]) < 0 && (r = o), r === t) break;
                        a = this.data[r], this.data[r] = this.data[t], this.data[t] = a, t = r
                    }
                }, t
            }()
        }, {}]
    }, {}, [1])(1)
});
var $jscomp = {
    scope: {}
};
$jscomp.defineProperty = "function" == typeof Object.defineProperties ? Object.defineProperty : function (e, r, p) {
    if (p.get || p.set) throw new TypeError("ES3 does not support getters and setters.");
    e != Array.prototype && e != Object.prototype && (e[r] = p.value)
};
$jscomp.getGlobal = function (e) {
    return "undefined" != typeof window && window === e ? e : "undefined" != typeof global && null != global ? global : e
};
$jscomp.global = $jscomp.getGlobal(this);
$jscomp.SYMBOL_PREFIX = "jscomp_symbol_";
$jscomp.initSymbol = function () {
    $jscomp.initSymbol = function () {};
    $jscomp.global.Symbol || ($jscomp.global.Symbol = $jscomp.Symbol)
};
$jscomp.symbolCounter_ = 0;
$jscomp.Symbol = function (e) {
    return $jscomp.SYMBOL_PREFIX + (e || "") + $jscomp.symbolCounter_++
};
$jscomp.initSymbolIterator = function () {
    $jscomp.initSymbol();
    var e = $jscomp.global.Symbol.iterator;
    e || (e = $jscomp.global.Symbol.iterator = $jscomp.global.Symbol("iterator"));
    "function" != typeof Array.prototype[e] && $jscomp.defineProperty(Array.prototype, e, {
        configurable: !0,
        writable: !0,
        value: function () {
            return $jscomp.arrayIterator(this)
        }
    });
    $jscomp.initSymbolIterator = function () {}
};
$jscomp.arrayIterator = function (e) {
    var r = 0;
    return $jscomp.iteratorPrototype(function () {
        return r < e.length ? {
            done: !1,
            value: e[r++]
        } : {
            done: !0
        }
    })
};
$jscomp.iteratorPrototype = function (e) {
    $jscomp.initSymbolIterator();
    e = {
        next: e
    };
    e[$jscomp.global.Symbol.iterator] = function () {
        return this
    };
    return e
};
$jscomp.array = $jscomp.array || {};
$jscomp.iteratorFromArray = function (e, r) {
    $jscomp.initSymbolIterator();
    e instanceof String && (e += "");
    var p = 0,
        m = {
            next: function () {
                if (p < e.length) {
                    var u = p++;
                    return {
                        value: r(u, e[u]),
                        done: !1
                    }
                }
                m.next = function () {
                    return {
                        done: !0,
                        value: void 0
                    }
                };
                return m.next()
            }
        };
    m[Symbol.iterator] = function () {
        return m
    };
    return m
};
$jscomp.polyfill = function (e, r, p, m) {
    if (r) {
        p = $jscomp.global;
        e = e.split(".");
        for (m = 0; m < e.length - 1; m++) {
            var u = e[m];
            u in p || (p[u] = {});
            p = p[u]
        }
        e = e[e.length - 1];
        m = p[e];
        r = r(m);
        r != m && null != r && $jscomp.defineProperty(p, e, {
            configurable: !0,
            writable: !0,
            value: r
        })
    }
};
$jscomp.polyfill("Array.prototype.keys", function (e) {
    return e ? e : function () {
        return $jscomp.iteratorFromArray(this, function (e) {
            return e
        })
    }
}, "es6-impl", "es3");
var $jscomp$this = this;
(function (e, r) {
    "function" === typeof define && define.amd ? define([], r) : "object" === typeof module && module.exports ? module.exports = r() : e.anime = r()
})(this, function () {
    function e(a) {
        if (!h.col(a)) try {
            return document.querySelectorAll(a)
        } catch (c) {}
    }
    function r(a, c) {
        for (var d = a.length, b = 2 <= arguments.length ? arguments[1] : void 0, f = [], n = 0; n < d; n++)
            if (n in a) {
                var k = a[n];
                c.call(b, k, n, a) && f.push(k)
            } return f
    }
    function p(a) {
        return a.reduce(function (a, d) {
            return a.concat(h.arr(d) ? p(d) : d)
        }, [])
    }
    function m(a) {
        if (h.arr(a)) return a;
        h.str(a) && (a = e(a) || a);
        return a instanceof NodeList || a instanceof HTMLCollection ? [].slice.call(a) : [a]
    }
    function u(a, c) {
        return a.some(function (a) {
            return a === c
        })
    }
    function C(a) {
        var c = {},
            d;
        for (d in a) c[d] = a[d];
        return c
    }
    function D(a, c) {
        var d = C(a),
            b;
        for (b in a) d[b] = c.hasOwnProperty(b) ? c[b] : a[b];
        return d
    }
    function z(a, c) {
        var d = C(a),
            b;
        for (b in c) d[b] = h.und(a[b]) ? c[b] : a[b];
        return d
    }
    function T(a) {
        a = a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i, function (a, c, d, k) {
            return c + c + d + d + k + k
        });
        var c = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);
        a = parseInt(c[1], 16);
        var d = parseInt(c[2], 16),
            c = parseInt(c[3], 16);
        return "rgba(" + a + "," + d + "," + c + ",1)"
    }
    function U(a) {
        function c(a, c, b) {
            0 > b && (b += 1);
            1 < b && --b;
            return b < 1 / 6 ? a + 6 * (c - a) * b : .5 > b ? c : b < 2 / 3 ? a + (c - a) * (2 / 3 - b) * 6 : a
        }
        var d = /hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(a) || /hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(a);
        a = parseInt(d[1]) / 360;
        var b = parseInt(d[2]) / 100,
            f = parseInt(d[3]) / 100,
            d = d[4] || 1;
        if (0 == b) f = b = a = f;
        else {
            var n = .5 > f ? f * (1 + b) : f + b - f * b,
                k = 2 * f - n,
                f = c(k, n, a + 1 / 3),
                b = c(k, n, a);
            a = c(k, n, a - 1 / 3)
        }
        return "rgba(" +
            255 * f + "," + 255 * b + "," + 255 * a + "," + d + ")"
    }
    function y(a) {
        if (a = /([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(a)) return a[2]
    }
    function V(a) {
        if (-1 < a.indexOf("translate") || "perspective" === a) return "px";
        if (-1 < a.indexOf("rotate") || -1 < a.indexOf("skew")) return "deg"
    }
    function I(a, c) {
        return h.fnc(a) ? a(c.target, c.id, c.total) : a
    }
    function E(a, c) {
        if (c in a.style) return getComputedStyle(a).getPropertyValue(c.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase()) || "0"
    }
    function J(a, c) {
        if (h.dom(a) &&
            u(W, c)) return "transform";
        if (h.dom(a) && (a.getAttribute(c) || h.svg(a) && a[c])) return "attribute";
        if (h.dom(a) && "transform" !== c && E(a, c)) return "css";
        if (null != a[c]) return "object"
    }
    function X(a, c) {
        var d = V(c),
            d = -1 < c.indexOf("scale") ? 1 : 0 + d;
        a = a.style.transform;
        if (!a) return d;
        for (var b = [], f = [], n = [], k = /(\w+)\((.+?)\)/g; b = k.exec(a);) f.push(b[1]), n.push(b[2]);
        a = r(n, function (a, b) {
            return f[b] === c
        });
        return a.length ? a[0] : d
    }
    function K(a, c) {
        switch (J(a, c)) {
        case "transform":
            return X(a, c);
        case "css":
            return E(a, c);
        case "attribute":
            return a.getAttribute(c)
        }
        return a[c] ||
            0
    }
    function L(a, c) {
        var d = /^(\*=|\+=|-=)/.exec(a);
        if (!d) return a;
        var b = y(a) || 0;
        c = parseFloat(c);
        a = parseFloat(a.replace(d[0], ""));
        switch (d[0][0]) {
        case "+":
            return c + a + b;
        case "-":
            return c - a + b;
        case "*":
            return c * a + b
        }
    }
    function F(a, c) {
        return Math.sqrt(Math.pow(c.x - a.x, 2) + Math.pow(c.y - a.y, 2))
    }
    function M(a) {
        a = a.points;
        for (var c = 0, d, b = 0; b < a.numberOfItems; b++) {
            var f = a.getItem(b);
            0 < b && (c += F(d, f));
            d = f
        }
        return c
    }
    function N(a) {
        if (a.getTotalLength) return a.getTotalLength();
        switch (a.tagName.toLowerCase()) {
        case "circle":
            return 2 *
                Math.PI * a.getAttribute("r");
        case "rect":
            return 2 * a.getAttribute("width") + 2 * a.getAttribute("height");
        case "line":
            return F({
                x: a.getAttribute("x1"),
                y: a.getAttribute("y1")
            }, {
                x: a.getAttribute("x2"),
                y: a.getAttribute("y2")
            });
        case "polyline":
            return M(a);
        case "polygon":
            var c = a.points;
            return M(a) + F(c.getItem(c.numberOfItems - 1), c.getItem(0))
        }
    }
    function Y(a, c) {
        function d(b) {
            b = void 0 === b ? 0 : b;
            return a.el.getPointAtLength(1 <= c + b ? c + b : 0)
        }
        var b = d(),
            f = d(-1),
            n = d(1);
        switch (a.property) {
        case "x":
            return b.x;
        case "y":
            return b.y;
        case "angle":
            return 180 * Math.atan2(n.y - f.y, n.x - f.x) / Math.PI
        }
    }
    function O(a, c) {
        var d = /-?\d*\.?\d+/g,
            b;
        b = h.pth(a) ? a.totalLength : a;
        if (h.col(b))
            if (h.rgb(b)) {
                var f = /rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(b);
                b = f ? "rgba(" + f[1] + ",1)" : b
            } else b = h.hex(b) ? T(b) : h.hsl(b) ? U(b) : void 0;
        else f = (f = y(b)) ? b.substr(0, b.length - f.length) : b, b = c && !/\s/g.test(b) ? f + c : f;
        b += "";
        return {
            original: b,
            numbers: b.match(d) ? b.match(d).map(Number) : [0],
            strings: h.str(a) || c ? b.split(d) : []
        }
    }
    function P(a) {
        a = a ? p(h.arr(a) ? a.map(m) : m(a)) : [];
        return r(a,
            function (a, d, b) {
                return b.indexOf(a) === d
            })
    }
    function Z(a) {
        var c = P(a);
        return c.map(function (a, b) {
            return {
                target: a,
                id: b,
                total: c.length
            }
        })
    }
    function aa(a, c) {
        var d = C(c);
        if (h.arr(a)) {
            var b = a.length;
            2 !== b || h.obj(a[0]) ? h.fnc(c.duration) || (d.duration = c.duration / b) : a = {
                value: a
            }
        }
        return m(a).map(function (a, b) {
            b = b ? 0 : c.delay;
            a = h.obj(a) && !h.pth(a) ? a : {
                value: a
            };
            h.und(a.delay) && (a.delay = b);
            return a
        }).map(function (a) {
            return z(a, d)
        })
    }
    function ba(a, c) {
        var d = {},
            b;
        for (b in a) {
            var f = I(a[b], c);
            h.arr(f) && (f = f.map(function (a) {
                return I(a,
                    c)
            }), 1 === f.length && (f = f[0]));
            d[b] = f
        }
        d.duration = parseFloat(d.duration);
        d.delay = parseFloat(d.delay);
        return d
    }
    function ca(a) {
        return h.arr(a) ? A.apply(this, a) : Q[a]
    }
    function da(a, c) {
        var d;
        return a.tweens.map(function (b) {
            b = ba(b, c);
            var f = b.value,
                e = K(c.target, a.name),
                k = d ? d.to.original : e,
                k = h.arr(f) ? f[0] : k,
                w = L(h.arr(f) ? f[1] : f, k),
                e = y(w) || y(k) || y(e);
            b.from = O(k, e);
            b.to = O(w, e);
            b.start = d ? d.end : a.offset;
            b.end = b.start + b.delay + b.duration;
            b.easing = ca(b.easing);
            b.elasticity = (1E3 - Math.min(Math.max(b.elasticity, 1), 999)) /
                1E3;
            b.isPath = h.pth(f);
            b.isColor = h.col(b.from.original);
            b.isColor && (b.round = 1);
            return d = b
        })
    }
    function ea(a, c) {
        return r(p(a.map(function (a) {
            return c.map(function (b) {
                var c = J(a.target, b.name);
                if (c) {
                    var d = da(b, a);
                    b = {
                        type: c,
                        property: b.name,
                        animatable: a,
                        tweens: d,
                        duration: d[d.length - 1].end,
                        delay: d[0].delay
                    }
                } else b = void 0;
                return b
            })
        })), function (a) {
            return !h.und(a)
        })
    }
    function R(a, c, d, b) {
        var f = "delay" === a;
        return c.length ? (f ? Math.min : Math.max).apply(Math, c.map(function (b) {
                return b[a]
            })) : f ? b.delay : d.offset + b.delay +
            b.duration
    }
    function fa(a) {
        var c = D(ga, a),
            d = D(S, a),
            b = Z(a.targets),
            f = [],
            e = z(c, d),
            k;
        for (k in a) e.hasOwnProperty(k) || "targets" === k || f.push({
            name: k,
            offset: e.offset,
            tweens: aa(a[k], d)
        });
        a = ea(b, f);
        return z(c, {
            children: [],
            animatables: b,
            animations: a,
            duration: R("duration", a, c, d),
            delay: R("delay", a, c, d)
        })
    }
    function q(a) {
        function c() {
            return window.Promise && new Promise(function (a) {
                return p = a
            })
        }
        function d(a) {
            return g.reversed ? g.duration - a : a
        }
        function b(a) {
            for (var b = 0, c = {}, d = g.animations, f = d.length; b < f;) {
                var e = d[b],
                    k = e.animatable,
                    h = e.tweens,
                    n = h.length - 1,
                    l = h[n];
                n && (l = r(h, function (b) {
                    return a < b.end
                })[0] || l);
                for (var h = Math.min(Math.max(a - l.start - l.delay, 0), l.duration) / l.duration, w = isNaN(h) ? 1 : l.easing(h, l.elasticity), h = l.to.strings, p = l.round, n = [], m = void 0, m = l.to.numbers.length, t = 0; t < m; t++) {
                    var x = void 0,
                        x = l.to.numbers[t],
                        q = l.from.numbers[t],
                        x = l.isPath ? Y(l.value, w * x) : q + w * (x - q);
                    p && (l.isColor && 2 < t || (x = Math.round(x * p) / p));
                    n.push(x)
                }
                if (l = h.length)
                    for (m = h[0], w = 0; w < l; w++) p = h[w + 1], t = n[w], isNaN(t) || (m = p ? m + (t + p) : m + (t + " "));
                else m = n[0];
                ha[e.type](k.target, e.property, m, c, k.id);
                e.currentValue = m;
                b++
            }
            if (b = Object.keys(c).length)
                for (d = 0; d < b; d++) H || (H = E(document.body, "transform") ? "transform" : "-webkit-transform"), g.animatables[d].target.style[H] = c[d].join(" ");
            g.currentTime = a;
            g.progress = a / g.duration * 100
        }
        function f(a) {
            if (g[a]) g[a](g)
        }
        function e() {
            g.remaining && !0 !== g.remaining && g.remaining--
        }
        function k(a) {
            var k = g.duration,
                n = g.offset,
                w = n + g.delay,
                r = g.currentTime,
                x = g.reversed,
                q = d(a);
            if (g.children.length) {
                var u = g.children,
                    v = u.length;
                if (q >= g.currentTime)
                    for (var G = 0; G < v; G++) u[G].seek(q);
                else
                    for (; v--;) u[v].seek(q)
            }
            if (q >= w || !k) g.began || (g.began = !0, f("begin")), f("run");
            if (q > n && q < k) b(q);
            else if (q <= n && 0 !== r && (b(0), x && e()), q >= k && r !== k || !k) b(k), x || e();
            f("update");
            a >= k && (g.remaining ? (t = h, "alternate" === g.direction && (g.reversed = !g.reversed)) : (g.pause(), g.completed || (g.completed = !0, f("complete"), "Promise" in window && (p(), m = c()))), l = 0)
        }
        a = void 0 === a ? {} : a;
        var h, t, l = 0,
            p = null,
            m = c(),
            g = fa(a);
        g.reset = function () {
            var a = g.direction,
                c = g.loop;
            g.currentTime =
                0;
            g.progress = 0;
            g.paused = !0;
            g.began = !1;
            g.completed = !1;
            g.reversed = "reverse" === a;
            g.remaining = "alternate" === a && 1 === c ? 2 : c;
            b(0);
            for (a = g.children.length; a--;) g.children[a].reset()
        };
        g.tick = function (a) {
            h = a;
            t || (t = h);
            k((l + h - t) * q.speed)
        };
        g.seek = function (a) {
            k(d(a))
        };
        g.pause = function () {
            var a = v.indexOf(g); - 1 < a && v.splice(a, 1);
            g.paused = !0
        };
        g.play = function () {
            g.paused && (g.paused = !1, t = 0, l = d(g.currentTime), v.push(g), B || ia())
        };
        g.reverse = function () {
            g.reversed = !g.reversed;
            t = 0;
            l = d(g.currentTime)
        };
        g.restart = function () {
            g.pause();
            g.reset();
            g.play()
        };
        g.finished = m;
        g.reset();
        g.autoplay && g.play();
        return g
    }
    var ga = {
            update: void 0,
            begin: void 0,
            run: void 0,
            complete: void 0,
            loop: 1,
            direction: "normal",
            autoplay: !0,
            offset: 0
        },
        S = {
            duration: 1E3,
            delay: 0,
            easing: "easeOutElastic",
            elasticity: 500,
            round: 0
        },
        W = "translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),
        H, h = {
            arr: function (a) {
                return Array.isArray(a)
            },
            obj: function (a) {
                return -1 < Object.prototype.toString.call(a).indexOf("Object")
            },
            pth: function (a) {
                return h.obj(a) && a.hasOwnProperty("totalLength")
            },
            svg: function (a) {
                return a instanceof SVGElement
            },
            dom: function (a) {
                return a.nodeType || h.svg(a)
            },
            str: function (a) {
                return "string" === typeof a
            },
            fnc: function (a) {
                return "function" === typeof a
            },
            und: function (a) {
                return "undefined" === typeof a
            },
            hex: function (a) {
                return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)
            },
            rgb: function (a) {
                return /^rgb/.test(a)
            },
            hsl: function (a) {
                return /^hsl/.test(a)
            },
            col: function (a) {
                return h.hex(a) || h.rgb(a) || h.hsl(a)
            }
        },
        A = function () {
            function a(a,
                d, b) {
                return (((1 - 3 * b + 3 * d) * a + (3 * b - 6 * d)) * a + 3 * d) * a
            }
            return function (c, d, b, f) {
                if (0 <= c && 1 >= c && 0 <= b && 1 >= b) {
                    var e = new Float32Array(11);
                    if (c !== d || b !== f)
                        for (var k = 0; 11 > k; ++k) e[k] = a(.1 * k, c, b);
                    return function (k) {
                        if (c === d && b === f) return k;
                        if (0 === k) return 0;
                        if (1 === k) return 1;
                        for (var h = 0, l = 1; 10 !== l && e[l] <= k; ++l) h += .1;
                        --l;
                        var l = h + (k - e[l]) / (e[l + 1] - e[l]) * .1,
                            n = 3 * (1 - 3 * b + 3 * c) * l * l + 2 * (3 * b - 6 * c) * l + 3 * c;
                        if (.001 <= n) {
                            for (h = 0; 4 > h; ++h) {
                                n = 3 * (1 - 3 * b + 3 * c) * l * l + 2 * (3 * b - 6 * c) * l + 3 * c;
                                if (0 === n) break;
                                var m = a(l, c, b) - k,
                                    l = l - m / n
                            }
                            k = l
                        } else if (0 ===
                            n) k = l;
                        else {
                            var l = h,
                                h = h + .1,
                                g = 0;
                            do m = l + (h - l) / 2, n = a(m, c, b) - k, 0 < n ? h = m : l = m; while (1e-7 < Math.abs(n) && 10 > ++g);
                            k = m
                        }
                        return a(k, d, f)
                    }
                }
            }
        }(),
        Q = function () {
            function a(a, b) {
                return 0 === a || 1 === a ? a : -Math.pow(2, 10 * (a - 1)) * Math.sin(2 * (a - 1 - b / (2 * Math.PI) * Math.asin(1)) * Math.PI / b)
            }
            var c = "Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),
                d = {
                    In: [
                        [.55, .085, .68, .53],
                        [.55, .055, .675, .19],
                        [.895, .03, .685, .22],
                        [.755, .05, .855, .06],
                        [.47, 0, .745, .715],
                        [.95, .05, .795, .035],
                        [.6, .04, .98, .335],
                        [.6, -.28, .735, .045], a
                    ],
                    Out: [
                        [.25,
                            .46, .45, .94
                        ],
                        [.215, .61, .355, 1],
                        [.165, .84, .44, 1],
                        [.23, 1, .32, 1],
                        [.39, .575, .565, 1],
                        [.19, 1, .22, 1],
                        [.075, .82, .165, 1],
                        [.175, .885, .32, 1.275],
                        function (b, c) {
                            return 1 - a(1 - b, c)
                        }
                    ],
                    InOut: [
                        [.455, .03, .515, .955],
                        [.645, .045, .355, 1],
                        [.77, 0, .175, 1],
                        [.86, 0, .07, 1],
                        [.445, .05, .55, .95],
                        [1, 0, 0, 1],
                        [.785, .135, .15, .86],
                        [.68, -.55, .265, 1.55],
                        function (b, c) {
                            return .5 > b ? a(2 * b, c) / 2 : 1 - a(-2 * b + 2, c) / 2
                        }
                    ]
                },
                b = {
                    linear: A(.25, .25, .75, .75)
                },
                f = {},
                e;
            for (e in d) f.type = e, d[f.type].forEach(function (a) {
                return function (d, f) {
                    b["ease" + a.type + c[f]] = h.fnc(d) ?
                        d : A.apply($jscomp$this, d)
                }
            }(f)), f = {
                type: f.type
            };
            return b
        }(),
        ha = {
            css: function (a, c, d) {
                return a.style[c] = d
            },
            attribute: function (a, c, d) {
                return a.setAttribute(c, d)
            },
            object: function (a, c, d) {
                return a[c] = d
            },
            transform: function (a, c, d, b, f) {
                b[f] || (b[f] = []);
                b[f].push(c + "(" + d + ")")
            }
        },
        v = [],
        B = 0,
        ia = function () {
            function a() {
                B = requestAnimationFrame(c)
            }
            function c(c) {
                var b = v.length;
                if (b) {
                    for (var d = 0; d < b;) v[d] && v[d].tick(c), d++;
                    a()
                } else cancelAnimationFrame(B), B = 0
            }
            return a
        }();
    q.version = "2.2.0";
    q.speed = 1;
    q.running = v;
    q.remove =
        function (a) {
            a = P(a);
            for (var c = v.length; c--;)
                for (var d = v[c], b = d.animations, f = b.length; f--;) u(a, b[f].animatable.target) && (b.splice(f, 1), b.length || d.pause())
        };
    q.getValue = K;
    q.path = function (a, c) {
        var d = h.str(a) ? e(a)[0] : a,
            b = c || 100;
        return function (a) {
            return {
                el: d,
                property: a,
                totalLength: N(d) * (b / 100)
            }
        }
    };
    q.setDashoffset = function (a) {
        var c = N(a);
        a.setAttribute("stroke-dasharray", c);
        return c
    };
    q.bezier = A;
    q.easings = Q;
    q.timeline = function (a) {
        var c = q(a);
        c.pause();
        c.duration = 0;
        c.add = function (d) {
            c.children.forEach(function (a) {
                a.began = !0;
                a.completed = !0
            });
            m(d).forEach(function (b) {
                var d = z(b, D(S, a || {}));
                d.targets = d.targets || a.targets;
                b = c.duration;
                var e = d.offset;
                d.autoplay = !1;
                d.direction = c.direction;
                d.offset = h.und(e) ? b : L(e, b);
                c.began = !0;
                c.completed = !0;
                c.seek(d.offset);
                d = q(d);
                d.began = !0;
                d.completed = !0;
                d.duration > b && (c.duration = d.duration);
                c.children.push(d)
            });
            c.seek(0);
            c.reset();
            c.autoplay && c.restart();
            return c
        };
        return c
    };
    q.random = function (a, c) {
        return Math.floor(Math.random() * (c - a + 1)) + a
    };
    return q
});
(function (a, b) {
    if ("function" == typeof define && define.amd) define([], b);
    else if ("undefined" != typeof exports) b();
    else {
        b(), a.FileSaver = {
            exports: {}
        }.exports
    }
})(this, function () {
    "use strict";
    function b(a, b) {
        return "undefined" == typeof b ? b = {
            autoBom: !1
        } : "object" != typeof b && (console.warn("Deprecated: Expected third argument to be a object"), b = {
            autoBom: !b
        }), b.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type) ? new Blob(["", a], {
            type: a.type
        }) : a
    }
    function c(b, c, d) {
        var e = new XMLHttpRequest;
        e.open("GET", b), e.responseType = "blob", e.onload = function () {
            a(e.response, c, d)
        }, e.onerror = function () {
            console.error("could not download file")
        }, e.send()
    }
    function d(a) {
        var b = new XMLHttpRequest;
        return b.open("HEAD", a, !1), b.send(), 200 <= b.status && 299 >= b.status
    }
    function e(a) {
        try {
            a.dispatchEvent(new MouseEvent("click"))
        } catch (c) {
            var b = document.createEvent("MouseEvents");
            b.initMouseEvent("click", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), a.dispatchEvent(b)
        }
    }
    var f = "object" == typeof window && window.window === window ? window : "object" == typeof self && self.self === self ? self : "object" == typeof global && global.global === global ? global : void 0,
        a = f.saveAs || ("object" != typeof window || window !== f ? function () {} : "download" in HTMLAnchorElement.prototype ? function (b, g, h) {
            var i = f.URL || f.webkitURL,
                j = document.createElement("a");
            g = g || b.name || "download", j.download = g, j.rel = "noopener", "string" == typeof b ? (j.href = b, j.origin === location.origin ? e(j) : d(j.href) ? c(b, g, h) : e(j, j.target = "_blank")) : (j.href = i.createObjectURL(b), setTimeout(function () {
                i.revokeObjectURL(j.href)
            }, 4E4), setTimeout(function () {
                e(j)
            }, 0))
        } : "msSaveOrOpenBlob" in navigator ? function (f, g, h) {
            if (g = g || f.name || "download", "string" != typeof f) navigator.msSaveOrOpenBlob(b(f, h), g);
            else if (d(f)) c(f, g, h);
            else {
                var i = document.createElement("a");
                i.href = f, i.target = "_blank", setTimeout(function () {
                    e(i)
                })
            }
        } : function (a, b, d, e) {
            if (e = e || open("", "_blank"), e && (e.document.title = e.document.body.innerText = "downloading..."), "string" == typeof a) return c(a, b, d);
            var g = "application/octet-stream" === a.type,
                h = /constructor/i.test(f.HTMLElement) || f.safari,
                i = /CriOS\/[\d]+/.test(navigator.userAgent);
            if ((i || g && h) && "object" == typeof FileReader) {
                var j = new FileReader;
                j.onloadend = function () {
                    var a = j.result;
                    a = i ? a : a.replace(/^data:[^;]*;/, "data:attachment/file;"), e ? e.location.href = a : location = a, e = null
                }, j.readAsDataURL(a)
            } else {
                var k = f.URL || f.webkitURL,
                    l = k.createObjectURL(a);
                e ? e.location = l : location.href = l, e = null, setTimeout(function () {
                    k.revokeObjectURL(l)
                }, 4E4)
            }
        });
    f.saveAs = a.saveAs = a, "undefined" != typeof module && (module.exports = a)
});
! function (global, factory) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = global.document ? factory(global, !0) : function (w) {
        if (!w.document) throw new Error("jQuery requires a window with a document");
        return factory(w)
    } : factory(global)
}("undefined" != typeof window ? window : this, function (window, noGlobal) {
    var deletedIds = [],
        document = window.document,
        slice = deletedIds.slice,
        concat = deletedIds.concat,
        push = deletedIds.push,
        indexOf = deletedIds.indexOf,
        class2type = {},
        toString = class2type.toString,
        hasOwn = class2type.hasOwnProperty,
        support = {},
        jQuery = function (selector, context) {
            return new jQuery.fn.init(selector, context)
        },
        rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
        rmsPrefix = /^-ms-/,
        rdashAlpha = /-([\da-z])/gi,
        fcamelCase = function (all, letter) {
            return letter.toUpperCase()
        };
    function isArrayLike(obj) {
        var length = !!obj && "length" in obj && obj.length,
            type = jQuery.type(obj);
        return "function" !== type && !jQuery.isWindow(obj) && ("array" === type || 0 === length || "number" == typeof length && length > 0 && length - 1 in obj)
    }
    jQuery.fn = jQuery.prototype = {
        jquery: "1.12.4",
        constructor: jQuery,
        selector: "",
        length: 0,
        toArray: function () {
            return slice.call(this)
        },
        get: function (num) {
            return null != num ? num < 0 ? this[num + this.length] : this[num] : slice.call(this)
        },
        pushStack: function (elems) {
            var ret = jQuery.merge(this.constructor(), elems);
            return ret.prevObject = this, ret.context = this.context, ret
        },
        each: function (callback) {
            return jQuery.each(this, callback)
        },
        map: function (callback) {
            return this.pushStack(jQuery.map(this, function (elem, i) {
                return callback.call(elem, i, elem)
            }))
        },
        slice: function () {
            return this.pushStack(slice.apply(this, arguments))
        },
        first: function () {
            return this.eq(0)
        },
        last: function () {
            return this.eq(-1)
        },
        eq: function (i) {
            var len = this.length,
                j = +i + (i < 0 ? len : 0);
            return this.pushStack(j >= 0 && j < len ? [this[j]] : [])
        },
        end: function () {
            return this.prevObject || this.constructor()
        },
        push: push,
        sort: deletedIds.sort,
        splice: deletedIds.splice
    }, jQuery.extend = jQuery.fn.extend = function () {
        var src, copyIsArray, copy, name, options, clone, target = arguments[0] || {},
            i = 1,
            length = arguments.length,
            deep = !1;
        for ("boolean" == typeof target && (deep = target, target = arguments[i] || {}, i++), "object" == typeof target || jQuery.isFunction(target) || (target = {}), i === length && (target = this, i--); i < length; i++)
            if (null != (options = arguments[i]))
                for (name in options) src = target[name], target !== (copy = options[name]) && (deep && copy && (jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy))) ? (copyIsArray ? (copyIsArray = !1, clone = src && jQuery.isArray(src) ? src : []) : clone = src && jQuery.isPlainObject(src) ? src : {}, target[name] = jQuery.extend(deep, clone, copy)) : void 0 !== copy && (target[name] = copy));
        return target
    }, jQuery.extend({
        expando: "jQuery" + ("1.12.4" + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function (msg) {
            throw new Error(msg)
        },
        noop: function () {},
        isFunction: function (obj) {
            return "function" === jQuery.type(obj)
        },
        isArray: Array.isArray || function (obj) {
            return "array" === jQuery.type(obj)
        },
        isWindow: function (obj) {
            return null != obj && obj == obj.window
        },
        isNumeric: function (obj) {
            var realStringObj = obj && obj.toString();
            return !jQuery.isArray(obj) && realStringObj - parseFloat(realStringObj) + 1 >= 0
        },
        isEmptyObject: function (obj) {
            var name;
            for (name in obj) return !1;
            return !0
        },
        isPlainObject: function (obj) {
            var key;
            if (!obj || "object" !== jQuery.type(obj) || obj.nodeType || jQuery.isWindow(obj)) return !1;
            try {
                if (obj.constructor && !hasOwn.call(obj, "constructor") && !hasOwn.call(obj.constructor.prototype, "isPrototypeOf")) return !1
            } catch (e) {
                return !1
            }
            if (!support.ownFirst)
                for (key in obj) return hasOwn.call(obj, key);
            for (key in obj);
            return void 0 === key || hasOwn.call(obj, key)
        },
        type: function (obj) {
            return null == obj ? obj + "" : "object" == typeof obj || "function" == typeof obj ? class2type[toString.call(obj)] || "object" : typeof obj
        },
        globalEval: function (data) {
            data && jQuery.trim(data) && (window.execScript || function (data) {
                window.eval.call(window, data)
            })(data)
        },
        camelCase: function (string) {
            return string.replace(rmsPrefix, "ms-").replace(rdashAlpha, fcamelCase)
        },
        nodeName: function (elem, name) {
            return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase()
        },
        each: function (obj, callback) {
            var length, i = 0;
            if (isArrayLike(obj))
                for (length = obj.length; i < length && !1 !== callback.call(obj[i], i, obj[i]); i++);
            else
                for (i in obj)
                    if (!1 === callback.call(obj[i], i, obj[i])) break;
            return obj
        },
        trim: function (text) {
            return null == text ? "" : (text + "").replace(rtrim, "")
        },
        makeArray: function (arr, results) {
            var ret = results || [];
            return null != arr && (isArrayLike(Object(arr)) ? jQuery.merge(ret, "string" == typeof arr ? [arr] : arr) : push.call(ret, arr)), ret
        },
        inArray: function (elem, arr, i) {
            var len;
            if (arr) {
                if (indexOf) return indexOf.call(arr, elem, i);
                for (len = arr.length, i = i ? i < 0 ? Math.max(0, len + i) : i : 0; i < len; i++)
                    if (i in arr && arr[i] === elem) return i
            }
            return -1
        },
        merge: function (first, second) {
            for (var len = +second.length, j = 0, i = first.length; j < len;) first[i++] = second[j++];
            if (len != len)
                for (; void 0 !== second[j];) first[i++] = second[j++];
            return first.length = i, first
        },
        grep: function (elems, callback, invert) {
            for (var matches = [], i = 0, length = elems.length, callbackExpect = !invert; i < length; i++) !callback(elems[i], i) !== callbackExpect && matches.push(elems[i]);
            return matches
        },
        map: function (elems, callback, arg) {
            var length, value, i = 0,
                ret = [];
            if (isArrayLike(elems))
                for (length = elems.length; i < length; i++) null != (value = callback(elems[i], i, arg)) && ret.push(value);
            else
                for (i in elems) null != (value = callback(elems[i], i, arg)) && ret.push(value);
            return concat.apply([], ret)
        },
        guid: 1,
        proxy: function (fn, context) {
            var args, proxy, tmp;
            if ("string" == typeof context && (tmp = fn[context], context = fn, fn = tmp), jQuery.isFunction(fn)) return args = slice.call(arguments, 2), (proxy = function () {
                return fn.apply(context || this, args.concat(slice.call(arguments)))
            }).guid = fn.guid = fn.guid || jQuery.guid++, proxy
        },
        now: function () {
            return +new Date
        },
        support: support
    }), "function" == typeof Symbol && (jQuery.fn[Symbol.iterator] = deletedIds[Symbol.iterator]), jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (i, name) {
        class2type["[object " + name + "]"] = name.toLowerCase()
    });
    var Sizzle = function (window) {
        var i, support, Expr, getText, isXML, tokenize, compile, select, outermostContext, sortInput, hasDuplicate, setDocument, document, docElem, documentIsHTML, rbuggyQSA, rbuggyMatches, matches, contains, expando = "sizzle" + 1 * new Date,
            preferredDoc = window.document,
            dirruns = 0,
            done = 0,
            classCache = createCache(),
            tokenCache = createCache(),
            compilerCache = createCache(),
            sortOrder = function (a, b) {
                return a === b && (hasDuplicate = !0), 0
            },
            MAX_NEGATIVE = 1 << 31,
            hasOwn = {}.hasOwnProperty,
            arr = [],
            pop = arr.pop,
            push_native = arr.push,
            push = arr.push,
            slice = arr.slice,
            indexOf = function (list, elem) {
                for (var i = 0, len = list.length; i < len; i++)
                    if (list[i] === elem) return i;
                return -1
            },
            booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
            whitespace = "[\\x20\\t\\r\\n\\f]",
            identifier = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
            attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace + "*([*^$|!~]?=)" + whitespace + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace + "*\\]",
            pseudos = ":(" + identifier + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|.*)\\)|)",
            rwhitespace = new RegExp(whitespace + "+", "g"),
            rtrim = new RegExp("^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g"),
            rcomma = new RegExp("^" + whitespace + "*," + whitespace + "*"),
            rcombinators = new RegExp("^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*"),
            rattributeQuotes = new RegExp("=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g"),
            rpseudo = new RegExp(pseudos),
            ridentifier = new RegExp("^" + identifier + "$"),
            matchExpr = {
                ID: new RegExp("^#(" + identifier + ")"),
                CLASS: new RegExp("^\\.(" + identifier + ")"),
                TAG: new RegExp("^(" + identifier + "|[*])"),
                ATTR: new RegExp("^" + attributes),
                PSEUDO: new RegExp("^" + pseudos),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i"),
                bool: new RegExp("^(?:" + booleans + ")$", "i"),
                needsContext: new RegExp("^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i")
            },
            rinputs = /^(?:input|select|textarea|button)$/i,
            rheader = /^h\d$/i,
            rnative = /^[^{]+\{\s*\[native \w/,
            rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            rsibling = /[+~]/,
            rescape = /'|\\/g,
            runescape = new RegExp("\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig"),
            funescape = function (_, escaped, escapedWhitespace) {
                var high = "0x" + escaped - 65536;
                return high != high || escapedWhitespace ? escaped : high < 0 ? String.fromCharCode(high + 65536) : String.fromCharCode(high >> 10 | 55296, 1023 & high | 56320)
            },
            unloadHandler = function () {
                setDocument()
            };
        try {
            push.apply(arr = slice.call(preferredDoc.childNodes), preferredDoc.childNodes), arr[preferredDoc.childNodes.length].nodeType
        } catch (e) {
            push = {
                apply: arr.length ? function (target, els) {
                    push_native.apply(target, slice.call(els))
                } : function (target, els) {
                    for (var j = target.length, i = 0; target[j++] = els[i++];);
                    target.length = j - 1
                }
            }
        }
        function Sizzle(selector, context, results, seed) {
            var m, i, elem, nid, nidselect, match, groups, newSelector, newContext = context && context.ownerDocument,
                nodeType = context ? context.nodeType : 9;
            if (results = results || [], "string" != typeof selector || !selector || 1 !== nodeType && 9 !== nodeType && 11 !== nodeType) return results;
            if (!seed && ((context ? context.ownerDocument || context : preferredDoc) !== document && setDocument(context), context = context || document, documentIsHTML)) {
                if (11 !== nodeType && (match = rquickExpr.exec(selector)))
                    if (m = match[1]) {
                        if (9 === nodeType) {
                            if (!(elem = context.getElementById(m))) return results;
                            if (elem.id === m) return results.push(elem), results
                        } else if (newContext && (elem = newContext.getElementById(m)) && contains(context, elem) && elem.id === m) return results.push(elem), results
                    } else {
                        if (match[2]) return push.apply(results, context.getElementsByTagName(selector)), results;
                        if ((m = match[3]) && support.getElementsByClassName && context.getElementsByClassName) return push.apply(results, context.getElementsByClassName(m)), results
                    } if (support.qsa && !compilerCache[selector + " "] && (!rbuggyQSA || !rbuggyQSA.test(selector))) {
                    if (1 !== nodeType) newContext = context, newSelector = selector;
                    else if ("object" !== context.nodeName.toLowerCase()) {
                        for ((nid = context.getAttribute("id")) ? nid = nid.replace(rescape, "\\$&") : context.setAttribute("id", nid = expando), i = (groups = tokenize(selector)).length, nidselect = ridentifier.test(nid) ? "#" + nid : "[id='" + nid + "']"; i--;) groups[i] = nidselect + " " + toSelector(groups[i]);
                        newSelector = groups.join(","), newContext = rsibling.test(selector) && testContext(context.parentNode) || context
                    }
                    if (newSelector) try {
                        return push.apply(results, newContext.querySelectorAll(newSelector)), results
                    } catch (qsaError) {} finally {
                        nid === expando && context.removeAttribute("id")
                    }
                }
            }
            return select(selector.replace(rtrim, "$1"), context, results, seed)
        }
        function createCache() {
            var keys = [];
            return function cache(key, value) {
                return keys.push(key + " ") > Expr.cacheLength && delete cache[keys.shift()], cache[key + " "] = value
            }
        }
        function markFunction(fn) {
            return fn[expando] = !0, fn
        }
        function assert(fn) {
            var div = document.createElement("div");
            try {
                return !!fn(div)
            } catch (e) {
                return !1
            } finally {
                div.parentNode && div.parentNode.removeChild(div), div = null
            }
        }
        function addHandle(attrs, handler) {
            for (var arr = attrs.split("|"), i = arr.length; i--;) Expr.attrHandle[arr[i]] = handler
        }
        function siblingCheck(a, b) {
            var cur = b && a,
                diff = cur && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || MAX_NEGATIVE) - (~a.sourceIndex || MAX_NEGATIVE);
            if (diff) return diff;
            if (cur)
                for (; cur = cur.nextSibling;)
                    if (cur === b) return -1;
            return a ? 1 : -1
        }
        function createInputPseudo(type) {
            return function (elem) {
                return "input" === elem.nodeName.toLowerCase() && elem.type === type
            }
        }
        function createButtonPseudo(type) {
            return function (elem) {
                var name = elem.nodeName.toLowerCase();
                return ("input" === name || "button" === name) && elem.type === type
            }
        }
        function createPositionalPseudo(fn) {
            return markFunction(function (argument) {
                return argument = +argument, markFunction(function (seed, matches) {
                    for (var j, matchIndexes = fn([], seed.length, argument), i = matchIndexes.length; i--;) seed[j = matchIndexes[i]] && (seed[j] = !(matches[j] = seed[j]))
                })
            })
        }
        function testContext(context) {
            return context && void 0 !== context.getElementsByTagName && context
        }
        for (i in support = Sizzle.support = {}, isXML = Sizzle.isXML = function (elem) {
                var documentElement = elem && (elem.ownerDocument || elem).documentElement;
                return !!documentElement && "HTML" !== documentElement.nodeName
            }, setDocument = Sizzle.setDocument = function (node) {
                var hasCompare, parent, doc = node ? node.ownerDocument || node : preferredDoc;
                return doc !== document && 9 === doc.nodeType && doc.documentElement ? (docElem = (document = doc).documentElement, documentIsHTML = !isXML(document), (parent = document.defaultView) && parent.top !== parent && (parent.addEventListener ? parent.addEventListener("unload", unloadHandler, !1) : parent.attachEvent && parent.attachEvent("onunload", unloadHandler)), support.attributes = assert(function (div) {
                    return div.className = "i", !div.getAttribute("className")
                }), support.getElementsByTagName = assert(function (div) {
                    return div.appendChild(document.createComment("")), !div.getElementsByTagName("*").length
                }), support.getElementsByClassName = rnative.test(document.getElementsByClassName), support.getById = assert(function (div) {
                    return docElem.appendChild(div).id = expando, !document.getElementsByName || !document.getElementsByName(expando).length
                }), support.getById ? (Expr.find.ID = function (id, context) {
                    if (void 0 !== context.getElementById && documentIsHTML) {
                        var m = context.getElementById(id);
                        return m ? [m] : []
                    }
                }, Expr.filter.ID = function (id) {
                    var attrId = id.replace(runescape, funescape);
                    return function (elem) {
                        return elem.getAttribute("id") === attrId
                    }
                }) : (delete Expr.find.ID, Expr.filter.ID = function (id) {
                    var attrId = id.replace(runescape, funescape);
                    return function (elem) {
                        var node = void 0 !== elem.getAttributeNode && elem.getAttributeNode("id");
                        return node && node.value === attrId
                    }
                }), Expr.find.TAG = support.getElementsByTagName ? function (tag, context) {
                    return void 0 !== context.getElementsByTagName ? context.getElementsByTagName(tag) : support.qsa ? context.querySelectorAll(tag) : void 0
                } : function (tag, context) {
                    var elem, tmp = [],
                        i = 0,
                        results = context.getElementsByTagName(tag);
                    if ("*" === tag) {
                        for (; elem = results[i++];) 1 === elem.nodeType && tmp.push(elem);
                        return tmp
                    }
                    return results
                }, Expr.find.CLASS = support.getElementsByClassName && function (className, context) {
                    if (void 0 !== context.getElementsByClassName && documentIsHTML) return context.getElementsByClassName(className)
                }, rbuggyMatches = [], rbuggyQSA = [], (support.qsa = rnative.test(document.querySelectorAll)) && (assert(function (div) {
                    docElem.appendChild(div).innerHTML = "<a id='" + expando + "'></a><select id='" + expando + "-\r\\' msallowcapture=''><option selected=''></option></select>", div.querySelectorAll("[msallowcapture^='']").length && rbuggyQSA.push("[*^$]=" + whitespace + "*(?:''|\"\")"), div.querySelectorAll("[selected]").length || rbuggyQSA.push("\\[" + whitespace + "*(?:value|" + booleans + ")"), div.querySelectorAll("[id~=" + expando + "-]").length || rbuggyQSA.push("~="), div.querySelectorAll(":checked").length || rbuggyQSA.push(":checked"), div.querySelectorAll("a#" + expando + "+*").length || rbuggyQSA.push(".#.+[+~]")
                }), assert(function (div) {
                    var input = document.createElement("input");
                    input.setAttribute("type", "hidden"), div.appendChild(input).setAttribute("name", "D"), div.querySelectorAll("[name=d]").length && rbuggyQSA.push("name" + whitespace + "*[*^$|!~]?="), div.querySelectorAll(":enabled").length || rbuggyQSA.push(":enabled", ":disabled"), div.querySelectorAll("*,:x"), rbuggyQSA.push(",.*:")
                })), (support.matchesSelector = rnative.test(matches = docElem.matches || docElem.webkitMatchesSelector || docElem.mozMatchesSelector || docElem.oMatchesSelector || docElem.msMatchesSelector)) && assert(function (div) {
                    support.disconnectedMatch = matches.call(div, "div"), matches.call(div, "[s!='']:x"), rbuggyMatches.push("!=", pseudos)
                }), rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join("|")), rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join("|")), hasCompare = rnative.test(docElem.compareDocumentPosition), contains = hasCompare || rnative.test(docElem.contains) ? function (a, b) {
                    var adown = 9 === a.nodeType ? a.documentElement : a,
                        bup = b && b.parentNode;
                    return a === bup || !(!bup || 1 !== bup.nodeType || !(adown.contains ? adown.contains(bup) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(bup)))
                } : function (a, b) {
                    if (b)
                        for (; b = b.parentNode;)
                            if (b === a) return !0;
                    return !1
                }, sortOrder = hasCompare ? function (a, b) {
                    if (a === b) return hasDuplicate = !0, 0;
                    var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
                    return compare || (1 & (compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1) || !support.sortDetached && b.compareDocumentPosition(a) === compare ? a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ? -1 : b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ? 1 : sortInput ? indexOf(sortInput, a) - indexOf(sortInput, b) : 0 : 4 & compare ? -1 : 1)
                } : function (a, b) {
                    if (a === b) return hasDuplicate = !0, 0;
                    var cur, i = 0,
                        aup = a.parentNode,
                        bup = b.parentNode,
                        ap = [a],
                        bp = [b];
                    if (!aup || !bup) return a === document ? -1 : b === document ? 1 : aup ? -1 : bup ? 1 : sortInput ? indexOf(sortInput, a) - indexOf(sortInput, b) : 0;
                    if (aup === bup) return siblingCheck(a, b);
                    for (cur = a; cur = cur.parentNode;) ap.unshift(cur);
                    for (cur = b; cur = cur.parentNode;) bp.unshift(cur);
                    for (; ap[i] === bp[i];) i++;
                    return i ? siblingCheck(ap[i], bp[i]) : ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0
                }, document) : document
            }, Sizzle.matches = function (expr, elements) {
                return Sizzle(expr, null, null, elements)
            }, Sizzle.matchesSelector = function (elem, expr) {
                if ((elem.ownerDocument || elem) !== document && setDocument(elem), expr = expr.replace(rattributeQuotes, "='$1']"), support.matchesSelector && documentIsHTML && !compilerCache[expr + " "] && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) try {
                    var ret = matches.call(elem, expr);
                    if (ret || support.disconnectedMatch || elem.document && 11 !== elem.document.nodeType) return ret
                } catch (e) {}
                return Sizzle(expr, document, null, [elem]).length > 0
            }, Sizzle.contains = function (context, elem) {
                return (context.ownerDocument || context) !== document && setDocument(context), contains(context, elem)
            }, Sizzle.attr = function (elem, name) {
                (elem.ownerDocument || elem) !== document && setDocument(elem);
                var fn = Expr.attrHandle[name.toLowerCase()],
                    val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : void 0;
                return void 0 !== val ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name) : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null
            }, Sizzle.error = function (msg) {
                throw new Error("Syntax error, unrecognized expression: " + msg)
            }, Sizzle.uniqueSort = function (results) {
                var elem, duplicates = [],
                    j = 0,
                    i = 0;
                if (hasDuplicate = !support.detectDuplicates, sortInput = !support.sortStable && results.slice(0), results.sort(sortOrder), hasDuplicate) {
                    for (; elem = results[i++];) elem === results[i] && (j = duplicates.push(i));
                    for (; j--;) results.splice(duplicates[j], 1)
                }
                return sortInput = null, results
            }, getText = Sizzle.getText = function (elem) {
                var node, ret = "",
                    i = 0,
                    nodeType = elem.nodeType;
                if (nodeType) {
                    if (1 === nodeType || 9 === nodeType || 11 === nodeType) {
                        if ("string" == typeof elem.textContent) return elem.textContent;
                        for (elem = elem.firstChild; elem; elem = elem.nextSibling) ret += getText(elem)
                    } else if (3 === nodeType || 4 === nodeType) return elem.nodeValue
                } else
                    for (; node = elem[i++];) ret += getText(node);
                return ret
            }, (Expr = Sizzle.selectors = {
                cacheLength: 50,
                createPseudo: markFunction,
                match: matchExpr,
                attrHandle: {},
                find: {},
                relative: {
                    ">": {
                        dir: "parentNode",
                        first: !0
                    },
                    " ": {
                        dir: "parentNode"
                    },
                    "+": {
                        dir: "previousSibling",
                        first: !0
                    },
                    "~": {
                        dir: "previousSibling"
                    }
                },
                preFilter: {
                    ATTR: function (match) {
                        return match[1] = match[1].replace(runescape, funescape), match[3] = (match[3] || match[4] || match[5] || "").replace(runescape, funescape), "~=" === match[2] && (match[3] = " " + match[3] + " "), match.slice(0, 4)
                    },
                    CHILD: function (match) {
                        return match[1] = match[1].toLowerCase(), "nth" === match[1].slice(0, 3) ? (match[3] || Sizzle.error(match[0]), match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * ("even" === match[3] || "odd" === match[3])), match[5] = +(match[7] + match[8] || "odd" === match[3])) : match[3] && Sizzle.error(match[0]), match
                    },
                    PSEUDO: function (match) {
                        var excess, unquoted = !match[6] && match[2];
                        return matchExpr.CHILD.test(match[0]) ? null : (match[3] ? match[2] = match[4] || match[5] || "" : unquoted && rpseudo.test(unquoted) && (excess = tokenize(unquoted, !0)) && (excess = unquoted.indexOf(")", unquoted.length - excess) - unquoted.length) && (match[0] = match[0].slice(0, excess), match[2] = unquoted.slice(0, excess)), match.slice(0, 3))
                    }
                },
                filter: {
                    TAG: function (nodeNameSelector) {
                        var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();
                        return "*" === nodeNameSelector ? function () {
                            return !0
                        } : function (elem) {
                            return elem.nodeName && elem.nodeName.toLowerCase() === nodeName
                        }
                    },
                    CLASS: function (className) {
                        var pattern = classCache[className + " "];
                        return pattern || (pattern = new RegExp("(^|" + whitespace + ")" + className + "(" + whitespace + "|$)")) && classCache(className, function (elem) {
                            return pattern.test("string" == typeof elem.className && elem.className || void 0 !== elem.getAttribute && elem.getAttribute("class") || "")
                        })
                    },
                    ATTR: function (name, operator, check) {
                        return function (elem) {
                            var result = Sizzle.attr(elem, name);
                            return null == result ? "!=" === operator : !operator || (result += "", "=" === operator ? result === check : "!=" === operator ? result !== check : "^=" === operator ? check && 0 === result.indexOf(check) : "*=" === operator ? check && result.indexOf(check) > -1 : "$=" === operator ? check && result.slice(-check.length) === check : "~=" === operator ? (" " + result.replace(rwhitespace, " ") + " ").indexOf(check) > -1 : "|=" === operator && (result === check || result.slice(0, check.length + 1) === check + "-"))
                        }
                    },
                    CHILD: function (type, what, argument, first, last) {
                        var simple = "nth" !== type.slice(0, 3),
                            forward = "last" !== type.slice(-4),
                            ofType = "of-type" === what;
                        return 1 === first && 0 === last ? function (elem) {
                            return !!elem.parentNode
                        } : function (elem, context, xml) {
                            var cache, uniqueCache, outerCache, node, nodeIndex, start, dir = simple !== forward ? "nextSibling" : "previousSibling",
                                parent = elem.parentNode,
                                name = ofType && elem.nodeName.toLowerCase(),
                                useCache = !xml && !ofType,
                                diff = !1;
                            if (parent) {
                                if (simple) {
                                    for (; dir;) {
                                        for (node = elem; node = node[dir];)
                                            if (ofType ? node.nodeName.toLowerCase() === name : 1 === node.nodeType) return !1;
                                        start = dir = "only" === type && !start && "nextSibling"
                                    }
                                    return !0
                                }
                                if (start = [forward ? parent.firstChild : parent.lastChild], forward && useCache) {
                                    for (diff = (nodeIndex = (cache = (uniqueCache = (outerCache = (node = parent)[expando] || (node[expando] = {}))[node.uniqueID] || (outerCache[node.uniqueID] = {}))[type] || [])[0] === dirruns && cache[1]) && cache[2], node = nodeIndex && parent.childNodes[nodeIndex]; node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop();)
                                        if (1 === node.nodeType && ++diff && node === elem) {
                                            uniqueCache[type] = [dirruns, nodeIndex, diff];
                                            break
                                        }
                                } else if (useCache && (diff = nodeIndex = (cache = (uniqueCache = (outerCache = (node = elem)[expando] || (node[expando] = {}))[node.uniqueID] || (outerCache[node.uniqueID] = {}))[type] || [])[0] === dirruns && cache[1]), !1 === diff)
                                    for (;
                                        (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) && ((ofType ? node.nodeName.toLowerCase() !== name : 1 !== node.nodeType) || !++diff || (useCache && ((uniqueCache = (outerCache = node[expando] || (node[expando] = {}))[node.uniqueID] || (outerCache[node.uniqueID] = {}))[type] = [dirruns, diff]), node !== elem)););
                                return (diff -= last) === first || diff % first == 0 && diff / first >= 0
                            }
                        }
                    },
                    PSEUDO: function (pseudo, argument) {
                        var args, fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error("unsupported pseudo: " + pseudo);
                        return fn[expando] ? fn(argument) : fn.length > 1 ? (args = [pseudo, pseudo, "", argument], Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function (seed, matches) {
                            for (var idx, matched = fn(seed, argument), i = matched.length; i--;) seed[idx = indexOf(seed, matched[i])] = !(matches[idx] = matched[i])
                        }) : function (elem) {
                            return fn(elem, 0, args)
                        }) : fn
                    }
                },
                pseudos: {
                    not: markFunction(function (selector) {
                        var input = [],
                            results = [],
                            matcher = compile(selector.replace(rtrim, "$1"));
                        return matcher[expando] ? markFunction(function (seed, matches, context, xml) {
                            for (var elem, unmatched = matcher(seed, null, xml, []), i = seed.length; i--;)(elem = unmatched[i]) && (seed[i] = !(matches[i] = elem))
                        }) : function (elem, context, xml) {
                            return input[0] = elem, matcher(input, null, xml, results), input[0] = null, !results.pop()
                        }
                    }),
                    has: markFunction(function (selector) {
                        return function (elem) {
                            return Sizzle(selector, elem).length > 0
                        }
                    }),
                    contains: markFunction(function (text) {
                        return text = text.replace(runescape, funescape),
                            function (elem) {
                                return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1
                            }
                    }),
                    lang: markFunction(function (lang) {
                        return ridentifier.test(lang || "") || Sizzle.error("unsupported lang: " + lang), lang = lang.replace(runescape, funescape).toLowerCase(),
                            function (elem) {
                                var elemLang;
                                do {
                                    if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute("xml:lang") || elem.getAttribute("lang")) return (elemLang = elemLang.toLowerCase()) === lang || 0 === elemLang.indexOf(lang + "-")
                                } while ((elem = elem.parentNode) && 1 === elem.nodeType);
                                return !1
                            }
                    }),
                    target: function (elem) {
                        var hash = window.location && window.location.hash;
                        return hash && hash.slice(1) === elem.id
                    },
                    root: function (elem) {
                        return elem === docElem
                    },
                    focus: function (elem) {
                        return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex)
                    },
                    enabled: function (elem) {
                        return !1 === elem.disabled
                    },
                    disabled: function (elem) {
                        return !0 === elem.disabled
                    },
                    checked: function (elem) {
                        var nodeName = elem.nodeName.toLowerCase();
                        return "input" === nodeName && !!elem.checked || "option" === nodeName && !!elem.selected
                    },
                    selected: function (elem) {
                        return elem.parentNode && elem.parentNode.selectedIndex, !0 === elem.selected
                    },
                    empty: function (elem) {
                        for (elem = elem.firstChild; elem; elem = elem.nextSibling)
                            if (elem.nodeType < 6) return !1;
                        return !0
                    },
                    parent: function (elem) {
                        return !Expr.pseudos.empty(elem)
                    },
                    header: function (elem) {
                        return rheader.test(elem.nodeName)
                    },
                    input: function (elem) {
                        return rinputs.test(elem.nodeName)
                    },
                    button: function (elem) {
                        var name = elem.nodeName.toLowerCase();
                        return "input" === name && "button" === elem.type || "button" === name
                    },
                    text: function (elem) {
                        var attr;
                        return "input" === elem.nodeName.toLowerCase() && "text" === elem.type && (null == (attr = elem.getAttribute("type")) || "text" === attr.toLowerCase())
                    },
                    first: createPositionalPseudo(function () {
                        return [0]
                    }),
                    last: createPositionalPseudo(function (matchIndexes, length) {
                        return [length - 1]
                    }),
                    eq: createPositionalPseudo(function (matchIndexes, length, argument) {
                        return [argument < 0 ? argument + length : argument]
                    }),
                    even: createPositionalPseudo(function (matchIndexes, length) {
                        for (var i = 0; i < length; i += 2) matchIndexes.push(i);
                        return matchIndexes
                    }),
                    odd: createPositionalPseudo(function (matchIndexes, length) {
                        for (var i = 1; i < length; i += 2) matchIndexes.push(i);
                        return matchIndexes
                    }),
                    lt: createPositionalPseudo(function (matchIndexes, length, argument) {
                        for (var i = argument < 0 ? argument + length : argument; --i >= 0;) matchIndexes.push(i);
                        return matchIndexes
                    }),
                    gt: createPositionalPseudo(function (matchIndexes, length, argument) {
                        for (var i = argument < 0 ? argument + length : argument; ++i < length;) matchIndexes.push(i);
                        return matchIndexes
                    })
                }
            }).pseudos.nth = Expr.pseudos.eq, {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            }) Expr.pseudos[i] = createInputPseudo(i);
        for (i in {
                submit: !0,
                reset: !0
            }) Expr.pseudos[i] = createButtonPseudo(i);
        function setFilters() {}
        function toSelector(tokens) {
            for (var i = 0, len = tokens.length, selector = ""; i < len; i++) selector += tokens[i].value;
            return selector
        }
        function addCombinator(matcher, combinator, base) {
            var dir = combinator.dir,
                checkNonElements = base && "parentNode" === dir,
                doneName = done++;
            return combinator.first ? function (elem, context, xml) {
                for (; elem = elem[dir];)
                    if (1 === elem.nodeType || checkNonElements) return matcher(elem, context, xml)
            } : function (elem, context, xml) {
                var oldCache, uniqueCache, outerCache, newCache = [dirruns, doneName];
                if (xml) {
                    for (; elem = elem[dir];)
                        if ((1 === elem.nodeType || checkNonElements) && matcher(elem, context, xml)) return !0
                } else
                    for (; elem = elem[dir];)
                        if (1 === elem.nodeType || checkNonElements) {
                            if ((oldCache = (uniqueCache = (outerCache = elem[expando] || (elem[expando] = {}))[elem.uniqueID] || (outerCache[elem.uniqueID] = {}))[dir]) && oldCache[0] === dirruns && oldCache[1] === doneName) return newCache[2] = oldCache[2];
                            if (uniqueCache[dir] = newCache, newCache[2] = matcher(elem, context, xml)) return !0
                        }
            }
        }
        function elementMatcher(matchers) {
            return matchers.length > 1 ? function (elem, context, xml) {
                for (var i = matchers.length; i--;)
                    if (!matchers[i](elem, context, xml)) return !1;
                return !0
            } : matchers[0]
        }
        function condense(unmatched, map, filter, context, xml) {
            for (var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = null != map; i < len; i++)(elem = unmatched[i]) && (filter && !filter(elem, context, xml) || (newUnmatched.push(elem), mapped && map.push(i)));
            return newUnmatched
        }
        function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {
            return postFilter && !postFilter[expando] && (postFilter = setMatcher(postFilter)), postFinder && !postFinder[expando] && (postFinder = setMatcher(postFinder, postSelector)), markFunction(function (seed, results, context, xml) {
                var temp, i, elem, preMap = [],
                    postMap = [],
                    preexisting = results.length,
                    elems = seed || function (selector, contexts, results) {
                        for (var i = 0, len = contexts.length; i < len; i++) Sizzle(selector, contexts[i], results);
                        return results
                    }(selector || "*", context.nodeType ? [context] : context, []),
                    matcherIn = !preFilter || !seed && selector ? elems : condense(elems, preMap, preFilter, context, xml),
                    matcherOut = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;
                if (matcher && matcher(matcherIn, matcherOut, context, xml), postFilter)
                    for (temp = condense(matcherOut, postMap), postFilter(temp, [], context, xml), i = temp.length; i--;)(elem = temp[i]) && (matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem));
                if (seed) {
                    if (postFinder || preFilter) {
                        if (postFinder) {
                            for (temp = [], i = matcherOut.length; i--;)(elem = matcherOut[i]) && temp.push(matcherIn[i] = elem);
                            postFinder(null, matcherOut = [], temp, xml)
                        }
                        for (i = matcherOut.length; i--;)(elem = matcherOut[i]) && (temp = postFinder ? indexOf(seed, elem) : preMap[i]) > -1 && (seed[temp] = !(results[temp] = elem))
                    }
                } else matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut), postFinder ? postFinder(null, results, matcherOut, xml) : push.apply(results, matcherOut)
            })
        }
        function matcherFromTokens(tokens) {
            for (var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[tokens[0].type], implicitRelative = leadingRelative || Expr.relative[" "], i = leadingRelative ? 1 : 0, matchContext = addCombinator(function (elem) {
                    return elem === checkContext
                }, implicitRelative, !0), matchAnyContext = addCombinator(function (elem) {
                    return indexOf(checkContext, elem) > -1
                }, implicitRelative, !0), matchers = [function (elem, context, xml) {
                    var ret = !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));
                    return checkContext = null, ret
                }]; i < len; i++)
                if (matcher = Expr.relative[tokens[i].type]) matchers = [addCombinator(elementMatcher(matchers), matcher)];
                else {
                    if ((matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches))[expando]) {
                        for (j = ++i; j < len && !Expr.relative[tokens[j].type]; j++);
                        return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({
                            value: " " === tokens[i - 2].type ? "*" : ""
                        })).replace(rtrim, "$1"), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens))
                    }
                    matchers.push(matcher)
                } return elementMatcher(matchers)
        }
        return setFilters.prototype = Expr.filters = Expr.pseudos, Expr.setFilters = new setFilters, tokenize = Sizzle.tokenize = function (selector, parseOnly) {
            var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[selector + " "];
            if (cached) return parseOnly ? 0 : cached.slice(0);
            for (soFar = selector, groups = [], preFilters = Expr.preFilter; soFar;) {
                for (type in matched && !(match = rcomma.exec(soFar)) || (match && (soFar = soFar.slice(match[0].length) || soFar), groups.push(tokens = [])), matched = !1, (match = rcombinators.exec(soFar)) && (matched = match.shift(), tokens.push({
                        value: matched,
                        type: match[0].replace(rtrim, " ")
                    }), soFar = soFar.slice(matched.length)), Expr.filter) !(match = matchExpr[type].exec(soFar)) || preFilters[type] && !(match = preFilters[type](match)) || (matched = match.shift(), tokens.push({
                    value: matched,
                    type: type,
                    matches: match
                }), soFar = soFar.slice(matched.length));
                if (!matched) break
            }
            return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0)
        }, compile = Sizzle.compile = function (selector, match) {
            var i, setMatchers = [],
                elementMatchers = [],
                cached = compilerCache[selector + " "];
            if (!cached) {
                for (match || (match = tokenize(selector)), i = match.length; i--;)(cached = matcherFromTokens(match[i]))[expando] ? setMatchers.push(cached) : elementMatchers.push(cached);
                (cached = compilerCache(selector, function (elementMatchers, setMatchers) {
                    var bySet = setMatchers.length > 0,
                        byElement = elementMatchers.length > 0,
                        superMatcher = function (seed, context, xml, results, outermost) {
                            var elem, j, matcher, matchedCount = 0,
                                i = "0",
                                unmatched = seed && [],
                                setMatched = [],
                                contextBackup = outermostContext,
                                elems = seed || byElement && Expr.find.TAG("*", outermost),
                                dirrunsUnique = dirruns += null == contextBackup ? 1 : Math.random() || .1,
                                len = elems.length;
                            for (outermost && (outermostContext = context === document || context || outermost); i !== len && null != (elem = elems[i]); i++) {
                                if (byElement && elem) {
                                    for (j = 0, context || elem.ownerDocument === document || (setDocument(elem), xml = !documentIsHTML); matcher = elementMatchers[j++];)
                                        if (matcher(elem, context || document, xml)) {
                                            results.push(elem);
                                            break
                                        } outermost && (dirruns = dirrunsUnique)
                                }
                                bySet && ((elem = !matcher && elem) && matchedCount--, seed && unmatched.push(elem))
                            }
                            if (matchedCount += i, bySet && i !== matchedCount) {
                                for (j = 0; matcher = setMatchers[j++];) matcher(unmatched, setMatched, context, xml);
                                if (seed) {
                                    if (matchedCount > 0)
                                        for (; i--;) unmatched[i] || setMatched[i] || (setMatched[i] = pop.call(results));
                                    setMatched = condense(setMatched)
                                }
                                push.apply(results, setMatched), outermost && !seed && setMatched.length > 0 && matchedCount + setMatchers.length > 1 && Sizzle.uniqueSort(results)
                            }
                            return outermost && (dirruns = dirrunsUnique, outermostContext = contextBackup), unmatched
                        };
                    return bySet ? markFunction(superMatcher) : superMatcher
                }(elementMatchers, setMatchers))).selector = selector
            }
            return cached
        }, select = Sizzle.select = function (selector, context, results, seed) {
            var i, tokens, token, type, find, compiled = "function" == typeof selector && selector,
                match = !seed && tokenize(selector = compiled.selector || selector);
            if (results = results || [], 1 === match.length) {
                if ((tokens = match[0] = match[0].slice(0)).length > 2 && "ID" === (token = tokens[0]).type && support.getById && 9 === context.nodeType && documentIsHTML && Expr.relative[tokens[1].type]) {
                    if (!(context = (Expr.find.ID(token.matches[0].replace(runescape, funescape), context) || [])[0])) return results;
                    compiled && (context = context.parentNode), selector = selector.slice(tokens.shift().value.length)
                }
                for (i = matchExpr.needsContext.test(selector) ? 0 : tokens.length; i-- && (token = tokens[i], !Expr.relative[type = token.type]);)
                    if ((find = Expr.find[type]) && (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context))) {
                        if (tokens.splice(i, 1), !(selector = seed.length && toSelector(tokens))) return push.apply(results, seed), results;
                        break
                    }
            }
            return (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, !context || rsibling.test(selector) && testContext(context.parentNode) || context), results
        }, support.sortStable = expando.split("").sort(sortOrder).join("") === expando, support.detectDuplicates = !!hasDuplicate, setDocument(), support.sortDetached = assert(function (div1) {
            return 1 & div1.compareDocumentPosition(document.createElement("div"))
        }), assert(function (div) {
            return div.innerHTML = "<a href='#'></a>", "#" === div.firstChild.getAttribute("href")
        }) || addHandle("type|href|height|width", function (elem, name, isXML) {
            if (!isXML) return elem.getAttribute(name, "type" === name.toLowerCase() ? 1 : 2)
        }), support.attributes && assert(function (div) {
            return div.innerHTML = "<input/>", div.firstChild.setAttribute("value", ""), "" === div.firstChild.getAttribute("value")
        }) || addHandle("value", function (elem, name, isXML) {
            if (!isXML && "input" === elem.nodeName.toLowerCase()) return elem.defaultValue
        }), assert(function (div) {
            return null == div.getAttribute("disabled")
        }) || addHandle(booleans, function (elem, name, isXML) {
            var val;
            if (!isXML) return !0 === elem[name] ? name.toLowerCase() : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null
        }), Sizzle
    }(window);
    jQuery.find = Sizzle, jQuery.expr = Sizzle.selectors, jQuery.expr[":"] = jQuery.expr.pseudos, jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort, jQuery.text = Sizzle.getText, jQuery.isXMLDoc = Sizzle.isXML, jQuery.contains = Sizzle.contains;
    var dir = function (elem, dir, until) {
            for (var matched = [], truncate = void 0 !== until;
                (elem = elem[dir]) && 9 !== elem.nodeType;)
                if (1 === elem.nodeType) {
                    if (truncate && jQuery(elem).is(until)) break;
                    matched.push(elem)
                } return matched
        },
        siblings = function (n, elem) {
            for (var matched = []; n; n = n.nextSibling) 1 === n.nodeType && n !== elem && matched.push(n);
            return matched
        },
        rneedsContext = jQuery.expr.match.needsContext,
        rsingleTag = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,
        risSimple = /^.[^:#\[\.,]*$/;
    function winnow(elements, qualifier, not) {
        if (jQuery.isFunction(qualifier)) return jQuery.grep(elements, function (elem, i) {
            return !!qualifier.call(elem, i, elem) !== not
        });
        if (qualifier.nodeType) return jQuery.grep(elements, function (elem) {
            return elem === qualifier !== not
        });
        if ("string" == typeof qualifier) {
            if (risSimple.test(qualifier)) return jQuery.filter(qualifier, elements, not);
            qualifier = jQuery.filter(qualifier, elements)
        }
        return jQuery.grep(elements, function (elem) {
            return jQuery.inArray(elem, qualifier) > -1 !== not
        })
    }
    jQuery.filter = function (expr, elems, not) {
        var elem = elems[0];
        return not && (expr = ":not(" + expr + ")"), 1 === elems.length && 1 === elem.nodeType ? jQuery.find.matchesSelector(elem, expr) ? [elem] : [] : jQuery.find.matches(expr, jQuery.grep(elems, function (elem) {
            return 1 === elem.nodeType
        }))
    }, jQuery.fn.extend({
        find: function (selector) {
            var i, ret = [],
                self = this,
                len = self.length;
            if ("string" != typeof selector) return this.pushStack(jQuery(selector).filter(function () {
                for (i = 0; i < len; i++)
                    if (jQuery.contains(self[i], this)) return !0
            }));
            for (i = 0; i < len; i++) jQuery.find(selector, self[i], ret);
            return (ret = this.pushStack(len > 1 ? jQuery.unique(ret) : ret)).selector = this.selector ? this.selector + " " + selector : selector, ret
        },
        filter: function (selector) {
            return this.pushStack(winnow(this, selector || [], !1))
        },
        not: function (selector) {
            return this.pushStack(winnow(this, selector || [], !0))
        },
        is: function (selector) {
            return !!winnow(this, "string" == typeof selector && rneedsContext.test(selector) ? jQuery(selector) : selector || [], !1).length
        }
    });
    var rootjQuery, rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
    (jQuery.fn.init = function (selector, context, root) {
        var match, elem;
        if (!selector) return this;
        if (root = root || rootjQuery, "string" == typeof selector) {
            if (!(match = "<" === selector.charAt(0) && ">" === selector.charAt(selector.length - 1) && selector.length >= 3 ? [null, selector, null] : rquickExpr.exec(selector)) || !match[1] && context) return !context || context.jquery ? (context || root).find(selector) : this.constructor(context).find(selector);
            if (match[1]) {
                if (context = context instanceof jQuery ? context[0] : context, jQuery.merge(this, jQuery.parseHTML(match[1], context && context.nodeType ? context.ownerDocument || context : document, !0)), rsingleTag.test(match[1]) && jQuery.isPlainObject(context))
                    for (match in context) jQuery.isFunction(this[match]) ? this[match](context[match]) : this.attr(match, context[match]);
                return this
            }
            if ((elem = document.getElementById(match[2])) && elem.parentNode) {
                if (elem.id !== match[2]) return rootjQuery.find(selector);
                this.length = 1, this[0] = elem
            }
            return this.context = document, this.selector = selector, this
        }
        return selector.nodeType ? (this.context = this[0] = selector, this.length = 1, this) : jQuery.isFunction(selector) ? void 0 !== root.ready ? root.ready(selector) : selector(jQuery) : (void 0 !== selector.selector && (this.selector = selector.selector, this.context = selector.context), jQuery.makeArray(selector, this))
    }).prototype = jQuery.fn, rootjQuery = jQuery(document);
    var rparentsprev = /^(?:parents|prev(?:Until|All))/,
        guaranteedUnique = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
    function sibling(cur, dir) {
        do {
            cur = cur[dir]
        } while (cur && 1 !== cur.nodeType);
        return cur
    }
    jQuery.fn.extend({
        has: function (target) {
            var i, targets = jQuery(target, this),
                len = targets.length;
            return this.filter(function () {
                for (i = 0; i < len; i++)
                    if (jQuery.contains(this, targets[i])) return !0
            })
        },
        closest: function (selectors, context) {
            for (var cur, i = 0, l = this.length, matched = [], pos = rneedsContext.test(selectors) || "string" != typeof selectors ? jQuery(selectors, context || this.context) : 0; i < l; i++)
                for (cur = this[i]; cur && cur !== context; cur = cur.parentNode)
                    if (cur.nodeType < 11 && (pos ? pos.index(cur) > -1 : 1 === cur.nodeType && jQuery.find.matchesSelector(cur, selectors))) {
                        matched.push(cur);
                        break
                    } return this.pushStack(matched.length > 1 ? jQuery.uniqueSort(matched) : matched)
        },
        index: function (elem) {
            return elem ? "string" == typeof elem ? jQuery.inArray(this[0], jQuery(elem)) : jQuery.inArray(elem.jquery ? elem[0] : elem, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function (selector, context) {
            return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(), jQuery(selector, context))))
        },
        addBack: function (selector) {
            return this.add(null == selector ? this.prevObject : this.prevObject.filter(selector))
        }
    }), jQuery.each({
        parent: function (elem) {
            var parent = elem.parentNode;
            return parent && 11 !== parent.nodeType ? parent : null
        },
        parents: function (elem) {
            return dir(elem, "parentNode")
        },
        parentsUntil: function (elem, i, until) {
            return dir(elem, "parentNode", until)
        },
        next: function (elem) {
            return sibling(elem, "nextSibling")
        },
        prev: function (elem) {
            return sibling(elem, "previousSibling")
        },
        nextAll: function (elem) {
            return dir(elem, "nextSibling")
        },
        prevAll: function (elem) {
            return dir(elem, "previousSibling")
        },
        nextUntil: function (elem, i, until) {
            return dir(elem, "nextSibling", until)
        },
        prevUntil: function (elem, i, until) {
            return dir(elem, "previousSibling", until)
        },
        siblings: function (elem) {
            return siblings((elem.parentNode || {}).firstChild, elem)
        },
        children: function (elem) {
            return siblings(elem.firstChild)
        },
        contents: function (elem) {
            return jQuery.nodeName(elem, "iframe") ? elem.contentDocument || elem.contentWindow.document : jQuery.merge([], elem.childNodes)
        }
    }, function (name, fn) {
        jQuery.fn[name] = function (until, selector) {
            var ret = jQuery.map(this, fn, until);
            return "Until" !== name.slice(-5) && (selector = until), selector && "string" == typeof selector && (ret = jQuery.filter(selector, ret)), this.length > 1 && (guaranteedUnique[name] || (ret = jQuery.uniqueSort(ret)), rparentsprev.test(name) && (ret = ret.reverse())), this.pushStack(ret)
        }
    });
    var readyList, i, rnotwhite = /\S+/g;
    function detach() {
        document.addEventListener ? (document.removeEventListener("DOMContentLoaded", completed), window.removeEventListener("load", completed)) : (document.detachEvent("onreadystatechange", completed), window.detachEvent("onload", completed))
    }
    function completed() {
        (document.addEventListener || "load" === window.event.type || "complete" === document.readyState) && (detach(), jQuery.ready())
    }
    for (i in jQuery.Callbacks = function (options) {
            options = "string" == typeof options ? function (options) {
                var object = {};
                return jQuery.each(options.match(rnotwhite) || [], function (_, flag) {
                    object[flag] = !0
                }), object
            }(options) : jQuery.extend({}, options);
            var firing, memory, fired, locked, list = [],
                queue = [],
                firingIndex = -1,
                fire = function () {
                    for (locked = options.once, fired = firing = !0; queue.length; firingIndex = -1)
                        for (memory = queue.shift(); ++firingIndex < list.length;) !1 === list[firingIndex].apply(memory[0], memory[1]) && options.stopOnFalse && (firingIndex = list.length, memory = !1);
                    options.memory || (memory = !1), firing = !1, locked && (list = memory ? [] : "")
                },
                self = {
                    add: function () {
                        return list && (memory && !firing && (firingIndex = list.length - 1, queue.push(memory)), function add(args) {
                            jQuery.each(args, function (_, arg) {
                                jQuery.isFunction(arg) ? options.unique && self.has(arg) || list.push(arg) : arg && arg.length && "string" !== jQuery.type(arg) && add(arg)
                            })
                        }(arguments), memory && !firing && fire()), this
                    },
                    remove: function () {
                        return jQuery.each(arguments, function (_, arg) {
                            for (var index;
                                (index = jQuery.inArray(arg, list, index)) > -1;) list.splice(index, 1), index <= firingIndex && firingIndex--
                        }), this
                    },
                    has: function (fn) {
                        return fn ? jQuery.inArray(fn, list) > -1 : list.length > 0
                    },
                    empty: function () {
                        return list && (list = []), this
                    },
                    disable: function () {
                        return locked = queue = [], list = memory = "", this
                    },
                    disabled: function () {
                        return !list
                    },
                    lock: function () {
                        return locked = !0, memory || self.disable(), this
                    },
                    locked: function () {
                        return !!locked
                    },
                    fireWith: function (context, args) {
                        return locked || (args = [context, (args = args || []).slice ? args.slice() : args], queue.push(args), firing || fire()), this
                    },
                    fire: function () {
                        return self.fireWith(this, arguments), this
                    },
                    fired: function () {
                        return !!fired
                    }
                };
            return self
        }, jQuery.extend({
            Deferred: function (func) {
                var tuples = [
                        ["resolve", "done", jQuery.Callbacks("once memory"), "resolved"],
                        ["reject", "fail", jQuery.Callbacks("once memory"), "rejected"],
                        ["notify", "progress", jQuery.Callbacks("memory")]
                    ],
                    state = "pending",
                    promise = {
                        state: function () {
                            return state
                        },
                        always: function () {
                            return deferred.done(arguments).fail(arguments), this
                        },
                        then: function () {
                            var fns = arguments;
                            return jQuery.Deferred(function (newDefer) {
                                jQuery.each(tuples, function (i, tuple) {
                                    var fn = jQuery.isFunction(fns[i]) && fns[i];
                                    deferred[tuple[1]](function () {
                                        var returned = fn && fn.apply(this, arguments);
                                        returned && jQuery.isFunction(returned.promise) ? returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject) : newDefer[tuple[0] + "With"](this === promise ? newDefer.promise() : this, fn ? [returned] : arguments)
                                    })
                                }), fns = null
                            }).promise()
                        },
                        promise: function (obj) {
                            return null != obj ? jQuery.extend(obj, promise) : promise
                        }
                    },
                    deferred = {};
                return promise.pipe = promise.then, jQuery.each(tuples, function (i, tuple) {
                    var list = tuple[2],
                        stateString = tuple[3];
                    promise[tuple[1]] = list.add, stateString && list.add(function () {
                        state = stateString
                    }, tuples[1 ^ i][2].disable, tuples[2][2].lock), deferred[tuple[0]] = function () {
                        return deferred[tuple[0] + "With"](this === deferred ? promise : this, arguments), this
                    }, deferred[tuple[0] + "With"] = list.fireWith
                }), promise.promise(deferred), func && func.call(deferred, deferred), deferred
            },
            when: function (subordinate) {
                var progressValues, progressContexts, resolveContexts, i = 0,
                    resolveValues = slice.call(arguments),
                    length = resolveValues.length,
                    remaining = 1 !== length || subordinate && jQuery.isFunction(subordinate.promise) ? length : 0,
                    deferred = 1 === remaining ? subordinate : jQuery.Deferred(),
                    updateFunc = function (i, contexts, values) {
                        return function (value) {
                            contexts[i] = this, values[i] = arguments.length > 1 ? slice.call(arguments) : value, values === progressValues ? deferred.notifyWith(contexts, values) : --remaining || deferred.resolveWith(contexts, values)
                        }
                    };
                if (length > 1)
                    for (progressValues = new Array(length), progressContexts = new Array(length), resolveContexts = new Array(length); i < length; i++) resolveValues[i] && jQuery.isFunction(resolveValues[i].promise) ? resolveValues[i].promise().progress(updateFunc(i, progressContexts, progressValues)).done(updateFunc(i, resolveContexts, resolveValues)).fail(deferred.reject) : --remaining;
                return remaining || deferred.resolveWith(resolveContexts, resolveValues), deferred.promise()
            }
        }), jQuery.fn.ready = function (fn) {
            return jQuery.ready.promise().done(fn), this
        }, jQuery.extend({
            isReady: !1,
            readyWait: 1,
            holdReady: function (hold) {
                hold ? jQuery.readyWait++ : jQuery.ready(!0)
            },
            ready: function (wait) {
                (!0 === wait ? --jQuery.readyWait : jQuery.isReady) || (jQuery.isReady = !0, !0 !== wait && --jQuery.readyWait > 0 || (readyList.resolveWith(document, [jQuery]), jQuery.fn.triggerHandler && (jQuery(document).triggerHandler("ready"), jQuery(document).off("ready"))))
            }
        }), jQuery.ready.promise = function (obj) {
            if (!readyList)
                if (readyList = jQuery.Deferred(), "complete" === document.readyState || "loading" !== document.readyState && !document.documentElement.doScroll) window.setTimeout(jQuery.ready);
                else if (document.addEventListener) document.addEventListener("DOMContentLoaded", completed), window.addEventListener("load", completed);
            else {
                document.attachEvent("onreadystatechange", completed), window.attachEvent("onload", completed);
                var top = !1;
                try {
                    top = null == window.frameElement && document.documentElement
                } catch (e) {}
                top && top.doScroll && function doScrollCheck() {
                    if (!jQuery.isReady) {
                        try {
                            top.doScroll("left")
                        } catch (e) {
                            return window.setTimeout(doScrollCheck, 50)
                        }
                        detach(), jQuery.ready()
                    }
                }()
            }
            return readyList.promise(obj)
        }, jQuery.ready.promise(), jQuery(support)) break;
    support.ownFirst = "0" === i, support.inlineBlockNeedsLayout = !1, jQuery(function () {
            var val, div, body, container;
            (body = document.getElementsByTagName("body")[0]) && body.style && (div = document.createElement("div"), (container = document.createElement("div")).style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", body.appendChild(container).appendChild(div), void 0 !== div.style.zoom && (div.style.cssText = "display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1", support.inlineBlockNeedsLayout = val = 3 === div.offsetWidth, val && (body.style.zoom = 1)), body.removeChild(container))
        }),
        function () {
            var div = document.createElement("div");
            support.deleteExpando = !0;
            try {
                delete div.test
            } catch (e) {
                support.deleteExpando = !1
            }
            div = null
        }();
    var shrinkWrapBlocksVal, acceptData = function (elem) {
            var noData = jQuery.noData[(elem.nodeName + " ").toLowerCase()],
                nodeType = +elem.nodeType || 1;
            return (1 === nodeType || 9 === nodeType) && (!noData || !0 !== noData && elem.getAttribute("classid") === noData)
        },
        rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        rmultiDash = /([A-Z])/g;
    function dataAttr(elem, key, data) {
        if (void 0 === data && 1 === elem.nodeType) {
            var name = "data-" + key.replace(rmultiDash, "-$1").toLowerCase();
            if ("string" == typeof (data = elem.getAttribute(name))) {
                try {
                    data = "true" === data || "false" !== data && ("null" === data ? null : +data + "" === data ? +data : rbrace.test(data) ? jQuery.parseJSON(data) : data)
                } catch (e) {}
                jQuery.data(elem, key, data)
            } else data = void 0
        }
        return data
    }
    function isEmptyDataObject(obj) {
        var name;
        for (name in obj)
            if (("data" !== name || !jQuery.isEmptyObject(obj[name])) && "toJSON" !== name) return !1;
        return !0
    }
    function internalData(elem, name, data, pvt) {
        if (acceptData(elem)) {
            var ret, thisCache, internalKey = jQuery.expando,
                isNode = elem.nodeType,
                cache = isNode ? jQuery.cache : elem,
                id = isNode ? elem[internalKey] : elem[internalKey] && internalKey;
            if (id && cache[id] && (pvt || cache[id].data) || void 0 !== data || "string" != typeof name) return id || (id = isNode ? elem[internalKey] = deletedIds.pop() || jQuery.guid++ : internalKey), cache[id] || (cache[id] = isNode ? {} : {
                toJSON: jQuery.noop
            }), "object" != typeof name && "function" != typeof name || (pvt ? cache[id] = jQuery.extend(cache[id], name) : cache[id].data = jQuery.extend(cache[id].data, name)), thisCache = cache[id], pvt || (thisCache.data || (thisCache.data = {}), thisCache = thisCache.data), void 0 !== data && (thisCache[jQuery.camelCase(name)] = data), "string" == typeof name ? null == (ret = thisCache[name]) && (ret = thisCache[jQuery.camelCase(name)]) : ret = thisCache, ret
        }
    }
    function internalRemoveData(elem, name, pvt) {
        if (acceptData(elem)) {
            var thisCache, i, isNode = elem.nodeType,
                cache = isNode ? jQuery.cache : elem,
                id = isNode ? elem[jQuery.expando] : jQuery.expando;
            if (cache[id]) {
                if (name && (thisCache = pvt ? cache[id] : cache[id].data)) {
                    i = (name = jQuery.isArray(name) ? name.concat(jQuery.map(name, jQuery.camelCase)) : name in thisCache ? [name] : (name = jQuery.camelCase(name)) in thisCache ? [name] : name.split(" ")).length;
                    for (; i--;) delete thisCache[name[i]];
                    if (pvt ? !isEmptyDataObject(thisCache) : !jQuery.isEmptyObject(thisCache)) return
                }(pvt || (delete cache[id].data, isEmptyDataObject(cache[id]))) && (isNode ? jQuery.cleanData([elem], !0) : support.deleteExpando || cache != cache.window ? delete cache[id] : cache[id] = void 0)
            }
        }
    }
    jQuery.extend({
        cache: {},
        noData: {
            "applet ": !0,
            "embed ": !0,
            "object ": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
        },
        hasData: function (elem) {
            return !!(elem = elem.nodeType ? jQuery.cache[elem[jQuery.expando]] : elem[jQuery.expando]) && !isEmptyDataObject(elem)
        },
        data: function (elem, name, data) {
            return internalData(elem, name, data)
        },
        removeData: function (elem, name) {
            return internalRemoveData(elem, name)
        },
        _data: function (elem, name, data) {
            return internalData(elem, name, data, !0)
        },
        _removeData: function (elem, name) {
            return internalRemoveData(elem, name, !0)
        }
    }), jQuery.fn.extend({
        data: function (key, value) {
            var i, name, data, elem = this[0],
                attrs = elem && elem.attributes;
            if (void 0 === key) {
                if (this.length && (data = jQuery.data(elem), 1 === elem.nodeType && !jQuery._data(elem, "parsedAttrs"))) {
                    for (i = attrs.length; i--;) attrs[i] && 0 === (name = attrs[i].name).indexOf("data-") && dataAttr(elem, name = jQuery.camelCase(name.slice(5)), data[name]);
                    jQuery._data(elem, "parsedAttrs", !0)
                }
                return data
            }
            return "object" == typeof key ? this.each(function () {
                jQuery.data(this, key)
            }) : arguments.length > 1 ? this.each(function () {
                jQuery.data(this, key, value)
            }) : elem ? dataAttr(elem, key, jQuery.data(elem, key)) : void 0
        },
        removeData: function (key) {
            return this.each(function () {
                jQuery.removeData(this, key)
            })
        }
    }), jQuery.extend({
        queue: function (elem, type, data) {
            var queue;
            if (elem) return type = (type || "fx") + "queue", queue = jQuery._data(elem, type), data && (!queue || jQuery.isArray(data) ? queue = jQuery._data(elem, type, jQuery.makeArray(data)) : queue.push(data)), queue || []
        },
        dequeue: function (elem, type) {
            type = type || "fx";
            var queue = jQuery.queue(elem, type),
                startLength = queue.length,
                fn = queue.shift(),
                hooks = jQuery._queueHooks(elem, type);
            "inprogress" === fn && (fn = queue.shift(), startLength--), fn && ("fx" === type && queue.unshift("inprogress"), delete hooks.stop, fn.call(elem, function () {
                jQuery.dequeue(elem, type)
            }, hooks)), !startLength && hooks && hooks.empty.fire()
        },
        _queueHooks: function (elem, type) {
            var key = type + "queueHooks";
            return jQuery._data(elem, key) || jQuery._data(elem, key, {
                empty: jQuery.Callbacks("once memory").add(function () {
                    jQuery._removeData(elem, type + "queue"), jQuery._removeData(elem, key)
                })
            })
        }
    }), jQuery.fn.extend({
        queue: function (type, data) {
            var setter = 2;
            return "string" != typeof type && (data = type, type = "fx", setter--), arguments.length < setter ? jQuery.queue(this[0], type) : void 0 === data ? this : this.each(function () {
                var queue = jQuery.queue(this, type, data);
                jQuery._queueHooks(this, type), "fx" === type && "inprogress" !== queue[0] && jQuery.dequeue(this, type)
            })
        },
        dequeue: function (type) {
            return this.each(function () {
                jQuery.dequeue(this, type)
            })
        },
        clearQueue: function (type) {
            return this.queue(type || "fx", [])
        },
        promise: function (type, obj) {
            var tmp, count = 1,
                defer = jQuery.Deferred(),
                elements = this,
                i = this.length,
                resolve = function () {
                    --count || defer.resolveWith(elements, [elements])
                };
            for ("string" != typeof type && (obj = type, type = void 0), type = type || "fx"; i--;)(tmp = jQuery._data(elements[i], type + "queueHooks")) && tmp.empty && (count++, tmp.empty.add(resolve));
            return resolve(), defer.promise(obj)
        }
    }), support.shrinkWrapBlocks = function () {
        return null != shrinkWrapBlocksVal ? shrinkWrapBlocksVal : (shrinkWrapBlocksVal = !1, (body = document.getElementsByTagName("body")[0]) && body.style ? (div = document.createElement("div"), (container = document.createElement("div")).style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", body.appendChild(container).appendChild(div), void 0 !== div.style.zoom && (div.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1", div.appendChild(document.createElement("div")).style.width = "5px", shrinkWrapBlocksVal = 3 !== div.offsetWidth), body.removeChild(container), shrinkWrapBlocksVal) : void 0);
        var div, body, container
    };
    var pnum = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        rcssNum = new RegExp("^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i"),
        cssExpand = ["Top", "Right", "Bottom", "Left"],
        isHidden = function (elem, el) {
            return elem = el || elem, "none" === jQuery.css(elem, "display") || !jQuery.contains(elem.ownerDocument, elem)
        };
    function adjustCSS(elem, prop, valueParts, tween) {
        var adjusted, scale = 1,
            maxIterations = 20,
            currentValue = tween ? function () {
                return tween.cur()
            } : function () {
                return jQuery.css(elem, prop, "")
            },
            initial = currentValue(),
            unit = valueParts && valueParts[3] || (jQuery.cssNumber[prop] ? "" : "px"),
            initialInUnit = (jQuery.cssNumber[prop] || "px" !== unit && +initial) && rcssNum.exec(jQuery.css(elem, prop));
        if (initialInUnit && initialInUnit[3] !== unit) {
            unit = unit || initialInUnit[3], valueParts = valueParts || [], initialInUnit = +initial || 1;
            do {
                initialInUnit /= scale = scale || ".5", jQuery.style(elem, prop, initialInUnit + unit)
            } while (scale !== (scale = currentValue() / initial) && 1 !== scale && --maxIterations)
        }
        return valueParts && (initialInUnit = +initialInUnit || +initial || 0, adjusted = valueParts[1] ? initialInUnit + (valueParts[1] + 1) * valueParts[2] : +valueParts[2], tween && (tween.unit = unit, tween.start = initialInUnit, tween.end = adjusted)), adjusted
    }
    var div, fragment, input, access = function (elems, fn, key, value, chainable, emptyGet, raw) {
            var i = 0,
                length = elems.length,
                bulk = null == key;
            if ("object" === jQuery.type(key))
                for (i in chainable = !0, key) access(elems, fn, i, key[i], !0, emptyGet, raw);
            else if (void 0 !== value && (chainable = !0, jQuery.isFunction(value) || (raw = !0), bulk && (raw ? (fn.call(elems, value), fn = null) : (bulk = fn, fn = function (elem, key, value) {
                    return bulk.call(jQuery(elem), value)
                })), fn))
                for (; i < length; i++) fn(elems[i], key, raw ? value : value.call(elems[i], i, fn(elems[i], key)));
            return chainable ? elems : bulk ? fn.call(elems) : length ? fn(elems[0], key) : emptyGet
        },
        rcheckableType = /^(?:checkbox|radio)$/i,
        rtagName = /<([\w:-]+)/,
        rscriptType = /^$|\/(?:java|ecma)script/i,
        rleadingWhitespace = /^\s+/,
        nodeNames = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";
    function createSafeFragment(document) {
        var list = nodeNames.split("|"),
            safeFrag = document.createDocumentFragment();
        if (safeFrag.createElement)
            for (; list.length;) safeFrag.createElement(list.pop());
        return safeFrag
    }
    div = document.createElement("div"), fragment = document.createDocumentFragment(), input = document.createElement("input"), div.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", support.leadingWhitespace = 3 === div.firstChild.nodeType, support.tbody = !div.getElementsByTagName("tbody").length, support.htmlSerialize = !!div.getElementsByTagName("link").length, support.html5Clone = "<:nav></:nav>" !== document.createElement("nav").cloneNode(!0).outerHTML, input.type = "checkbox", input.checked = !0, fragment.appendChild(input), support.appendChecked = input.checked, div.innerHTML = "<textarea>x</textarea>", support.noCloneChecked = !!div.cloneNode(!0).lastChild.defaultValue, fragment.appendChild(div), (input = document.createElement("input")).setAttribute("type", "radio"), input.setAttribute("checked", "checked"), input.setAttribute("name", "t"), div.appendChild(input), support.checkClone = div.cloneNode(!0).cloneNode(!0).lastChild.checked, support.noCloneEvent = !!div.addEventListener, div[jQuery.expando] = 1, support.attributes = !div.getAttribute(jQuery.expando);
    var wrapMap = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        legend: [1, "<fieldset>", "</fieldset>"],
        area: [1, "<map>", "</map>"],
        param: [1, "<object>", "</object>"],
        thead: [1, "<table>", "</table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: support.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"]
    };
    function getAll(context, tag) {
        var elems, elem, i = 0,
            found = void 0 !== context.getElementsByTagName ? context.getElementsByTagName(tag || "*") : void 0 !== context.querySelectorAll ? context.querySelectorAll(tag || "*") : void 0;
        if (!found)
            for (found = [], elems = context.childNodes || context; null != (elem = elems[i]); i++) !tag || jQuery.nodeName(elem, tag) ? found.push(elem) : jQuery.merge(found, getAll(elem, tag));
        return void 0 === tag || tag && jQuery.nodeName(context, tag) ? jQuery.merge([context], found) : found
    }
    function setGlobalEval(elems, refElements) {
        for (var elem, i = 0; null != (elem = elems[i]); i++) jQuery._data(elem, "globalEval", !refElements || jQuery._data(refElements[i], "globalEval"))
    }
    wrapMap.optgroup = wrapMap.option, wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead, wrapMap.th = wrapMap.td;
    var rhtml = /<|&#?\w+;/,
        rtbody = /<tbody/i;
    function fixDefaultChecked(elem) {
        rcheckableType.test(elem.type) && (elem.defaultChecked = elem.checked)
    }
    function buildFragment(elems, context, scripts, selection, ignored) {
        for (var j, elem, contains, tmp, tag, tbody, wrap, l = elems.length, safe = createSafeFragment(context), nodes = [], i = 0; i < l; i++)
            if ((elem = elems[i]) || 0 === elem)
                if ("object" === jQuery.type(elem)) jQuery.merge(nodes, elem.nodeType ? [elem] : elem);
                else if (rhtml.test(elem)) {
            for (tmp = tmp || safe.appendChild(context.createElement("div")), tag = (rtagName.exec(elem) || ["", ""])[1].toLowerCase(), wrap = wrapMap[tag] || wrapMap._default, tmp.innerHTML = wrap[1] + jQuery.htmlPrefilter(elem) + wrap[2], j = wrap[0]; j--;) tmp = tmp.lastChild;
            if (!support.leadingWhitespace && rleadingWhitespace.test(elem) && nodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0])), !support.tbody)
                for (j = (elem = "table" !== tag || rtbody.test(elem) ? "<table>" !== wrap[1] || rtbody.test(elem) ? 0 : tmp : tmp.firstChild) && elem.childNodes.length; j--;) jQuery.nodeName(tbody = elem.childNodes[j], "tbody") && !tbody.childNodes.length && elem.removeChild(tbody);
            for (jQuery.merge(nodes, tmp.childNodes), tmp.textContent = ""; tmp.firstChild;) tmp.removeChild(tmp.firstChild);
            tmp = safe.lastChild
        } else nodes.push(context.createTextNode(elem));
        for (tmp && safe.removeChild(tmp), support.appendChecked || jQuery.grep(getAll(nodes, "input"), fixDefaultChecked), i = 0; elem = nodes[i++];)
            if (selection && jQuery.inArray(elem, selection) > -1) ignored && ignored.push(elem);
            else if (contains = jQuery.contains(elem.ownerDocument, elem), tmp = getAll(safe.appendChild(elem), "script"), contains && setGlobalEval(tmp), scripts)
            for (j = 0; elem = tmp[j++];) rscriptType.test(elem.type || "") && scripts.push(elem);
        return tmp = null, safe
    }! function () {
        var i, eventName, div = document.createElement("div");
        for (i in {
                submit: !0,
                change: !0,
                focusin: !0
            }) eventName = "on" + i, (support[i] = eventName in window) || (div.setAttribute(eventName, "t"), support[i] = !1 === div.attributes[eventName].expando);
        div = null
    }();
    var rformElems = /^(?:input|select|textarea)$/i,
        rkeyEvent = /^key/,
        rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
        rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
        rtypenamespace = /^([^.]*)(?:\.(.+)|)/;
    function returnTrue() {
        return !0
    }
    function returnFalse() {
        return !1
    }
    function safeActiveElement() {
        try {
            return document.activeElement
        } catch (err) {}
    }
    function on(elem, types, selector, data, fn, one) {
        var origFn, type;
        if ("object" == typeof types) {
            for (type in "string" != typeof selector && (data = data || selector, selector = void 0), types) on(elem, type, selector, data, types[type], one);
            return elem
        }
        if (null == data && null == fn ? (fn = selector, data = selector = void 0) : null == fn && ("string" == typeof selector ? (fn = data, data = void 0) : (fn = data, data = selector, selector = void 0)), !1 === fn) fn = returnFalse;
        else if (!fn) return elem;
        return 1 === one && (origFn = fn, (fn = function (event) {
            return jQuery().off(event), origFn.apply(this, arguments)
        }).guid = origFn.guid || (origFn.guid = jQuery.guid++)), elem.each(function () {
            jQuery.event.add(this, types, fn, data, selector)
        })
    }
    jQuery.event = {
        global: {},
        add: function (elem, types, handler, data, selector) {
            var tmp, events, t, handleObjIn, special, eventHandle, handleObj, handlers, type, namespaces, origType, elemData = jQuery._data(elem);
            if (elemData) {
                for (handler.handler && (handler = (handleObjIn = handler).handler, selector = handleObjIn.selector), handler.guid || (handler.guid = jQuery.guid++), (events = elemData.events) || (events = elemData.events = {}), (eventHandle = elemData.handle) || ((eventHandle = elemData.handle = function (e) {
                        return void 0 === jQuery || e && jQuery.event.triggered === e.type ? void 0 : jQuery.event.dispatch.apply(eventHandle.elem, arguments)
                    }).elem = elem), t = (types = (types || "").match(rnotwhite) || [""]).length; t--;) type = origType = (tmp = rtypenamespace.exec(types[t]) || [])[1], namespaces = (tmp[2] || "").split(".").sort(), type && (special = jQuery.event.special[type] || {}, type = (selector ? special.delegateType : special.bindType) || type, special = jQuery.event.special[type] || {}, handleObj = jQuery.extend({
                    type: type,
                    origType: origType,
                    data: data,
                    handler: handler,
                    guid: handler.guid,
                    selector: selector,
                    needsContext: selector && jQuery.expr.match.needsContext.test(selector),
                    namespace: namespaces.join(".")
                }, handleObjIn), (handlers = events[type]) || ((handlers = events[type] = []).delegateCount = 0, special.setup && !1 !== special.setup.call(elem, data, namespaces, eventHandle) || (elem.addEventListener ? elem.addEventListener(type, eventHandle, !1) : elem.attachEvent && elem.attachEvent("on" + type, eventHandle))), special.add && (special.add.call(elem, handleObj), handleObj.handler.guid || (handleObj.handler.guid = handler.guid)), selector ? handlers.splice(handlers.delegateCount++, 0, handleObj) : handlers.push(handleObj), jQuery.event.global[type] = !0);
                elem = null
            }
        },
        remove: function (elem, types, handler, selector, mappedTypes) {
            var j, handleObj, tmp, origCount, t, events, special, handlers, type, namespaces, origType, elemData = jQuery.hasData(elem) && jQuery._data(elem);
            if (elemData && (events = elemData.events)) {
                for (t = (types = (types || "").match(rnotwhite) || [""]).length; t--;)
                    if (type = origType = (tmp = rtypenamespace.exec(types[t]) || [])[1], namespaces = (tmp[2] || "").split(".").sort(), type) {
                        for (special = jQuery.event.special[type] || {}, handlers = events[type = (selector ? special.delegateType : special.bindType) || type] || [], tmp = tmp[2] && new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)"), origCount = j = handlers.length; j--;) handleObj = handlers[j], !mappedTypes && origType !== handleObj.origType || handler && handler.guid !== handleObj.guid || tmp && !tmp.test(handleObj.namespace) || selector && selector !== handleObj.selector && ("**" !== selector || !handleObj.selector) || (handlers.splice(j, 1), handleObj.selector && handlers.delegateCount--, special.remove && special.remove.call(elem, handleObj));
                        origCount && !handlers.length && (special.teardown && !1 !== special.teardown.call(elem, namespaces, elemData.handle) || jQuery.removeEvent(elem, type, elemData.handle), delete events[type])
                    } else
                        for (type in events) jQuery.event.remove(elem, type + types[t], handler, selector, !0);
                jQuery.isEmptyObject(events) && (delete elemData.handle, jQuery._removeData(elem, "events"))
            }
        },
        trigger: function (event, data, elem, onlyHandlers) {
            var handle, ontype, cur, bubbleType, special, tmp, i, eventPath = [elem || document],
                type = hasOwn.call(event, "type") ? event.type : event,
                namespaces = hasOwn.call(event, "namespace") ? event.namespace.split(".") : [];
            if (cur = tmp = elem = elem || document, 3 !== elem.nodeType && 8 !== elem.nodeType && !rfocusMorph.test(type + jQuery.event.triggered) && (type.indexOf(".") > -1 && (type = (namespaces = type.split(".")).shift(), namespaces.sort()), ontype = type.indexOf(":") < 0 && "on" + type, (event = event[jQuery.expando] ? event : new jQuery.Event(type, "object" == typeof event && event)).isTrigger = onlyHandlers ? 2 : 3, event.namespace = namespaces.join("."), event.rnamespace = event.namespace ? new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, event.result = void 0, event.target || (event.target = elem), data = null == data ? [event] : jQuery.makeArray(data, [event]), special = jQuery.event.special[type] || {}, onlyHandlers || !special.trigger || !1 !== special.trigger.apply(elem, data))) {
                if (!onlyHandlers && !special.noBubble && !jQuery.isWindow(elem)) {
                    for (bubbleType = special.delegateType || type, rfocusMorph.test(bubbleType + type) || (cur = cur.parentNode); cur; cur = cur.parentNode) eventPath.push(cur), tmp = cur;
                    tmp === (elem.ownerDocument || document) && eventPath.push(tmp.defaultView || tmp.parentWindow || window)
                }
                for (i = 0;
                    (cur = eventPath[i++]) && !event.isPropagationStopped();) event.type = i > 1 ? bubbleType : special.bindType || type, (handle = (jQuery._data(cur, "events") || {})[event.type] && jQuery._data(cur, "handle")) && handle.apply(cur, data), (handle = ontype && cur[ontype]) && handle.apply && acceptData(cur) && (event.result = handle.apply(cur, data), !1 === event.result && event.preventDefault());
                if (event.type = type, !onlyHandlers && !event.isDefaultPrevented() && (!special._default || !1 === special._default.apply(eventPath.pop(), data)) && acceptData(elem) && ontype && elem[type] && !jQuery.isWindow(elem)) {
                    (tmp = elem[ontype]) && (elem[ontype] = null), jQuery.event.triggered = type;
                    try {
                        elem[type]()
                    } catch (e) {}
                    jQuery.event.triggered = void 0, tmp && (elem[ontype] = tmp)
                }
                return event.result
            }
        },
        dispatch: function (event) {
            event = jQuery.event.fix(event);
            var i, j, ret, matched, handleObj, handlerQueue, args = slice.call(arguments),
                handlers = (jQuery._data(this, "events") || {})[event.type] || [],
                special = jQuery.event.special[event.type] || {};
            if (args[0] = event, event.delegateTarget = this, !special.preDispatch || !1 !== special.preDispatch.call(this, event)) {
                for (handlerQueue = jQuery.event.handlers.call(this, event, handlers), i = 0;
                    (matched = handlerQueue[i++]) && !event.isPropagationStopped();)
                    for (event.currentTarget = matched.elem, j = 0;
                        (handleObj = matched.handlers[j++]) && !event.isImmediatePropagationStopped();) event.rnamespace && !event.rnamespace.test(handleObj.namespace) || (event.handleObj = handleObj, event.data = handleObj.data, void 0 !== (ret = ((jQuery.event.special[handleObj.origType] || {}).handle || handleObj.handler).apply(matched.elem, args)) && !1 === (event.result = ret) && (event.preventDefault(), event.stopPropagation()));
                return special.postDispatch && special.postDispatch.call(this, event), event.result
            }
        },
        handlers: function (event, handlers) {
            var i, matches, sel, handleObj, handlerQueue = [],
                delegateCount = handlers.delegateCount,
                cur = event.target;
            if (delegateCount && cur.nodeType && ("click" !== event.type || isNaN(event.button) || event.button < 1))
                for (; cur != this; cur = cur.parentNode || this)
                    if (1 === cur.nodeType && (!0 !== cur.disabled || "click" !== event.type)) {
                        for (matches = [], i = 0; i < delegateCount; i++) void 0 === matches[sel = (handleObj = handlers[i]).selector + " "] && (matches[sel] = handleObj.needsContext ? jQuery(sel, this).index(cur) > -1 : jQuery.find(sel, this, null, [cur]).length), matches[sel] && matches.push(handleObj);
                        matches.length && handlerQueue.push({
                            elem: cur,
                            handlers: matches
                        })
                    } return delegateCount < handlers.length && handlerQueue.push({
                elem: this,
                handlers: handlers.slice(delegateCount)
            }), handlerQueue
        },
        fix: function (event) {
            if (event[jQuery.expando]) return event;
            var i, prop, copy, type = event.type,
                originalEvent = event,
                fixHook = this.fixHooks[type];
            for (fixHook || (this.fixHooks[type] = fixHook = rmouseEvent.test(type) ? this.mouseHooks : rkeyEvent.test(type) ? this.keyHooks : {}), copy = fixHook.props ? this.props.concat(fixHook.props) : this.props, event = new jQuery.Event(originalEvent), i = copy.length; i--;) event[prop = copy[i]] = originalEvent[prop];
            return event.target || (event.target = originalEvent.srcElement || document), 3 === event.target.nodeType && (event.target = event.target.parentNode), event.metaKey = !!event.metaKey, fixHook.filter ? fixHook.filter(event, originalEvent) : event
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function (event, original) {
                return null == event.which && (event.which = null != original.charCode ? original.charCode : original.keyCode), event
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function (event, original) {
                var body, eventDoc, doc, button = original.button,
                    fromElement = original.fromElement;
                return null == event.pageX && null != original.clientX && (doc = (eventDoc = event.target.ownerDocument || document).documentElement, body = eventDoc.body, event.pageX = original.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0), event.pageY = original.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0)), !event.relatedTarget && fromElement && (event.relatedTarget = fromElement === event.target ? original.toElement : fromElement), event.which || void 0 === button || (event.which = 1 & button ? 1 : 2 & button ? 3 : 4 & button ? 2 : 0), event
            }
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function () {
                    if (this !== safeActiveElement() && this.focus) try {
                        return this.focus(), !1
                    } catch (e) {}
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function () {
                    if (this === safeActiveElement() && this.blur) return this.blur(), !1
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function () {
                    if (jQuery.nodeName(this, "input") && "checkbox" === this.type && this.click) return this.click(), !1
                },
                _default: function (event) {
                    return jQuery.nodeName(event.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function (event) {
                    void 0 !== event.result && event.originalEvent && (event.originalEvent.returnValue = event.result)
                }
            }
        },
        simulate: function (type, elem, event) {
            var e = jQuery.extend(new jQuery.Event, event, {
                type: type,
                isSimulated: !0
            });
            jQuery.event.trigger(e, null, elem), e.isDefaultPrevented() && event.preventDefault()
        }
    }, jQuery.removeEvent = document.removeEventListener ? function (elem, type, handle) {
        elem.removeEventListener && elem.removeEventListener(type, handle)
    } : function (elem, type, handle) {
        var name = "on" + type;
        elem.detachEvent && (void 0 === elem[name] && (elem[name] = null), elem.detachEvent(name, handle))
    }, jQuery.Event = function (src, props) {
        if (!(this instanceof jQuery.Event)) return new jQuery.Event(src, props);
        src && src.type ? (this.originalEvent = src, this.type = src.type, this.isDefaultPrevented = src.defaultPrevented || void 0 === src.defaultPrevented && !1 === src.returnValue ? returnTrue : returnFalse) : this.type = src, props && jQuery.extend(this, props), this.timeStamp = src && src.timeStamp || jQuery.now(), this[jQuery.expando] = !0
    }, jQuery.Event.prototype = {
        constructor: jQuery.Event,
        isDefaultPrevented: returnFalse,
        isPropagationStopped: returnFalse,
        isImmediatePropagationStopped: returnFalse,
        preventDefault: function () {
            var e = this.originalEvent;
            this.isDefaultPrevented = returnTrue, e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1)
        },
        stopPropagation: function () {
            var e = this.originalEvent;
            this.isPropagationStopped = returnTrue, e && !this.isSimulated && (e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0)
        },
        stopImmediatePropagation: function () {
            var e = this.originalEvent;
            this.isImmediatePropagationStopped = returnTrue, e && e.stopImmediatePropagation && e.stopImmediatePropagation(), this.stopPropagation()
        }
    }, jQuery.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function (orig, fix) {
        jQuery.event.special[orig] = {
            delegateType: fix,
            bindType: fix,
            handle: function (event) {
                var ret, related = event.relatedTarget,
                    handleObj = event.handleObj;
                return related && (related === this || jQuery.contains(this, related)) || (event.type = handleObj.origType, ret = handleObj.handler.apply(this, arguments), event.type = fix), ret
            }
        }
    }), support.submit || (jQuery.event.special.submit = {
        setup: function () {
            if (jQuery.nodeName(this, "form")) return !1;
            jQuery.event.add(this, "click._submit keypress._submit", function (e) {
                var elem = e.target,
                    form = jQuery.nodeName(elem, "input") || jQuery.nodeName(elem, "button") ? jQuery.prop(elem, "form") : void 0;
                form && !jQuery._data(form, "submit") && (jQuery.event.add(form, "submit._submit", function (event) {
                    event._submitBubble = !0
                }), jQuery._data(form, "submit", !0))
            })
        },
        postDispatch: function (event) {
            event._submitBubble && (delete event._submitBubble, this.parentNode && !event.isTrigger && jQuery.event.simulate("submit", this.parentNode, event))
        },
        teardown: function () {
            if (jQuery.nodeName(this, "form")) return !1;
            jQuery.event.remove(this, "._submit")
        }
    }), support.change || (jQuery.event.special.change = {
        setup: function () {
            if (rformElems.test(this.nodeName)) return "checkbox" !== this.type && "radio" !== this.type || (jQuery.event.add(this, "propertychange._change", function (event) {
                "checked" === event.originalEvent.propertyName && (this._justChanged = !0)
            }), jQuery.event.add(this, "click._change", function (event) {
                this._justChanged && !event.isTrigger && (this._justChanged = !1), jQuery.event.simulate("change", this, event)
            })), !1;
            jQuery.event.add(this, "beforeactivate._change", function (e) {
                var elem = e.target;
                rformElems.test(elem.nodeName) && !jQuery._data(elem, "change") && (jQuery.event.add(elem, "change._change", function (event) {
                    !this.parentNode || event.isSimulated || event.isTrigger || jQuery.event.simulate("change", this.parentNode, event)
                }), jQuery._data(elem, "change", !0))
            })
        },
        handle: function (event) {
            var elem = event.target;
            if (this !== elem || event.isSimulated || event.isTrigger || "radio" !== elem.type && "checkbox" !== elem.type) return event.handleObj.handler.apply(this, arguments)
        },
        teardown: function () {
            return jQuery.event.remove(this, "._change"), !rformElems.test(this.nodeName)
        }
    }), support.focusin || jQuery.each({
        focus: "focusin",
        blur: "focusout"
    }, function (orig, fix) {
        var handler = function (event) {
            jQuery.event.simulate(fix, event.target, jQuery.event.fix(event))
        };
        jQuery.event.special[fix] = {
            setup: function () {
                var doc = this.ownerDocument || this,
                    attaches = jQuery._data(doc, fix);
                attaches || doc.addEventListener(orig, handler, !0), jQuery._data(doc, fix, (attaches || 0) + 1)
            },
            teardown: function () {
                var doc = this.ownerDocument || this,
                    attaches = jQuery._data(doc, fix) - 1;
                attaches ? jQuery._data(doc, fix, attaches) : (doc.removeEventListener(orig, handler, !0), jQuery._removeData(doc, fix))
            }
        }
    }), jQuery.fn.extend({
        on: function (types, selector, data, fn) {
            return on(this, types, selector, data, fn)
        },
        one: function (types, selector, data, fn) {
            return on(this, types, selector, data, fn, 1)
        },
        off: function (types, selector, fn) {
            var handleObj, type;
            if (types && types.preventDefault && types.handleObj) return handleObj = types.handleObj, jQuery(types.delegateTarget).off(handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType, handleObj.selector, handleObj.handler), this;
            if ("object" == typeof types) {
                for (type in types) this.off(type, selector, types[type]);
                return this
            }
            return !1 !== selector && "function" != typeof selector || (fn = selector, selector = void 0), !1 === fn && (fn = returnFalse), this.each(function () {
                jQuery.event.remove(this, types, fn, selector)
            })
        },
        trigger: function (type, data) {
            return this.each(function () {
                jQuery.event.trigger(type, data, this)
            })
        },
        triggerHandler: function (type, data) {
            var elem = this[0];
            if (elem) return jQuery.event.trigger(type, data, elem, !0)
        }
    });
    var rinlinejQuery = / jQuery\d+="(?:null|\d+)"/g,
        rnoshimcache = new RegExp("<(?:" + nodeNames + ")[\\s/>]", "i"),
        rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,
        rnoInnerhtml = /<script|<style|<link/i,
        rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
        rscriptTypeMasked = /^true\/(.*)/,
        rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
        fragmentDiv = createSafeFragment(document).appendChild(document.createElement("div"));
    function manipulationTarget(elem, content) {
        return jQuery.nodeName(elem, "table") && jQuery.nodeName(11 !== content.nodeType ? content : content.firstChild, "tr") ? elem.getElementsByTagName("tbody")[0] || elem.appendChild(elem.ownerDocument.createElement("tbody")) : elem
    }
    function disableScript(elem) {
        return elem.type = (null !== jQuery.find.attr(elem, "type")) + "/" + elem.type, elem
    }
    function restoreScript(elem) {
        var match = rscriptTypeMasked.exec(elem.type);
        return match ? elem.type = match[1] : elem.removeAttribute("type"), elem
    }
    function cloneCopyEvent(src, dest) {
        if (1 === dest.nodeType && jQuery.hasData(src)) {
            var type, i, l, oldData = jQuery._data(src),
                curData = jQuery._data(dest, oldData),
                events = oldData.events;
            if (events)
                for (type in delete curData.handle, curData.events = {}, events)
                    for (i = 0, l = events[type].length; i < l; i++) jQuery.event.add(dest, type, events[type][i]);
            curData.data && (curData.data = jQuery.extend({}, curData.data))
        }
    }
    function fixCloneNodeIssues(src, dest) {
        var nodeName, e, data;
        if (1 === dest.nodeType) {
            if (nodeName = dest.nodeName.toLowerCase(), !support.noCloneEvent && dest[jQuery.expando]) {
                for (e in (data = jQuery._data(dest)).events) jQuery.removeEvent(dest, e, data.handle);
                dest.removeAttribute(jQuery.expando)
            }
            "script" === nodeName && dest.text !== src.text ? (disableScript(dest).text = src.text, restoreScript(dest)) : "object" === nodeName ? (dest.parentNode && (dest.outerHTML = src.outerHTML), support.html5Clone && src.innerHTML && !jQuery.trim(dest.innerHTML) && (dest.innerHTML = src.innerHTML)) : "input" === nodeName && rcheckableType.test(src.type) ? (dest.defaultChecked = dest.checked = src.checked, dest.value !== src.value && (dest.value = src.value)) : "option" === nodeName ? dest.defaultSelected = dest.selected = src.defaultSelected : "input" !== nodeName && "textarea" !== nodeName || (dest.defaultValue = src.defaultValue)
        }
    }
    function domManip(collection, args, callback, ignored) {
        args = concat.apply([], args);
        var first, node, hasScripts, scripts, doc, fragment, i = 0,
            l = collection.length,
            iNoClone = l - 1,
            value = args[0],
            isFunction = jQuery.isFunction(value);
        if (isFunction || l > 1 && "string" == typeof value && !support.checkClone && rchecked.test(value)) return collection.each(function (index) {
            var self = collection.eq(index);
            isFunction && (args[0] = value.call(this, index, self.html())), domManip(self, args, callback, ignored)
        });
        if (l && (first = (fragment = buildFragment(args, collection[0].ownerDocument, !1, collection, ignored)).firstChild, 1 === fragment.childNodes.length && (fragment = first), first || ignored)) {
            for (hasScripts = (scripts = jQuery.map(getAll(fragment, "script"), disableScript)).length; i < l; i++) node = fragment, i !== iNoClone && (node = jQuery.clone(node, !0, !0), hasScripts && jQuery.merge(scripts, getAll(node, "script"))), callback.call(collection[i], node, i);
            if (hasScripts)
                for (doc = scripts[scripts.length - 1].ownerDocument, jQuery.map(scripts, restoreScript), i = 0; i < hasScripts; i++) node = scripts[i], rscriptType.test(node.type || "") && !jQuery._data(node, "globalEval") && jQuery.contains(doc, node) && (node.src ? jQuery._evalUrl && jQuery._evalUrl(node.src) : jQuery.globalEval((node.text || node.textContent || node.innerHTML || "").replace(rcleanScript, "")));
            fragment = first = null
        }
        return collection
    }
    function remove(elem, selector, keepData) {
        for (var node, elems = selector ? jQuery.filter(selector, elem) : elem, i = 0; null != (node = elems[i]); i++) keepData || 1 !== node.nodeType || jQuery.cleanData(getAll(node)), node.parentNode && (keepData && jQuery.contains(node.ownerDocument, node) && setGlobalEval(getAll(node, "script")), node.parentNode.removeChild(node));
        return elem
    }
    jQuery.extend({
        htmlPrefilter: function (html) {
            return html.replace(rxhtmlTag, "<$1></$2>")
        },
        clone: function (elem, dataAndEvents, deepDataAndEvents) {
            var destElements, node, clone, i, srcElements, inPage = jQuery.contains(elem.ownerDocument, elem);
            if (support.html5Clone || jQuery.isXMLDoc(elem) || !rnoshimcache.test("<" + elem.nodeName + ">") ? clone = elem.cloneNode(!0) : (fragmentDiv.innerHTML = elem.outerHTML, fragmentDiv.removeChild(clone = fragmentDiv.firstChild)), !(support.noCloneEvent && support.noCloneChecked || 1 !== elem.nodeType && 11 !== elem.nodeType || jQuery.isXMLDoc(elem)))
                for (destElements = getAll(clone), srcElements = getAll(elem), i = 0; null != (node = srcElements[i]); ++i) destElements[i] && fixCloneNodeIssues(node, destElements[i]);
            if (dataAndEvents)
                if (deepDataAndEvents)
                    for (srcElements = srcElements || getAll(elem), destElements = destElements || getAll(clone), i = 0; null != (node = srcElements[i]); i++) cloneCopyEvent(node, destElements[i]);
                else cloneCopyEvent(elem, clone);
            return (destElements = getAll(clone, "script")).length > 0 && setGlobalEval(destElements, !inPage && getAll(elem, "script")), destElements = srcElements = node = null, clone
        },
        cleanData: function (elems, forceAcceptData) {
            for (var elem, type, id, data, i = 0, internalKey = jQuery.expando, cache = jQuery.cache, attributes = support.attributes, special = jQuery.event.special; null != (elem = elems[i]); i++)
                if ((forceAcceptData || acceptData(elem)) && (data = (id = elem[internalKey]) && cache[id])) {
                    if (data.events)
                        for (type in data.events) special[type] ? jQuery.event.remove(elem, type) : jQuery.removeEvent(elem, type, data.handle);
                    cache[id] && (delete cache[id], attributes || void 0 === elem.removeAttribute ? elem[internalKey] = void 0 : elem.removeAttribute(internalKey), deletedIds.push(id))
                }
        }
    }), jQuery.fn.extend({
        domManip: domManip,
        detach: function (selector) {
            return remove(this, selector, !0)
        },
        remove: function (selector) {
            return remove(this, selector)
        },
        text: function (value) {
            return access(this, function (value) {
                return void 0 === value ? jQuery.text(this) : this.empty().append((this[0] && this[0].ownerDocument || document).createTextNode(value))
            }, null, value, arguments.length)
        },
        append: function () {
            return domManip(this, arguments, function (elem) {
                1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || manipulationTarget(this, elem).appendChild(elem)
            })
        },
        prepend: function () {
            return domManip(this, arguments, function (elem) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var target = manipulationTarget(this, elem);
                    target.insertBefore(elem, target.firstChild)
                }
            })
        },
        before: function () {
            return domManip(this, arguments, function (elem) {
                this.parentNode && this.parentNode.insertBefore(elem, this)
            })
        },
        after: function () {
            return domManip(this, arguments, function (elem) {
                this.parentNode && this.parentNode.insertBefore(elem, this.nextSibling)
            })
        },
        empty: function () {
            for (var elem, i = 0; null != (elem = this[i]); i++) {
                for (1 === elem.nodeType && jQuery.cleanData(getAll(elem, !1)); elem.firstChild;) elem.removeChild(elem.firstChild);
                elem.options && jQuery.nodeName(elem, "select") && (elem.options.length = 0)
            }
            return this
        },
        clone: function (dataAndEvents, deepDataAndEvents) {
            return dataAndEvents = null != dataAndEvents && dataAndEvents, deepDataAndEvents = null == deepDataAndEvents ? dataAndEvents : deepDataAndEvents, this.map(function () {
                return jQuery.clone(this, dataAndEvents, deepDataAndEvents)
            })
        },
        html: function (value) {
            return access(this, function (value) {
                var elem = this[0] || {},
                    i = 0,
                    l = this.length;
                if (void 0 === value) return 1 === elem.nodeType ? elem.innerHTML.replace(rinlinejQuery, "") : void 0;
                if ("string" == typeof value && !rnoInnerhtml.test(value) && (support.htmlSerialize || !rnoshimcache.test(value)) && (support.leadingWhitespace || !rleadingWhitespace.test(value)) && !wrapMap[(rtagName.exec(value) || ["", ""])[1].toLowerCase()]) {
                    value = jQuery.htmlPrefilter(value);
                    try {
                        for (; i < l; i++) 1 === (elem = this[i] || {}).nodeType && (jQuery.cleanData(getAll(elem, !1)), elem.innerHTML = value);
                        elem = 0
                    } catch (e) {}
                }
                elem && this.empty().append(value)
            }, null, value, arguments.length)
        },
        replaceWith: function () {
            var ignored = [];
            return domManip(this, arguments, function (elem) {
                var parent = this.parentNode;
                jQuery.inArray(this, ignored) < 0 && (jQuery.cleanData(getAll(this)), parent && parent.replaceChild(elem, this))
            }, ignored)
        }
    }), jQuery.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function (name, original) {
        jQuery.fn[name] = function (selector) {
            for (var elems, i = 0, ret = [], insert = jQuery(selector), last = insert.length - 1; i <= last; i++) elems = i === last ? this : this.clone(!0), jQuery(insert[i])[original](elems), push.apply(ret, elems.get());
            return this.pushStack(ret)
        }
    });
    var iframe, elemdisplay = {
        HTML: "block",
        BODY: "block"
    };
    function actualDisplay(name, doc) {
        var elem = jQuery(doc.createElement(name)).appendTo(doc.body),
            display = jQuery.css(elem[0], "display");
        return elem.detach(), display
    }
    function defaultDisplay(nodeName) {
        var doc = document,
            display = elemdisplay[nodeName];
        return display || ("none" !== (display = actualDisplay(nodeName, doc)) && display || ((doc = ((iframe = (iframe || jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement))[0].contentWindow || iframe[0].contentDocument).document).write(), doc.close(), display = actualDisplay(nodeName, doc), iframe.detach()), elemdisplay[nodeName] = display), display
    }
    var rmargin = /^margin/,
        rnumnonpx = new RegExp("^(" + pnum + ")(?!px)[a-z%]+$", "i"),
        swap = function (elem, options, callback, args) {
            var ret, name, old = {};
            for (name in options) old[name] = elem.style[name], elem.style[name] = options[name];
            for (name in ret = callback.apply(elem, args || []), options) elem.style[name] = old[name];
            return ret
        },
        documentElement = document.documentElement;
    ! function () {
        var pixelPositionVal, pixelMarginRightVal, boxSizingReliableVal, reliableHiddenOffsetsVal, reliableMarginRightVal, reliableMarginLeftVal, container = document.createElement("div"),
            div = document.createElement("div");
        function computeStyleTests() {
            var contents, divStyle, documentElement = document.documentElement;
            documentElement.appendChild(container), div.style.cssText = "-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%", pixelPositionVal = boxSizingReliableVal = reliableMarginLeftVal = !1, pixelMarginRightVal = reliableMarginRightVal = !0, window.getComputedStyle && (divStyle = window.getComputedStyle(div), pixelPositionVal = "1%" !== (divStyle || {}).top, reliableMarginLeftVal = "2px" === (divStyle || {}).marginLeft, boxSizingReliableVal = "4px" === (divStyle || {
                width: "4px"
            }).width, div.style.marginRight = "50%", pixelMarginRightVal = "4px" === (divStyle || {
                marginRight: "4px"
            }).marginRight, (contents = div.appendChild(document.createElement("div"))).style.cssText = div.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", contents.style.marginRight = contents.style.width = "0", div.style.width = "1px", reliableMarginRightVal = !parseFloat((window.getComputedStyle(contents) || {}).marginRight), div.removeChild(contents)), div.style.display = "none", (reliableHiddenOffsetsVal = 0 === div.getClientRects().length) && (div.style.display = "", div.innerHTML = "<table><tr><td></td><td>t</td></tr></table>", div.childNodes[0].style.borderCollapse = "separate", (contents = div.getElementsByTagName("td"))[0].style.cssText = "margin:0;border:0;padding:0;display:none", (reliableHiddenOffsetsVal = 0 === contents[0].offsetHeight) && (contents[0].style.display = "", contents[1].style.display = "none", reliableHiddenOffsetsVal = 0 === contents[0].offsetHeight)), documentElement.removeChild(container)
        }
        div.style && (div.style.cssText = "float:left;opacity:.5", support.opacity = "0.5" === div.style.opacity, support.cssFloat = !!div.style.cssFloat, div.style.backgroundClip = "content-box", div.cloneNode(!0).style.backgroundClip = "", support.clearCloneStyle = "content-box" === div.style.backgroundClip, (container = document.createElement("div")).style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute", div.innerHTML = "", container.appendChild(div), support.boxSizing = "" === div.style.boxSizing || "" === div.style.MozBoxSizing || "" === div.style.WebkitBoxSizing, jQuery.extend(support, {
            reliableHiddenOffsets: function () {
                return null == pixelPositionVal && computeStyleTests(), reliableHiddenOffsetsVal
            },
            boxSizingReliable: function () {
                return null == pixelPositionVal && computeStyleTests(), boxSizingReliableVal
            },
            pixelMarginRight: function () {
                return null == pixelPositionVal && computeStyleTests(), pixelMarginRightVal
            },
            pixelPosition: function () {
                return null == pixelPositionVal && computeStyleTests(), pixelPositionVal
            },
            reliableMarginRight: function () {
                return null == pixelPositionVal && computeStyleTests(), reliableMarginRightVal
            },
            reliableMarginLeft: function () {
                return null == pixelPositionVal && computeStyleTests(), reliableMarginLeftVal
            }
        }))
    }();
    var getStyles, curCSS, rposition = /^(top|right|bottom|left)$/;
    function addGetHookIf(conditionFn, hookFn) {
        return {
            get: function () {
                if (!conditionFn()) return (this.get = hookFn).apply(this, arguments);
                delete this.get
            }
        }
    }
    window.getComputedStyle ? (getStyles = function (elem) {
        var view = elem.ownerDocument.defaultView;
        return view && view.opener || (view = window), view.getComputedStyle(elem)
    }, curCSS = function (elem, name, computed) {
        var width, minWidth, maxWidth, ret, style = elem.style;
        return "" !== (ret = (computed = computed || getStyles(elem)) ? computed.getPropertyValue(name) || computed[name] : void 0) && void 0 !== ret || jQuery.contains(elem.ownerDocument, elem) || (ret = jQuery.style(elem, name)), computed && !support.pixelMarginRight() && rnumnonpx.test(ret) && rmargin.test(name) && (width = style.width, minWidth = style.minWidth, maxWidth = style.maxWidth, style.minWidth = style.maxWidth = style.width = ret, ret = computed.width, style.width = width, style.minWidth = minWidth, style.maxWidth = maxWidth), void 0 === ret ? ret : ret + ""
    }) : documentElement.currentStyle && (getStyles = function (elem) {
        return elem.currentStyle
    }, curCSS = function (elem, name, computed) {
        var left, rs, rsLeft, ret, style = elem.style;
        return null == (ret = (computed = computed || getStyles(elem)) ? computed[name] : void 0) && style && style[name] && (ret = style[name]), rnumnonpx.test(ret) && !rposition.test(name) && (left = style.left, (rsLeft = (rs = elem.runtimeStyle) && rs.left) && (rs.left = elem.currentStyle.left), style.left = "fontSize" === name ? "1em" : ret, ret = style.pixelLeft + "px", style.left = left, rsLeft && (rs.left = rsLeft)), void 0 === ret ? ret : ret + "" || "auto"
    });
    var ralpha = /alpha\([^)]*\)/i,
        ropacity = /opacity\s*=\s*([^)]*)/i,
        rdisplayswap = /^(none|table(?!-c[ea]).+)/,
        rnumsplit = new RegExp("^(" + pnum + ")(.*)$", "i"),
        cssShow = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        cssNormalTransform = {
            letterSpacing: "0",
            fontWeight: "400"
        },
        cssPrefixes = ["Webkit", "O", "Moz", "ms"],
        emptyStyle = document.createElement("div").style;
    function vendorPropName(name) {
        if (name in emptyStyle) return name;
        for (var capName = name.charAt(0).toUpperCase() + name.slice(1), i = cssPrefixes.length; i--;)
            if ((name = cssPrefixes[i] + capName) in emptyStyle) return name
    }
    function showHide(elements, show) {
        for (var display, elem, hidden, values = [], index = 0, length = elements.length; index < length; index++)(elem = elements[index]).style && (values[index] = jQuery._data(elem, "olddisplay"), display = elem.style.display, show ? (values[index] || "none" !== display || (elem.style.display = ""), "" === elem.style.display && isHidden(elem) && (values[index] = jQuery._data(elem, "olddisplay", defaultDisplay(elem.nodeName)))) : (hidden = isHidden(elem), (display && "none" !== display || !hidden) && jQuery._data(elem, "olddisplay", hidden ? display : jQuery.css(elem, "display"))));
        for (index = 0; index < length; index++)(elem = elements[index]).style && (show && "none" !== elem.style.display && "" !== elem.style.display || (elem.style.display = show ? values[index] || "" : "none"));
        return elements
    }
    function setPositiveNumber(elem, value, subtract) {
        var matches = rnumsplit.exec(value);
        return matches ? Math.max(0, matches[1] - (subtract || 0)) + (matches[2] || "px") : value
    }
    function augmentWidthOrHeight(elem, name, extra, isBorderBox, styles) {
        for (var i = extra === (isBorderBox ? "border" : "content") ? 4 : "width" === name ? 1 : 0, val = 0; i < 4; i += 2) "margin" === extra && (val += jQuery.css(elem, extra + cssExpand[i], !0, styles)), isBorderBox ? ("content" === extra && (val -= jQuery.css(elem, "padding" + cssExpand[i], !0, styles)), "margin" !== extra && (val -= jQuery.css(elem, "border" + cssExpand[i] + "Width", !0, styles))) : (val += jQuery.css(elem, "padding" + cssExpand[i], !0, styles), "padding" !== extra && (val += jQuery.css(elem, "border" + cssExpand[i] + "Width", !0, styles)));
        return val
    }
    function getWidthOrHeight(elem, name, extra) {
        var valueIsBorderBox = !0,
            val = "width" === name ? elem.offsetWidth : elem.offsetHeight,
            styles = getStyles(elem),
            isBorderBox = support.boxSizing && "border-box" === jQuery.css(elem, "boxSizing", !1, styles);
        if (val <= 0 || null == val) {
            if (((val = curCSS(elem, name, styles)) < 0 || null == val) && (val = elem.style[name]), rnumnonpx.test(val)) return val;
            valueIsBorderBox = isBorderBox && (support.boxSizingReliable() || val === elem.style[name]), val = parseFloat(val) || 0
        }
        return val + augmentWidthOrHeight(elem, name, extra || (isBorderBox ? "border" : "content"), valueIsBorderBox, styles) + "px"
    }
    function Tween(elem, options, prop, end, easing) {
        return new Tween.prototype.init(elem, options, prop, end, easing)
    }
    jQuery.extend({
        cssHooks: {
            opacity: {
                get: function (elem, computed) {
                    if (computed) {
                        var ret = curCSS(elem, "opacity");
                        return "" === ret ? "1" : ret
                    }
                }
            }
        },
        cssNumber: {
            animationIterationCount: !0,
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            float: support.cssFloat ? "cssFloat" : "styleFloat"
        },
        style: function (elem, name, value, extra) {
            if (elem && 3 !== elem.nodeType && 8 !== elem.nodeType && elem.style) {
                var ret, type, hooks, origName = jQuery.camelCase(name),
                    style = elem.style;
                if (name = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(origName) || origName), hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName], void 0 === value) return hooks && "get" in hooks && void 0 !== (ret = hooks.get(elem, !1, extra)) ? ret : style[name];
                if ("string" === (type = typeof value) && (ret = rcssNum.exec(value)) && ret[1] && (value = adjustCSS(elem, name, ret), type = "number"), null != value && value == value && ("number" === type && (value += ret && ret[3] || (jQuery.cssNumber[origName] ? "" : "px")), support.clearCloneStyle || "" !== value || 0 !== name.indexOf("background") || (style[name] = "inherit"), !(hooks && "set" in hooks && void 0 === (value = hooks.set(elem, value, extra))))) try {
                    style[name] = value
                } catch (e) {}
            }
        },
        css: function (elem, name, extra, styles) {
            var num, val, hooks, origName = jQuery.camelCase(name);
            return name = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(origName) || origName), (hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName]) && "get" in hooks && (val = hooks.get(elem, !0, extra)), void 0 === val && (val = curCSS(elem, name, styles)), "normal" === val && name in cssNormalTransform && (val = cssNormalTransform[name]), "" === extra || extra ? (num = parseFloat(val), !0 === extra || isFinite(num) ? num || 0 : val) : val
        }
    }), jQuery.each(["height", "width"], function (i, name) {
        jQuery.cssHooks[name] = {
            get: function (elem, computed, extra) {
                if (computed) return rdisplayswap.test(jQuery.css(elem, "display")) && 0 === elem.offsetWidth ? swap(elem, cssShow, function () {
                    return getWidthOrHeight(elem, name, extra)
                }) : getWidthOrHeight(elem, name, extra)
            },
            set: function (elem, value, extra) {
                var styles = extra && getStyles(elem);
                return setPositiveNumber(0, value, extra ? augmentWidthOrHeight(elem, name, extra, support.boxSizing && "border-box" === jQuery.css(elem, "boxSizing", !1, styles), styles) : 0)
            }
        }
    }), support.opacity || (jQuery.cssHooks.opacity = {
        get: function (elem, computed) {
            return ropacity.test((computed && elem.currentStyle ? elem.currentStyle.filter : elem.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : computed ? "1" : ""
        },
        set: function (elem, value) {
            var style = elem.style,
                currentStyle = elem.currentStyle,
                opacity = jQuery.isNumeric(value) ? "alpha(opacity=" + 100 * value + ")" : "",
                filter = currentStyle && currentStyle.filter || style.filter || "";
            style.zoom = 1, (value >= 1 || "" === value) && "" === jQuery.trim(filter.replace(ralpha, "")) && style.removeAttribute && (style.removeAttribute("filter"), "" === value || currentStyle && !currentStyle.filter) || (style.filter = ralpha.test(filter) ? filter.replace(ralpha, opacity) : filter + " " + opacity)
        }
    }), jQuery.cssHooks.marginRight = addGetHookIf(support.reliableMarginRight, function (elem, computed) {
        if (computed) return swap(elem, {
            display: "inline-block"
        }, curCSS, [elem, "marginRight"])
    }), jQuery.cssHooks.marginLeft = addGetHookIf(support.reliableMarginLeft, function (elem, computed) {
        if (computed) return (parseFloat(curCSS(elem, "marginLeft")) || (jQuery.contains(elem.ownerDocument, elem) ? elem.getBoundingClientRect().left - swap(elem, {
            marginLeft: 0
        }, function () {
            return elem.getBoundingClientRect().left
        }) : 0)) + "px"
    }), jQuery.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function (prefix, suffix) {
        jQuery.cssHooks[prefix + suffix] = {
            expand: function (value) {
                for (var i = 0, expanded = {}, parts = "string" == typeof value ? value.split(" ") : [value]; i < 4; i++) expanded[prefix + cssExpand[i] + suffix] = parts[i] || parts[i - 2] || parts[0];
                return expanded
            }
        }, rmargin.test(prefix) || (jQuery.cssHooks[prefix + suffix].set = setPositiveNumber)
    }), jQuery.fn.extend({
        css: function (name, value) {
            return access(this, function (elem, name, value) {
                var styles, len, map = {},
                    i = 0;
                if (jQuery.isArray(name)) {
                    for (styles = getStyles(elem), len = name.length; i < len; i++) map[name[i]] = jQuery.css(elem, name[i], !1, styles);
                    return map
                }
                return void 0 !== value ? jQuery.style(elem, name, value) : jQuery.css(elem, name)
            }, name, value, arguments.length > 1)
        },
        show: function () {
            return showHide(this, !0)
        },
        hide: function () {
            return showHide(this)
        },
        toggle: function (state) {
            return "boolean" == typeof state ? state ? this.show() : this.hide() : this.each(function () {
                isHidden(this) ? jQuery(this).show() : jQuery(this).hide()
            })
        }
    }), jQuery.Tween = Tween, Tween.prototype = {
        constructor: Tween,
        init: function (elem, options, prop, end, easing, unit) {
            this.elem = elem, this.prop = prop, this.easing = easing || jQuery.easing._default, this.options = options, this.start = this.now = this.cur(), this.end = end, this.unit = unit || (jQuery.cssNumber[prop] ? "" : "px")
        },
        cur: function () {
            var hooks = Tween.propHooks[this.prop];
            return hooks && hooks.get ? hooks.get(this) : Tween.propHooks._default.get(this)
        },
        run: function (percent) {
            var eased, hooks = Tween.propHooks[this.prop];
            return this.options.duration ? this.pos = eased = jQuery.easing[this.easing](percent, this.options.duration * percent, 0, 1, this.options.duration) : this.pos = eased = percent, this.now = (this.end - this.start) * eased + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), hooks && hooks.set ? hooks.set(this) : Tween.propHooks._default.set(this), this
        }
    }, Tween.prototype.init.prototype = Tween.prototype, Tween.propHooks = {
        _default: {
            get: function (tween) {
                var result;
                return 1 !== tween.elem.nodeType || null != tween.elem[tween.prop] && null == tween.elem.style[tween.prop] ? tween.elem[tween.prop] : (result = jQuery.css(tween.elem, tween.prop, "")) && "auto" !== result ? result : 0
            },
            set: function (tween) {
                jQuery.fx.step[tween.prop] ? jQuery.fx.step[tween.prop](tween) : 1 !== tween.elem.nodeType || null == tween.elem.style[jQuery.cssProps[tween.prop]] && !jQuery.cssHooks[tween.prop] ? tween.elem[tween.prop] = tween.now : jQuery.style(tween.elem, tween.prop, tween.now + tween.unit)
            }
        }
    }, Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
        set: function (tween) {
            tween.elem.nodeType && tween.elem.parentNode && (tween.elem[tween.prop] = tween.now)
        }
    }, jQuery.easing = {
        linear: function (p) {
            return p
        },
        swing: function (p) {
            return .5 - Math.cos(p * Math.PI) / 2
        },
        _default: "swing"
    }, jQuery.fx = Tween.prototype.init, jQuery.fx.step = {};
    var fxNow, timerId, rfxtypes = /^(?:toggle|show|hide)$/,
        rrun = /queueHooks$/;
    function createFxNow() {
        return window.setTimeout(function () {
            fxNow = void 0
        }), fxNow = jQuery.now()
    }
    function genFx(type, includeWidth) {
        var which, attrs = {
                height: type
            },
            i = 0;
        for (includeWidth = includeWidth ? 1 : 0; i < 4; i += 2 - includeWidth) attrs["margin" + (which = cssExpand[i])] = attrs["padding" + which] = type;
        return includeWidth && (attrs.opacity = attrs.width = type), attrs
    }
    function createTween(value, prop, animation) {
        for (var tween, collection = (Animation.tweeners[prop] || []).concat(Animation.tweeners["*"]), index = 0, length = collection.length; index < length; index++)
            if (tween = collection[index].call(animation, prop, value)) return tween
    }
    function Animation(elem, properties, options) {
        var result, stopped, index = 0,
            length = Animation.prefilters.length,
            deferred = jQuery.Deferred().always(function () {
                delete tick.elem
            }),
            tick = function () {
                if (stopped) return !1;
                for (var currentTime = fxNow || createFxNow(), remaining = Math.max(0, animation.startTime + animation.duration - currentTime), percent = 1 - (remaining / animation.duration || 0), index = 0, length = animation.tweens.length; index < length; index++) animation.tweens[index].run(percent);
                return deferred.notifyWith(elem, [animation, percent, remaining]), percent < 1 && length ? remaining : (deferred.resolveWith(elem, [animation]), !1)
            },
            animation = deferred.promise({
                elem: elem,
                props: jQuery.extend({}, properties),
                opts: jQuery.extend(!0, {
                    specialEasing: {},
                    easing: jQuery.easing._default
                }, options),
                originalProperties: properties,
                originalOptions: options,
                startTime: fxNow || createFxNow(),
                duration: options.duration,
                tweens: [],
                createTween: function (prop, end) {
                    var tween = jQuery.Tween(elem, animation.opts, prop, end, animation.opts.specialEasing[prop] || animation.opts.easing);
                    return animation.tweens.push(tween), tween
                },
                stop: function (gotoEnd) {
                    var index = 0,
                        length = gotoEnd ? animation.tweens.length : 0;
                    if (stopped) return this;
                    for (stopped = !0; index < length; index++) animation.tweens[index].run(1);
                    return gotoEnd ? (deferred.notifyWith(elem, [animation, 1, 0]), deferred.resolveWith(elem, [animation, gotoEnd])) : deferred.rejectWith(elem, [animation, gotoEnd]), this
                }
            }),
            props = animation.props;
        for (! function (props, specialEasing) {
                var index, name, easing, value, hooks;
                for (index in props)
                    if (easing = specialEasing[name = jQuery.camelCase(index)], value = props[index], jQuery.isArray(value) && (easing = value[1], value = props[index] = value[0]), index !== name && (props[name] = value, delete props[index]), (hooks = jQuery.cssHooks[name]) && "expand" in hooks)
                        for (index in value = hooks.expand(value), delete props[name], value) index in props || (props[index] = value[index], specialEasing[index] = easing);
                    else specialEasing[name] = easing
            }(props, animation.opts.specialEasing); index < length; index++)
            if (result = Animation.prefilters[index].call(animation, elem, props, animation.opts)) return jQuery.isFunction(result.stop) && (jQuery._queueHooks(animation.elem, animation.opts.queue).stop = jQuery.proxy(result.stop, result)), result;
        return jQuery.map(props, createTween, animation), jQuery.isFunction(animation.opts.start) && animation.opts.start.call(elem, animation), jQuery.fx.timer(jQuery.extend(tick, {
            elem: elem,
            anim: animation,
            queue: animation.opts.queue
        })), animation.progress(animation.opts.progress).done(animation.opts.done, animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)
    }
    jQuery.Animation = jQuery.extend(Animation, {
            tweeners: {
                "*": [function (prop, value) {
                    var tween = this.createTween(prop, value);
                    return adjustCSS(tween.elem, prop, rcssNum.exec(value), tween), tween
                }]
            },
            tweener: function (props, callback) {
                jQuery.isFunction(props) ? (callback = props, props = ["*"]) : props = props.match(rnotwhite);
                for (var prop, index = 0, length = props.length; index < length; index++) prop = props[index], Animation.tweeners[prop] = Animation.tweeners[prop] || [], Animation.tweeners[prop].unshift(callback)
            },
            prefilters: [function (elem, props, opts) {
                var prop, value, toggle, tween, hooks, oldfire, display, anim = this,
                    orig = {},
                    style = elem.style,
                    hidden = elem.nodeType && isHidden(elem),
                    dataShow = jQuery._data(elem, "fxshow");
                for (prop in opts.queue || (null == (hooks = jQuery._queueHooks(elem, "fx")).unqueued && (hooks.unqueued = 0, oldfire = hooks.empty.fire, hooks.empty.fire = function () {
                        hooks.unqueued || oldfire()
                    }), hooks.unqueued++, anim.always(function () {
                        anim.always(function () {
                            hooks.unqueued--, jQuery.queue(elem, "fx").length || hooks.empty.fire()
                        })
                    })), 1 === elem.nodeType && ("height" in props || "width" in props) && (opts.overflow = [style.overflow, style.overflowX, style.overflowY], "inline" === ("none" === (display = jQuery.css(elem, "display")) ? jQuery._data(elem, "olddisplay") || defaultDisplay(elem.nodeName) : display) && "none" === jQuery.css(elem, "float") && (support.inlineBlockNeedsLayout && "inline" !== defaultDisplay(elem.nodeName) ? style.zoom = 1 : style.display = "inline-block")), opts.overflow && (style.overflow = "hidden", support.shrinkWrapBlocks() || anim.always(function () {
                        style.overflow = opts.overflow[0], style.overflowX = opts.overflow[1], style.overflowY = opts.overflow[2]
                    })), props)
                    if (value = props[prop], rfxtypes.exec(value)) {
                        if (delete props[prop], toggle = toggle || "toggle" === value, value === (hidden ? "hide" : "show")) {
                            if ("show" !== value || !dataShow || void 0 === dataShow[prop]) continue;
                            hidden = !0
                        }
                        orig[prop] = dataShow && dataShow[prop] || jQuery.style(elem, prop)
                    } else display = void 0;
                if (jQuery.isEmptyObject(orig)) "inline" === ("none" === display ? defaultDisplay(elem.nodeName) : display) && (style.display = display);
                else
                    for (prop in dataShow ? "hidden" in dataShow && (hidden = dataShow.hidden) : dataShow = jQuery._data(elem, "fxshow", {}), toggle && (dataShow.hidden = !hidden), hidden ? jQuery(elem).show() : anim.done(function () {
                            jQuery(elem).hide()
                        }), anim.done(function () {
                            var prop;
                            for (prop in jQuery._removeData(elem, "fxshow"), orig) jQuery.style(elem, prop, orig[prop])
                        }), orig) tween = createTween(hidden ? dataShow[prop] : 0, prop, anim), prop in dataShow || (dataShow[prop] = tween.start, hidden && (tween.end = tween.start, tween.start = "width" === prop || "height" === prop ? 1 : 0))
            }],
            prefilter: function (callback, prepend) {
                prepend ? Animation.prefilters.unshift(callback) : Animation.prefilters.push(callback)
            }
        }), jQuery.speed = function (speed, easing, fn) {
            var opt = speed && "object" == typeof speed ? jQuery.extend({}, speed) : {
                complete: fn || !fn && easing || jQuery.isFunction(speed) && speed,
                duration: speed,
                easing: fn && easing || easing && !jQuery.isFunction(easing) && easing
            };
            return opt.duration = jQuery.fx.off ? 0 : "number" == typeof opt.duration ? opt.duration : opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[opt.duration] : jQuery.fx.speeds._default, null != opt.queue && !0 !== opt.queue || (opt.queue = "fx"), opt.old = opt.complete, opt.complete = function () {
                jQuery.isFunction(opt.old) && opt.old.call(this), opt.queue && jQuery.dequeue(this, opt.queue)
            }, opt
        }, jQuery.fn.extend({
            fadeTo: function (speed, to, easing, callback) {
                return this.filter(isHidden).css("opacity", 0).show().end().animate({
                    opacity: to
                }, speed, easing, callback)
            },
            animate: function (prop, speed, easing, callback) {
                var empty = jQuery.isEmptyObject(prop),
                    optall = jQuery.speed(speed, easing, callback),
                    doAnimation = function () {
                        var anim = Animation(this, jQuery.extend({}, prop), optall);
                        (empty || jQuery._data(this, "finish")) && anim.stop(!0)
                    };
                return doAnimation.finish = doAnimation, empty || !1 === optall.queue ? this.each(doAnimation) : this.queue(optall.queue, doAnimation)
            },
            stop: function (type, clearQueue, gotoEnd) {
                var stopQueue = function (hooks) {
                    var stop = hooks.stop;
                    delete hooks.stop, stop(gotoEnd)
                };
                return "string" != typeof type && (gotoEnd = clearQueue, clearQueue = type, type = void 0), clearQueue && !1 !== type && this.queue(type || "fx", []), this.each(function () {
                    var dequeue = !0,
                        index = null != type && type + "queueHooks",
                        timers = jQuery.timers,
                        data = jQuery._data(this);
                    if (index) data[index] && data[index].stop && stopQueue(data[index]);
                    else
                        for (index in data) data[index] && data[index].stop && rrun.test(index) && stopQueue(data[index]);
                    for (index = timers.length; index--;) timers[index].elem !== this || null != type && timers[index].queue !== type || (timers[index].anim.stop(gotoEnd), dequeue = !1, timers.splice(index, 1));
                    !dequeue && gotoEnd || jQuery.dequeue(this, type)
                })
            },
            finish: function (type) {
                return !1 !== type && (type = type || "fx"), this.each(function () {
                    var index, data = jQuery._data(this),
                        queue = data[type + "queue"],
                        hooks = data[type + "queueHooks"],
                        timers = jQuery.timers,
                        length = queue ? queue.length : 0;
                    for (data.finish = !0, jQuery.queue(this, type, []), hooks && hooks.stop && hooks.stop.call(this, !0), index = timers.length; index--;) timers[index].elem === this && timers[index].queue === type && (timers[index].anim.stop(!0), timers.splice(index, 1));
                    for (index = 0; index < length; index++) queue[index] && queue[index].finish && queue[index].finish.call(this);
                    delete data.finish
                })
            }
        }), jQuery.each(["toggle", "show", "hide"], function (i, name) {
            var cssFn = jQuery.fn[name];
            jQuery.fn[name] = function (speed, easing, callback) {
                return null == speed || "boolean" == typeof speed ? cssFn.apply(this, arguments) : this.animate(genFx(name, !0), speed, easing, callback)
            }
        }), jQuery.each({
            slideDown: genFx("show"),
            slideUp: genFx("hide"),
            slideToggle: genFx("toggle"),
            fadeIn: {
                opacity: "show"
            },
            fadeOut: {
                opacity: "hide"
            },
            fadeToggle: {
                opacity: "toggle"
            }
        }, function (name, props) {
            jQuery.fn[name] = function (speed, easing, callback) {
                return this.animate(props, speed, easing, callback)
            }
        }), jQuery.timers = [], jQuery.fx.tick = function () {
            var timer, timers = jQuery.timers,
                i = 0;
            for (fxNow = jQuery.now(); i < timers.length; i++)(timer = timers[i])() || timers[i] !== timer || timers.splice(i--, 1);
            timers.length || jQuery.fx.stop(), fxNow = void 0
        }, jQuery.fx.timer = function (timer) {
            jQuery.timers.push(timer), timer() ? jQuery.fx.start() : jQuery.timers.pop()
        }, jQuery.fx.interval = 13, jQuery.fx.start = function () {
            timerId || (timerId = window.setInterval(jQuery.fx.tick, jQuery.fx.interval))
        }, jQuery.fx.stop = function () {
            window.clearInterval(timerId), timerId = null
        }, jQuery.fx.speeds = {
            slow: 600,
            fast: 200,
            _default: 400
        }, jQuery.fn.delay = function (time, type) {
            return time = jQuery.fx && jQuery.fx.speeds[time] || time, type = type || "fx", this.queue(type, function (next, hooks) {
                var timeout = window.setTimeout(next, time);
                hooks.stop = function () {
                    window.clearTimeout(timeout)
                }
            })
        },
        function () {
            var a, input = document.createElement("input"),
                div = document.createElement("div"),
                select = document.createElement("select"),
                opt = select.appendChild(document.createElement("option"));
            (div = document.createElement("div")).setAttribute("className", "t"), div.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", a = div.getElementsByTagName("a")[0], input.setAttribute("type", "checkbox"), div.appendChild(input), (a = div.getElementsByTagName("a")[0]).style.cssText = "top:1px", support.getSetAttribute = "t" !== div.className, support.style = /top/.test(a.getAttribute("style")), support.hrefNormalized = "/a" === a.getAttribute("href"), support.checkOn = !!input.value, support.optSelected = opt.selected, support.enctype = !!document.createElement("form").enctype, select.disabled = !0, support.optDisabled = !opt.disabled, (input = document.createElement("input")).setAttribute("value", ""), support.input = "" === input.getAttribute("value"), input.value = "t", input.setAttribute("type", "radio"), support.radioValue = "t" === input.value
        }();
    var rreturn = /\r/g,
        rspaces = /[\x20\t\r\n\f]+/g;
    jQuery.fn.extend({
        val: function (value) {
            var hooks, ret, isFunction, elem = this[0];
            return arguments.length ? (isFunction = jQuery.isFunction(value), this.each(function (i) {
                var val;
                1 === this.nodeType && (null == (val = isFunction ? value.call(this, i, jQuery(this).val()) : value) ? val = "" : "number" == typeof val ? val += "" : jQuery.isArray(val) && (val = jQuery.map(val, function (value) {
                    return null == value ? "" : value + ""
                })), (hooks = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()]) && "set" in hooks && void 0 !== hooks.set(this, val, "value") || (this.value = val))
            })) : elem ? (hooks = jQuery.valHooks[elem.type] || jQuery.valHooks[elem.nodeName.toLowerCase()]) && "get" in hooks && void 0 !== (ret = hooks.get(elem, "value")) ? ret : "string" == typeof (ret = elem.value) ? ret.replace(rreturn, "") : null == ret ? "" : ret : void 0
        }
    }), jQuery.extend({
        valHooks: {
            option: {
                get: function (elem) {
                    var val = jQuery.find.attr(elem, "value");
                    return null != val ? val : jQuery.trim(jQuery.text(elem)).replace(rspaces, " ")
                }
            },
            select: {
                get: function (elem) {
                    for (var value, option, options = elem.options, index = elem.selectedIndex, one = "select-one" === elem.type || index < 0, values = one ? null : [], max = one ? index + 1 : options.length, i = index < 0 ? max : one ? index : 0; i < max; i++)
                        if (((option = options[i]).selected || i === index) && (support.optDisabled ? !option.disabled : null === option.getAttribute("disabled")) && (!option.parentNode.disabled || !jQuery.nodeName(option.parentNode, "optgroup"))) {
                            if (value = jQuery(option).val(), one) return value;
                            values.push(value)
                        } return values
                },
                set: function (elem, value) {
                    for (var optionSet, option, options = elem.options, values = jQuery.makeArray(value), i = options.length; i--;)
                        if (option = options[i], jQuery.inArray(jQuery.valHooks.option.get(option), values) > -1) try {
                            option.selected = optionSet = !0
                        } catch (_) {
                            option.scrollHeight
                        } else option.selected = !1;
                    return optionSet || (elem.selectedIndex = -1), options
                }
            }
        }
    }), jQuery.each(["radio", "checkbox"], function () {
        jQuery.valHooks[this] = {
            set: function (elem, value) {
                if (jQuery.isArray(value)) return elem.checked = jQuery.inArray(jQuery(elem).val(), value) > -1
            }
        }, support.checkOn || (jQuery.valHooks[this].get = function (elem) {
            return null === elem.getAttribute("value") ? "on" : elem.value
        })
    });
    var nodeHook, boolHook, attrHandle = jQuery.expr.attrHandle,
        ruseDefault = /^(?:checked|selected)$/i,
        getSetAttribute = support.getSetAttribute,
        getSetInput = support.input;
    jQuery.fn.extend({
        attr: function (name, value) {
            return access(this, jQuery.attr, name, value, arguments.length > 1)
        },
        removeAttr: function (name) {
            return this.each(function () {
                jQuery.removeAttr(this, name)
            })
        }
    }), jQuery.extend({
        attr: function (elem, name, value) {
            var ret, hooks, nType = elem.nodeType;
            if (3 !== nType && 8 !== nType && 2 !== nType) return void 0 === elem.getAttribute ? jQuery.prop(elem, name, value) : (1 === nType && jQuery.isXMLDoc(elem) || (name = name.toLowerCase(), hooks = jQuery.attrHooks[name] || (jQuery.expr.match.bool.test(name) ? boolHook : nodeHook)), void 0 !== value ? null === value ? void jQuery.removeAttr(elem, name) : hooks && "set" in hooks && void 0 !== (ret = hooks.set(elem, value, name)) ? ret : (elem.setAttribute(name, value + ""), value) : hooks && "get" in hooks && null !== (ret = hooks.get(elem, name)) ? ret : null == (ret = jQuery.find.attr(elem, name)) ? void 0 : ret)
        },
        attrHooks: {
            type: {
                set: function (elem, value) {
                    if (!support.radioValue && "radio" === value && jQuery.nodeName(elem, "input")) {
                        var val = elem.value;
                        return elem.setAttribute("type", value), val && (elem.value = val), value
                    }
                }
            }
        },
        removeAttr: function (elem, value) {
            var name, propName, i = 0,
                attrNames = value && value.match(rnotwhite);
            if (attrNames && 1 === elem.nodeType)
                for (; name = attrNames[i++];) propName = jQuery.propFix[name] || name, jQuery.expr.match.bool.test(name) ? getSetInput && getSetAttribute || !ruseDefault.test(name) ? elem[propName] = !1 : elem[jQuery.camelCase("default-" + name)] = elem[propName] = !1 : jQuery.attr(elem, name, ""), elem.removeAttribute(getSetAttribute ? name : propName)
        }
    }), boolHook = {
        set: function (elem, value, name) {
            return !1 === value ? jQuery.removeAttr(elem, name) : getSetInput && getSetAttribute || !ruseDefault.test(name) ? elem.setAttribute(!getSetAttribute && jQuery.propFix[name] || name, name) : elem[jQuery.camelCase("default-" + name)] = elem[name] = !0, name
        }
    }, jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g), function (i, name) {
        var getter = attrHandle[name] || jQuery.find.attr;
        getSetInput && getSetAttribute || !ruseDefault.test(name) ? attrHandle[name] = function (elem, name, isXML) {
            var ret, handle;
            return isXML || (handle = attrHandle[name], attrHandle[name] = ret, ret = null != getter(elem, name, isXML) ? name.toLowerCase() : null, attrHandle[name] = handle), ret
        } : attrHandle[name] = function (elem, name, isXML) {
            if (!isXML) return elem[jQuery.camelCase("default-" + name)] ? name.toLowerCase() : null
        }
    }), getSetInput && getSetAttribute || (jQuery.attrHooks.value = {
        set: function (elem, value, name) {
            if (!jQuery.nodeName(elem, "input")) return nodeHook && nodeHook.set(elem, value, name);
            elem.defaultValue = value
        }
    }), getSetAttribute || (nodeHook = {
        set: function (elem, value, name) {
            var ret = elem.getAttributeNode(name);
            if (ret || elem.setAttributeNode(ret = elem.ownerDocument.createAttribute(name)), ret.value = value += "", "value" === name || value === elem.getAttribute(name)) return value
        }
    }, attrHandle.id = attrHandle.name = attrHandle.coords = function (elem, name, isXML) {
        var ret;
        if (!isXML) return (ret = elem.getAttributeNode(name)) && "" !== ret.value ? ret.value : null
    }, jQuery.valHooks.button = {
        get: function (elem, name) {
            var ret = elem.getAttributeNode(name);
            if (ret && ret.specified) return ret.value
        },
        set: nodeHook.set
    }, jQuery.attrHooks.contenteditable = {
        set: function (elem, value, name) {
            nodeHook.set(elem, "" !== value && value, name)
        }
    }, jQuery.each(["width", "height"], function (i, name) {
        jQuery.attrHooks[name] = {
            set: function (elem, value) {
                if ("" === value) return elem.setAttribute(name, "auto"), value
            }
        }
    })), support.style || (jQuery.attrHooks.style = {
        get: function (elem) {
            return elem.style.cssText || void 0
        },
        set: function (elem, value) {
            return elem.style.cssText = value + ""
        }
    });
    var rfocusable = /^(?:input|select|textarea|button|object)$/i,
        rclickable = /^(?:a|area)$/i;
    jQuery.fn.extend({
        prop: function (name, value) {
            return access(this, jQuery.prop, name, value, arguments.length > 1)
        },
        removeProp: function (name) {
            return name = jQuery.propFix[name] || name, this.each(function () {
                try {
                    this[name] = void 0, delete this[name]
                } catch (e) {}
            })
        }
    }), jQuery.extend({
        prop: function (elem, name, value) {
            var ret, hooks, nType = elem.nodeType;
            if (3 !== nType && 8 !== nType && 2 !== nType) return 1 === nType && jQuery.isXMLDoc(elem) || (name = jQuery.propFix[name] || name, hooks = jQuery.propHooks[name]), void 0 !== value ? hooks && "set" in hooks && void 0 !== (ret = hooks.set(elem, value, name)) ? ret : elem[name] = value : hooks && "get" in hooks && null !== (ret = hooks.get(elem, name)) ? ret : elem[name]
        },
        propHooks: {
            tabIndex: {
                get: function (elem) {
                    var tabindex = jQuery.find.attr(elem, "tabindex");
                    return tabindex ? parseInt(tabindex, 10) : rfocusable.test(elem.nodeName) || rclickable.test(elem.nodeName) && elem.href ? 0 : -1
                }
            }
        },
        propFix: {
            for: "htmlFor",
            class: "className"
        }
    }), support.hrefNormalized || jQuery.each(["href", "src"], function (i, name) {
        jQuery.propHooks[name] = {
            get: function (elem) {
                return elem.getAttribute(name, 4)
            }
        }
    }), support.optSelected || (jQuery.propHooks.selected = {
        get: function (elem) {
            var parent = elem.parentNode;
            return parent && (parent.selectedIndex, parent.parentNode && parent.parentNode.selectedIndex), null
        },
        set: function (elem) {
            var parent = elem.parentNode;
            parent && (parent.selectedIndex, parent.parentNode && parent.parentNode.selectedIndex)
        }
    }), jQuery.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () {
        jQuery.propFix[this.toLowerCase()] = this
    }), support.enctype || (jQuery.propFix.enctype = "encoding");
    var rclass = /[\t\r\n\f]/g;
    function getClass(elem) {
        return jQuery.attr(elem, "class") || ""
    }
    jQuery.fn.extend({
        addClass: function (value) {
            var classes, elem, cur, curValue, clazz, j, finalValue, i = 0;
            if (jQuery.isFunction(value)) return this.each(function (j) {
                jQuery(this).addClass(value.call(this, j, getClass(this)))
            });
            if ("string" == typeof value && value)
                for (classes = value.match(rnotwhite) || []; elem = this[i++];)
                    if (curValue = getClass(elem), cur = 1 === elem.nodeType && (" " + curValue + " ").replace(rclass, " ")) {
                        for (j = 0; clazz = classes[j++];) cur.indexOf(" " + clazz + " ") < 0 && (cur += clazz + " ");
                        curValue !== (finalValue = jQuery.trim(cur)) && jQuery.attr(elem, "class", finalValue)
                    } return this
        },
        removeClass: function (value) {
            var classes, elem, cur, curValue, clazz, j, finalValue, i = 0;
            if (jQuery.isFunction(value)) return this.each(function (j) {
                jQuery(this).removeClass(value.call(this, j, getClass(this)))
            });
            if (!arguments.length) return this.attr("class", "");
            if ("string" == typeof value && value)
                for (classes = value.match(rnotwhite) || []; elem = this[i++];)
                    if (curValue = getClass(elem), cur = 1 === elem.nodeType && (" " + curValue + " ").replace(rclass, " ")) {
                        for (j = 0; clazz = classes[j++];)
                            for (; cur.indexOf(" " + clazz + " ") > -1;) cur = cur.replace(" " + clazz + " ", " ");
                        curValue !== (finalValue = jQuery.trim(cur)) && jQuery.attr(elem, "class", finalValue)
                    } return this
        },
        toggleClass: function (value, stateVal) {
            var type = typeof value;
            return "boolean" == typeof stateVal && "string" === type ? stateVal ? this.addClass(value) : this.removeClass(value) : jQuery.isFunction(value) ? this.each(function (i) {
                jQuery(this).toggleClass(value.call(this, i, getClass(this), stateVal), stateVal)
            }) : this.each(function () {
                var className, i, self, classNames;
                if ("string" === type)
                    for (i = 0, self = jQuery(this), classNames = value.match(rnotwhite) || []; className = classNames[i++];) self.hasClass(className) ? self.removeClass(className) : self.addClass(className);
                else void 0 !== value && "boolean" !== type || ((className = getClass(this)) && jQuery._data(this, "__className__", className), jQuery.attr(this, "class", className || !1 === value ? "" : jQuery._data(this, "__className__") || ""))
            })
        },
        hasClass: function (selector) {
            var className, elem, i = 0;
            for (className = " " + selector + " "; elem = this[i++];)
                if (1 === elem.nodeType && (" " + getClass(elem) + " ").replace(rclass, " ").indexOf(className) > -1) return !0;
            return !1
        }
    }), jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (i, name) {
        jQuery.fn[name] = function (data, fn) {
            return arguments.length > 0 ? this.on(name, null, data, fn) : this.trigger(name)
        }
    }), jQuery.fn.extend({
        hover: function (fnOver, fnOut) {
            return this.mouseenter(fnOver).mouseleave(fnOut || fnOver)
        }
    });
    var location = window.location,
        nonce = jQuery.now(),
        rquery = /\?/,
        rvalidtokens = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
    jQuery.parseJSON = function (data) {
        if (window.JSON && window.JSON.parse) return window.JSON.parse(data + "");
        var requireNonComma, depth = null,
            str = jQuery.trim(data + "");
        return str && !jQuery.trim(str.replace(rvalidtokens, function (token, comma, open, close) {
            return requireNonComma && comma && (depth = 0), 0 === depth ? token : (requireNonComma = open || comma, depth += !close - !open, "")
        })) ? Function("return " + str)() : jQuery.error("Invalid JSON: " + data)
    }, jQuery.parseXML = function (data) {
        var xml;
        if (!data || "string" != typeof data) return null;
        try {
            window.DOMParser ? xml = (new window.DOMParser).parseFromString(data, "text/xml") : ((xml = new window.ActiveXObject("Microsoft.XMLDOM")).async = "false", xml.loadXML(data))
        } catch (e) {
            xml = void 0
        }
        return xml && xml.documentElement && !xml.getElementsByTagName("parsererror").length || jQuery.error("Invalid XML: " + data), xml
    };
    var rhash = /#.*$/,
        rts = /([?&])_=[^&]*/,
        rheaders = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm,
        rnoContent = /^(?:GET|HEAD)$/,
        rprotocol = /^\/\//,
        rurl = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
        prefilters = {},
        transports = {},
        allTypes = "*/".concat("*"),
        ajaxLocation = location.href,
        ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || [];
    function addToPrefiltersOrTransports(structure) {
        return function (dataTypeExpression, func) {
            "string" != typeof dataTypeExpression && (func = dataTypeExpression, dataTypeExpression = "*");
            var dataType, i = 0,
                dataTypes = dataTypeExpression.toLowerCase().match(rnotwhite) || [];
            if (jQuery.isFunction(func))
                for (; dataType = dataTypes[i++];) "+" === dataType.charAt(0) ? (dataType = dataType.slice(1) || "*", (structure[dataType] = structure[dataType] || []).unshift(func)) : (structure[dataType] = structure[dataType] || []).push(func)
        }
    }
    function inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR) {
        var inspected = {},
            seekingTransport = structure === transports;
        function inspect(dataType) {
            var selected;
            return inspected[dataType] = !0, jQuery.each(structure[dataType] || [], function (_, prefilterOrFactory) {
                var dataTypeOrTransport = prefilterOrFactory(options, originalOptions, jqXHR);
                return "string" != typeof dataTypeOrTransport || seekingTransport || inspected[dataTypeOrTransport] ? seekingTransport ? !(selected = dataTypeOrTransport) : void 0 : (options.dataTypes.unshift(dataTypeOrTransport), inspect(dataTypeOrTransport), !1)
            }), selected
        }
        return inspect(options.dataTypes[0]) || !inspected["*"] && inspect("*")
    }
    function ajaxExtend(target, src) {
        var deep, key, flatOptions = jQuery.ajaxSettings.flatOptions || {};
        for (key in src) void 0 !== src[key] && ((flatOptions[key] ? target : deep || (deep = {}))[key] = src[key]);
        return deep && jQuery.extend(!0, target, deep), target
    }
    function getDisplay(elem) {
        return elem.style && elem.style.display || jQuery.css(elem, "display")
    }
    jQuery.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: ajaxLocation,
            type: "GET",
            isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ajaxLocParts[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": allTypes,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /\bxml\b/,
                html: /\bhtml/,
                json: /\bjson\b/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": jQuery.parseJSON,
                "text xml": jQuery.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function (target, settings) {
            return settings ? ajaxExtend(ajaxExtend(target, jQuery.ajaxSettings), settings) : ajaxExtend(jQuery.ajaxSettings, target)
        },
        ajaxPrefilter: addToPrefiltersOrTransports(prefilters),
        ajaxTransport: addToPrefiltersOrTransports(transports),
        ajax: function (url, options) {
            "object" == typeof url && (options = url, url = void 0), options = options || {};
            var parts, i, cacheURL, responseHeadersString, timeoutTimer, fireGlobals, transport, responseHeaders, s = jQuery.ajaxSetup({}, options),
                callbackContext = s.context || s,
                globalEventContext = s.context && (callbackContext.nodeType || callbackContext.jquery) ? jQuery(callbackContext) : jQuery.event,
                deferred = jQuery.Deferred(),
                completeDeferred = jQuery.Callbacks("once memory"),
                statusCode = s.statusCode || {},
                requestHeaders = {},
                requestHeadersNames = {},
                state = 0,
                strAbort = "canceled",
                jqXHR = {
                    readyState: 0,
                    getResponseHeader: function (key) {
                        var match;
                        if (2 === state) {
                            if (!responseHeaders)
                                for (responseHeaders = {}; match = rheaders.exec(responseHeadersString);) responseHeaders[match[1].toLowerCase()] = match[2];
                            match = responseHeaders[key.toLowerCase()]
                        }
                        return null == match ? null : match
                    },
                    getAllResponseHeaders: function () {
                        return 2 === state ? responseHeadersString : null
                    },
                    setRequestHeader: function (name, value) {
                        var lname = name.toLowerCase();
                        return state || (name = requestHeadersNames[lname] = requestHeadersNames[lname] || name, requestHeaders[name] = value), this
                    },
                    overrideMimeType: function (type) {
                        return state || (s.mimeType = type), this
                    },
                    statusCode: function (map) {
                        var code;
                        if (map)
                            if (state < 2)
                                for (code in map) statusCode[code] = [statusCode[code], map[code]];
                            else jqXHR.always(map[jqXHR.status]);
                        return this
                    },
                    abort: function (statusText) {
                        var finalText = statusText || strAbort;
                        return transport && transport.abort(finalText), done(0, finalText), this
                    }
                };
            if (deferred.promise(jqXHR).complete = completeDeferred.add, jqXHR.success = jqXHR.done, jqXHR.error = jqXHR.fail, s.url = ((url || s.url || ajaxLocation) + "").replace(rhash, "").replace(rprotocol, ajaxLocParts[1] + "//"), s.type = options.method || options.type || s.method || s.type, s.dataTypes = jQuery.trim(s.dataType || "*").toLowerCase().match(rnotwhite) || [""], null == s.crossDomain && (parts = rurl.exec(s.url.toLowerCase()), s.crossDomain = !(!parts || parts[1] === ajaxLocParts[1] && parts[2] === ajaxLocParts[2] && (parts[3] || ("http:" === parts[1] ? "80" : "443")) === (ajaxLocParts[3] || ("http:" === ajaxLocParts[1] ? "80" : "443")))), s.data && s.processData && "string" != typeof s.data && (s.data = jQuery.param(s.data, s.traditional)), inspectPrefiltersOrTransports(prefilters, s, options, jqXHR), 2 === state) return jqXHR;
            for (i in (fireGlobals = jQuery.event && s.global) && 0 == jQuery.active++ && jQuery.event.trigger("ajaxStart"), s.type = s.type.toUpperCase(), s.hasContent = !rnoContent.test(s.type), cacheURL = s.url, s.hasContent || (s.data && (cacheURL = s.url += (rquery.test(cacheURL) ? "&" : "?") + s.data, delete s.data), !1 === s.cache && (s.url = rts.test(cacheURL) ? cacheURL.replace(rts, "$1_=" + nonce++) : cacheURL + (rquery.test(cacheURL) ? "&" : "?") + "_=" + nonce++)), s.ifModified && (jQuery.lastModified[cacheURL] && jqXHR.setRequestHeader("If-Modified-Since", jQuery.lastModified[cacheURL]), jQuery.etag[cacheURL] && jqXHR.setRequestHeader("If-None-Match", jQuery.etag[cacheURL])), (s.data && s.hasContent && !1 !== s.contentType || options.contentType) && jqXHR.setRequestHeader("Content-Type", s.contentType), jqXHR.setRequestHeader("Accept", s.dataTypes[0] && s.accepts[s.dataTypes[0]] ? s.accepts[s.dataTypes[0]] + ("*" !== s.dataTypes[0] ? ", " + allTypes + "; q=0.01" : "") : s.accepts["*"]), s.headers) jqXHR.setRequestHeader(i, s.headers[i]);
            if (s.beforeSend && (!1 === s.beforeSend.call(callbackContext, jqXHR, s) || 2 === state)) return jqXHR.abort();
            for (i in strAbort = "abort", {
                    success: 1,
                    error: 1,
                    complete: 1
                }) jqXHR[i](s[i]);
            if (transport = inspectPrefiltersOrTransports(transports, s, options, jqXHR)) {
                if (jqXHR.readyState = 1, fireGlobals && globalEventContext.trigger("ajaxSend", [jqXHR, s]), 2 === state) return jqXHR;
                s.async && s.timeout > 0 && (timeoutTimer = window.setTimeout(function () {
                    jqXHR.abort("timeout")
                }, s.timeout));
                try {
                    state = 1, transport.send(requestHeaders, done)
                } catch (e) {
                    if (!(state < 2)) throw e;
                    done(-1, e)
                }
            } else done(-1, "No Transport");
            function done(status, nativeStatusText, responses, headers) {
                var isSuccess, success, error, response, modified, statusText = nativeStatusText;
                2 !== state && (state = 2, timeoutTimer && window.clearTimeout(timeoutTimer), transport = void 0, responseHeadersString = headers || "", jqXHR.readyState = status > 0 ? 4 : 0, isSuccess = status >= 200 && status < 300 || 304 === status, responses && (response = function (s, jqXHR, responses) {
                    for (var firstDataType, ct, finalDataType, type, contents = s.contents, dataTypes = s.dataTypes;
                        "*" === dataTypes[0];) dataTypes.shift(), void 0 === ct && (ct = s.mimeType || jqXHR.getResponseHeader("Content-Type"));
                    if (ct)
                        for (type in contents)
                            if (contents[type] && contents[type].test(ct)) {
                                dataTypes.unshift(type);
                                break
                            } if (dataTypes[0] in responses) finalDataType = dataTypes[0];
                    else {
                        for (type in responses) {
                            if (!dataTypes[0] || s.converters[type + " " + dataTypes[0]]) {
                                finalDataType = type;
                                break
                            }
                            firstDataType || (firstDataType = type)
                        }
                        finalDataType = finalDataType || firstDataType
                    }
                    if (finalDataType) return finalDataType !== dataTypes[0] && dataTypes.unshift(finalDataType), responses[finalDataType]
                }(s, jqXHR, responses)), response = function (s, response, jqXHR, isSuccess) {
                    var conv2, current, conv, tmp, prev, converters = {},
                        dataTypes = s.dataTypes.slice();
                    if (dataTypes[1])
                        for (conv in s.converters) converters[conv.toLowerCase()] = s.converters[conv];
                    for (current = dataTypes.shift(); current;)
                        if (s.responseFields[current] && (jqXHR[s.responseFields[current]] = response), !prev && isSuccess && s.dataFilter && (response = s.dataFilter(response, s.dataType)), prev = current, current = dataTypes.shift())
                            if ("*" === current) current = prev;
                            else if ("*" !== prev && prev !== current) {
                        if (!(conv = converters[prev + " " + current] || converters["* " + current]))
                            for (conv2 in converters)
                                if ((tmp = conv2.split(" "))[1] === current && (conv = converters[prev + " " + tmp[0]] || converters["* " + tmp[0]])) {
                                    !0 === conv ? conv = converters[conv2] : !0 !== converters[conv2] && (current = tmp[0], dataTypes.unshift(tmp[1]));
                                    break
                                } if (!0 !== conv)
                            if (conv && s.throws) response = conv(response);
                            else try {
                                response = conv(response)
                            } catch (e) {
                                return {
                                    state: "parsererror",
                                    error: conv ? e : "No conversion from " + prev + " to " + current
                                }
                            }
                    }
                    return {
                        state: "success",
                        data: response
                    }
                }(s, response, jqXHR, isSuccess), isSuccess ? (s.ifModified && ((modified = jqXHR.getResponseHeader("Last-Modified")) && (jQuery.lastModified[cacheURL] = modified), (modified = jqXHR.getResponseHeader("etag")) && (jQuery.etag[cacheURL] = modified)), 204 === status || "HEAD" === s.type ? statusText = "nocontent" : 304 === status ? statusText = "notmodified" : (statusText = response.state, success = response.data, isSuccess = !(error = response.error))) : (error = statusText, !status && statusText || (statusText = "error", status < 0 && (status = 0))), jqXHR.status = status, jqXHR.statusText = (nativeStatusText || statusText) + "", isSuccess ? deferred.resolveWith(callbackContext, [success, statusText, jqXHR]) : deferred.rejectWith(callbackContext, [jqXHR, statusText, error]), jqXHR.statusCode(statusCode), statusCode = void 0, fireGlobals && globalEventContext.trigger(isSuccess ? "ajaxSuccess" : "ajaxError", [jqXHR, s, isSuccess ? success : error]), completeDeferred.fireWith(callbackContext, [jqXHR, statusText]), fireGlobals && (globalEventContext.trigger("ajaxComplete", [jqXHR, s]), --jQuery.active || jQuery.event.trigger("ajaxStop")))
            }
            return jqXHR
        },
        getJSON: function (url, data, callback) {
            return jQuery.get(url, data, callback, "json")
        },
        getScript: function (url, callback) {
            return jQuery.get(url, void 0, callback, "script")
        }
    }), jQuery.each(["get", "post"], function (i, method) {
        jQuery[method] = function (url, data, callback, type) {
            return jQuery.isFunction(data) && (type = type || callback, callback = data, data = void 0), jQuery.ajax(jQuery.extend({
                url: url,
                type: method,
                dataType: type,
                data: data,
                success: callback
            }, jQuery.isPlainObject(url) && url))
        }
    }), jQuery._evalUrl = function (url) {
        return jQuery.ajax({
            url: url,
            type: "GET",
            dataType: "script",
            cache: !0,
            async: !1,
            global: !1,
            throws: !0
        })
    }, jQuery.fn.extend({
        wrapAll: function (html) {
            if (jQuery.isFunction(html)) return this.each(function (i) {
                jQuery(this).wrapAll(html.call(this, i))
            });
            if (this[0]) {
                var wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(!0);
                this[0].parentNode && wrap.insertBefore(this[0]), wrap.map(function () {
                    for (var elem = this; elem.firstChild && 1 === elem.firstChild.nodeType;) elem = elem.firstChild;
                    return elem
                }).append(this)
            }
            return this
        },
        wrapInner: function (html) {
            return jQuery.isFunction(html) ? this.each(function (i) {
                jQuery(this).wrapInner(html.call(this, i))
            }) : this.each(function () {
                var self = jQuery(this),
                    contents = self.contents();
                contents.length ? contents.wrapAll(html) : self.append(html)
            })
        },
        wrap: function (html) {
            var isFunction = jQuery.isFunction(html);
            return this.each(function (i) {
                jQuery(this).wrapAll(isFunction ? html.call(this, i) : html)
            })
        },
        unwrap: function () {
            return this.parent().each(function () {
                jQuery.nodeName(this, "body") || jQuery(this).replaceWith(this.childNodes)
            }).end()
        }
    }), jQuery.expr.filters.hidden = function (elem) {
        return support.reliableHiddenOffsets() ? elem.offsetWidth <= 0 && elem.offsetHeight <= 0 && !elem.getClientRects().length : function (elem) {
            if (!jQuery.contains(elem.ownerDocument || document, elem)) return !0;
            for (; elem && 1 === elem.nodeType;) {
                if ("none" === getDisplay(elem) || "hidden" === elem.type) return !0;
                elem = elem.parentNode
            }
            return !1
        }(elem)
    }, jQuery.expr.filters.visible = function (elem) {
        return !jQuery.expr.filters.hidden(elem)
    };
    var r20 = /%20/g,
        rbracket = /\[\]$/,
        rCRLF = /\r?\n/g,
        rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
        rsubmittable = /^(?:input|select|textarea|keygen)/i;
    function buildParams(prefix, obj, traditional, add) {
        var name;
        if (jQuery.isArray(obj)) jQuery.each(obj, function (i, v) {
            traditional || rbracket.test(prefix) ? add(prefix, v) : buildParams(prefix + "[" + ("object" == typeof v && null != v ? i : "") + "]", v, traditional, add)
        });
        else if (traditional || "object" !== jQuery.type(obj)) add(prefix, obj);
        else
            for (name in obj) buildParams(prefix + "[" + name + "]", obj[name], traditional, add)
    }
    jQuery.param = function (a, traditional) {
        var prefix, s = [],
            add = function (key, value) {
                value = jQuery.isFunction(value) ? value() : null == value ? "" : value, s[s.length] = encodeURIComponent(key) + "=" + encodeURIComponent(value)
            };
        if (void 0 === traditional && (traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional), jQuery.isArray(a) || a.jquery && !jQuery.isPlainObject(a)) jQuery.each(a, function () {
            add(this.name, this.value)
        });
        else
            for (prefix in a) buildParams(prefix, a[prefix], traditional, add);
        return s.join("&").replace(r20, "+")
    }, jQuery.fn.extend({
        serialize: function () {
            return jQuery.param(this.serializeArray())
        },
        serializeArray: function () {
            return this.map(function () {
                var elements = jQuery.prop(this, "elements");
                return elements ? jQuery.makeArray(elements) : this
            }).filter(function () {
                var type = this.type;
                return this.name && !jQuery(this).is(":disabled") && rsubmittable.test(this.nodeName) && !rsubmitterTypes.test(type) && (this.checked || !rcheckableType.test(type))
            }).map(function (i, elem) {
                var val = jQuery(this).val();
                return null == val ? null : jQuery.isArray(val) ? jQuery.map(val, function (val) {
                    return {
                        name: elem.name,
                        value: val.replace(rCRLF, "\r\n")
                    }
                }) : {
                    name: elem.name,
                    value: val.replace(rCRLF, "\r\n")
                }
            }).get()
        }
    }), jQuery.ajaxSettings.xhr = void 0 !== window.ActiveXObject ? function () {
        return this.isLocal ? createActiveXHR() : document.documentMode > 8 ? createStandardXHR() : /^(get|post|head|put|delete|options)$/i.test(this.type) && createStandardXHR() || createActiveXHR()
    } : createStandardXHR;
    var xhrId = 0,
        xhrCallbacks = {},
        xhrSupported = jQuery.ajaxSettings.xhr();
    function createStandardXHR() {
        try {
            return new window.XMLHttpRequest
        } catch (e) {}
    }
    function createActiveXHR() {
        try {
            return new window.ActiveXObject("Microsoft.XMLHTTP")
        } catch (e) {}
    }
    window.attachEvent && window.attachEvent("onunload", function () {
        for (var key in xhrCallbacks) xhrCallbacks[key](void 0, !0)
    }), support.cors = !!xhrSupported && "withCredentials" in xhrSupported, (xhrSupported = support.ajax = !!xhrSupported) && jQuery.ajaxTransport(function (options) {
        var callback;
        if (!options.crossDomain || support.cors) return {
            send: function (headers, complete) {
                var i, xhr = options.xhr(),
                    id = ++xhrId;
                if (xhr.open(options.type, options.url, options.async, options.username, options.password), options.xhrFields)
                    for (i in options.xhrFields) xhr[i] = options.xhrFields[i];
                for (i in options.mimeType && xhr.overrideMimeType && xhr.overrideMimeType(options.mimeType), options.crossDomain || headers["X-Requested-With"] || (headers["X-Requested-With"] = "XMLHttpRequest"), headers) void 0 !== headers[i] && xhr.setRequestHeader(i, headers[i] + "");
                xhr.send(options.hasContent && options.data || null), callback = function (_, isAbort) {
                    var status, statusText, responses;
                    if (callback && (isAbort || 4 === xhr.readyState))
                        if (delete xhrCallbacks[id], callback = void 0, xhr.onreadystatechange = jQuery.noop, isAbort) 4 !== xhr.readyState && xhr.abort();
                        else {
                            responses = {}, status = xhr.status, "string" == typeof xhr.responseText && (responses.text = xhr.responseText);
                            try {
                                statusText = xhr.statusText
                            } catch (e) {
                                statusText = ""
                            }
                            status || !options.isLocal || options.crossDomain ? 1223 === status && (status = 204) : status = responses.text ? 200 : 404
                        } responses && complete(status, statusText, responses, xhr.getAllResponseHeaders())
                }, options.async ? 4 === xhr.readyState ? window.setTimeout(callback) : xhr.onreadystatechange = xhrCallbacks[id] = callback : callback()
            },
            abort: function () {
                callback && callback(void 0, !0)
            }
        }
    }), jQuery.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /\b(?:java|ecma)script\b/
        },
        converters: {
            "text script": function (text) {
                return jQuery.globalEval(text), text
            }
        }
    }), jQuery.ajaxPrefilter("script", function (s) {
        void 0 === s.cache && (s.cache = !1), s.crossDomain && (s.type = "GET", s.global = !1)
    }), jQuery.ajaxTransport("script", function (s) {
        if (s.crossDomain) {
            var script, head = document.head || jQuery("head")[0] || document.documentElement;
            return {
                send: function (_, callback) {
                    (script = document.createElement("script")).async = !0, s.scriptCharset && (script.charset = s.scriptCharset), script.src = s.url, script.onload = script.onreadystatechange = function (_, isAbort) {
                        (isAbort || !script.readyState || /loaded|complete/.test(script.readyState)) && (script.onload = script.onreadystatechange = null, script.parentNode && script.parentNode.removeChild(script), script = null, isAbort || callback(200, "success"))
                    }, head.insertBefore(script, head.firstChild)
                },
                abort: function () {
                    script && script.onload(void 0, !0)
                }
            }
        }
    });
    var oldCallbacks = [],
        rjsonp = /(=)\?(?=&|$)|\?\?/;
    jQuery.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function () {
            var callback = oldCallbacks.pop() || jQuery.expando + "_" + nonce++;
            return this[callback] = !0, callback
        }
    }), jQuery.ajaxPrefilter("json jsonp", function (s, originalSettings, jqXHR) {
        var callbackName, overwritten, responseContainer, jsonProp = !1 !== s.jsonp && (rjsonp.test(s.url) ? "url" : "string" == typeof s.data && 0 === (s.contentType || "").indexOf("application/x-www-form-urlencoded") && rjsonp.test(s.data) && "data");
        if (jsonProp || "jsonp" === s.dataTypes[0]) return callbackName = s.jsonpCallback = jQuery.isFunction(s.jsonpCallback) ? s.jsonpCallback() : s.jsonpCallback, jsonProp ? s[jsonProp] = s[jsonProp].replace(rjsonp, "$1" + callbackName) : !1 !== s.jsonp && (s.url += (rquery.test(s.url) ? "&" : "?") + s.jsonp + "=" + callbackName), s.converters["script json"] = function () {
            return responseContainer || jQuery.error(callbackName + " was not called"), responseContainer[0]
        }, s.dataTypes[0] = "json", overwritten = window[callbackName], window[callbackName] = function () {
            responseContainer = arguments
        }, jqXHR.always(function () {
            void 0 === overwritten ? jQuery(window).removeProp(callbackName) : window[callbackName] = overwritten, s[callbackName] && (s.jsonpCallback = originalSettings.jsonpCallback, oldCallbacks.push(callbackName)), responseContainer && jQuery.isFunction(overwritten) && overwritten(responseContainer[0]), responseContainer = overwritten = void 0
        }), "script"
    }), jQuery.parseHTML = function (data, context, keepScripts) {
        if (!data || "string" != typeof data) return null;
        "boolean" == typeof context && (keepScripts = context, context = !1), context = context || document;
        var parsed = rsingleTag.exec(data),
            scripts = !keepScripts && [];
        return parsed ? [context.createElement(parsed[1])] : (parsed = buildFragment([data], context, scripts), scripts && scripts.length && jQuery(scripts).remove(), jQuery.merge([], parsed.childNodes))
    };
    var _load = jQuery.fn.load;
    function getWindow(elem) {
        return jQuery.isWindow(elem) ? elem : 9 === elem.nodeType && (elem.defaultView || elem.parentWindow)
    }
    jQuery.fn.load = function (url, params, callback) {
        if ("string" != typeof url && _load) return _load.apply(this, arguments);
        var selector, type, response, self = this,
            off = url.indexOf(" ");
        return off > -1 && (selector = jQuery.trim(url.slice(off, url.length)), url = url.slice(0, off)), jQuery.isFunction(params) ? (callback = params, params = void 0) : params && "object" == typeof params && (type = "POST"), self.length > 0 && jQuery.ajax({
            url: url,
            type: type || "GET",
            dataType: "html",
            data: params
        }).done(function (responseText) {
            response = arguments, self.html(selector ? jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector) : responseText)
        }).always(callback && function (jqXHR, status) {
            self.each(function () {
                callback.apply(this, response || [jqXHR.responseText, status, jqXHR])
            })
        }), this
    }, jQuery.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (i, type) {
        jQuery.fn[type] = function (fn) {
            return this.on(type, fn)
        }
    }), jQuery.expr.filters.animated = function (elem) {
        return jQuery.grep(jQuery.timers, function (fn) {
            return elem === fn.elem
        }).length
    }, jQuery.offset = {
        setOffset: function (elem, options, i) {
            var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, position = jQuery.css(elem, "position"),
                curElem = jQuery(elem),
                props = {};
            "static" === position && (elem.style.position = "relative"), curOffset = curElem.offset(), curCSSTop = jQuery.css(elem, "top"), curCSSLeft = jQuery.css(elem, "left"), ("absolute" === position || "fixed" === position) && jQuery.inArray("auto", [curCSSTop, curCSSLeft]) > -1 ? (curTop = (curPosition = curElem.position()).top, curLeft = curPosition.left) : (curTop = parseFloat(curCSSTop) || 0, curLeft = parseFloat(curCSSLeft) || 0), jQuery.isFunction(options) && (options = options.call(elem, i, jQuery.extend({}, curOffset))), null != options.top && (props.top = options.top - curOffset.top + curTop), null != options.left && (props.left = options.left - curOffset.left + curLeft), "using" in options ? options.using.call(elem, props) : curElem.css(props)
        }
    }, jQuery.fn.extend({
        offset: function (options) {
            if (arguments.length) return void 0 === options ? this : this.each(function (i) {
                jQuery.offset.setOffset(this, options, i)
            });
            var docElem, win, box = {
                    top: 0,
                    left: 0
                },
                elem = this[0],
                doc = elem && elem.ownerDocument;
            return doc ? (docElem = doc.documentElement, jQuery.contains(docElem, elem) ? (void 0 !== elem.getBoundingClientRect && (box = elem.getBoundingClientRect()), win = getWindow(doc), {
                top: box.top + (win.pageYOffset || docElem.scrollTop) - (docElem.clientTop || 0),
                left: box.left + (win.pageXOffset || docElem.scrollLeft) - (docElem.clientLeft || 0)
            }) : box) : void 0
        },
        position: function () {
            if (this[0]) {
                var offsetParent, offset, parentOffset = {
                        top: 0,
                        left: 0
                    },
                    elem = this[0];
                return "fixed" === jQuery.css(elem, "position") ? offset = elem.getBoundingClientRect() : (offsetParent = this.offsetParent(), offset = this.offset(), jQuery.nodeName(offsetParent[0], "html") || (parentOffset = offsetParent.offset()), parentOffset.top += jQuery.css(offsetParent[0], "borderTopWidth", !0), parentOffset.left += jQuery.css(offsetParent[0], "borderLeftWidth", !0)), {
                    top: offset.top - parentOffset.top - jQuery.css(elem, "marginTop", !0),
                    left: offset.left - parentOffset.left - jQuery.css(elem, "marginLeft", !0)
                }
            }
        },
        offsetParent: function () {
            return this.map(function () {
                for (var offsetParent = this.offsetParent; offsetParent && !jQuery.nodeName(offsetParent, "html") && "static" === jQuery.css(offsetParent, "position");) offsetParent = offsetParent.offsetParent;
                return offsetParent || documentElement
            })
        }
    }), jQuery.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function (method, prop) {
        var top = /Y/.test(prop);
        jQuery.fn[method] = function (val) {
            return access(this, function (elem, method, val) {
                var win = getWindow(elem);
                if (void 0 === val) return win ? prop in win ? win[prop] : win.document.documentElement[method] : elem[method];
                win ? win.scrollTo(top ? jQuery(win).scrollLeft() : val, top ? val : jQuery(win).scrollTop()) : elem[method] = val
            }, method, val, arguments.length, null)
        }
    }), jQuery.each(["top", "left"], function (i, prop) {
        jQuery.cssHooks[prop] = addGetHookIf(support.pixelPosition, function (elem, computed) {
            if (computed) return computed = curCSS(elem, prop), rnumnonpx.test(computed) ? jQuery(elem).position()[prop] + "px" : computed
        })
    }), jQuery.each({
        Height: "height",
        Width: "width"
    }, function (name, type) {
        jQuery.each({
            padding: "inner" + name,
            content: type,
            "": "outer" + name
        }, function (defaultExtra, funcName) {
            jQuery.fn[funcName] = function (margin, value) {
                var chainable = arguments.length && (defaultExtra || "boolean" != typeof margin),
                    extra = defaultExtra || (!0 === margin || !0 === value ? "margin" : "border");
                return access(this, function (elem, type, value) {
                    var doc;
                    return jQuery.isWindow(elem) ? elem.document.documentElement["client" + name] : 9 === elem.nodeType ? (doc = elem.documentElement, Math.max(elem.body["scroll" + name], doc["scroll" + name], elem.body["offset" + name], doc["offset" + name], doc["client" + name])) : void 0 === value ? jQuery.css(elem, type, extra) : jQuery.style(elem, type, value, extra)
                }, type, chainable ? margin : void 0, chainable, null)
            }
        })
    }), jQuery.fn.extend({
        bind: function (types, data, fn) {
            return this.on(types, null, data, fn)
        },
        unbind: function (types, fn) {
            return this.off(types, null, fn)
        },
        delegate: function (selector, types, data, fn) {
            return this.on(types, selector, data, fn)
        },
        undelegate: function (selector, types, fn) {
            return 1 === arguments.length ? this.off(selector, "**") : this.off(types, selector || "**", fn)
        }
    }), jQuery.fn.size = function () {
        return this.length
    }, jQuery.fn.andSelf = jQuery.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function () {
        return jQuery
    });
    var _jQuery = window.jQuery,
        _$ = window.$;
    return jQuery.noConflict = function (deep) {
        return window.$ === jQuery && (window.$ = _$), deep && window.jQuery === jQuery && (window.jQuery = _jQuery), jQuery
    }, noGlobal || (window.jQuery = window.$ = jQuery), jQuery
});
! function (factory) {
    "function" == typeof define && define.amd ? define(["jquery"], factory) : factory(jQuery)
}(function ($) {
    $.ui = $.ui || {};
    $.ui.version = "1.12.1";
    var orig, widgetUuid = 0,
        widgetSlice = Array.prototype.slice;
    $.cleanData = (orig = $.cleanData, function (elems) {
        var events, elem, i;
        for (i = 0; null != (elem = elems[i]); i++) try {
            (events = $._data(elem, "events")) && events.remove && $(elem).triggerHandler("remove")
        } catch (e) {}
        orig(elems)
    }), $.widget = function (name, base, prototype) {
        var existingConstructor, constructor, basePrototype, proxiedPrototype = {},
            namespace = name.split(".")[0],
            fullName = namespace + "-" + (name = name.split(".")[1]);
        return prototype || (prototype = base, base = $.Widget), $.isArray(prototype) && (prototype = $.extend.apply(null, [{}].concat(prototype))), $.expr[":"][fullName.toLowerCase()] = function (elem) {
            return !!$.data(elem, fullName)
        }, $[namespace] = $[namespace] || {}, existingConstructor = $[namespace][name], constructor = $[namespace][name] = function (options, element) {
            if (!this._createWidget) return new constructor(options, element);
            arguments.length && this._createWidget(options, element)
        }, $.extend(constructor, existingConstructor, {
            version: prototype.version,
            _proto: $.extend({}, prototype),
            _childConstructors: []
        }), (basePrototype = new base).options = $.widget.extend({}, basePrototype.options), $.each(prototype, function (prop, value) {
            $.isFunction(value) ? proxiedPrototype[prop] = function () {
                function _super() {
                    return base.prototype[prop].apply(this, arguments)
                }
                function _superApply(args) {
                    return base.prototype[prop].apply(this, args)
                }
                return function () {
                    var returnValue, __super = this._super,
                        __superApply = this._superApply;
                    return this._super = _super, this._superApply = _superApply, returnValue = value.apply(this, arguments), this._super = __super, this._superApply = __superApply, returnValue
                }
            }() : proxiedPrototype[prop] = value
        }), constructor.prototype = $.widget.extend(basePrototype, {
            widgetEventPrefix: existingConstructor && basePrototype.widgetEventPrefix || name
        }, proxiedPrototype, {
            constructor: constructor,
            namespace: namespace,
            widgetName: name,
            widgetFullName: fullName
        }), existingConstructor ? ($.each(existingConstructor._childConstructors, function (i, child) {
            var childPrototype = child.prototype;
            $.widget(childPrototype.namespace + "." + childPrototype.widgetName, constructor, child._proto)
        }), delete existingConstructor._childConstructors) : base._childConstructors.push(constructor), $.widget.bridge(name, constructor), constructor
    }, $.widget.extend = function (target) {
        for (var key, value, input = widgetSlice.call(arguments, 1), inputIndex = 0, inputLength = input.length; inputIndex < inputLength; inputIndex++)
            for (key in input[inputIndex]) value = input[inputIndex][key], input[inputIndex].hasOwnProperty(key) && void 0 !== value && ($.isPlainObject(value) ? target[key] = $.isPlainObject(target[key]) ? $.widget.extend({}, target[key], value) : $.widget.extend({}, value) : target[key] = value);
        return target
    }, $.widget.bridge = function (name, object) {
        var fullName = object.prototype.widgetFullName || name;
        $.fn[name] = function (options) {
            var isMethodCall = "string" == typeof options,
                args = widgetSlice.call(arguments, 1),
                returnValue = this;
            return isMethodCall ? this.length || "instance" !== options ? this.each(function () {
                var methodValue, instance = $.data(this, fullName);
                return "instance" === options ? (returnValue = instance, !1) : instance ? $.isFunction(instance[options]) && "_" !== options.charAt(0) ? (methodValue = instance[options].apply(instance, args)) !== instance && void 0 !== methodValue ? (returnValue = methodValue && methodValue.jquery ? returnValue.pushStack(methodValue.get()) : methodValue, !1) : void 0 : $.error("no such method '" + options + "' for " + name + " widget instance") : $.error("cannot call methods on " + name + " prior to initialization; attempted to call method '" + options + "'")
            }) : returnValue = void 0 : (args.length && (options = $.widget.extend.apply(null, [options].concat(args))), this.each(function () {
                var instance = $.data(this, fullName);
                instance ? (instance.option(options || {}), instance._init && instance._init()) : $.data(this, fullName, new object(options, this))
            })), returnValue
        }
    }, $.Widget = function () {}, $.Widget._childConstructors = [], $.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            classes: {},
            disabled: !1,
            create: null
        },
        _createWidget: function (options, element) {
            element = $(element || this.defaultElement || this)[0], this.element = $(element), this.uuid = widgetUuid++, this.eventNamespace = "." + this.widgetName + this.uuid, this.bindings = $(), this.hoverable = $(), this.focusable = $(), this.classesElementLookup = {}, element !== this && ($.data(element, this.widgetFullName, this), this._on(!0, this.element, {
                remove: function (event) {
                    event.target === element && this.destroy()
                }
            }), this.document = $(element.style ? element.ownerDocument : element.document || element), this.window = $(this.document[0].defaultView || this.document[0].parentWindow)), this.options = $.widget.extend({}, this.options, this._getCreateOptions(), options), this._create(), this.options.disabled && this._setOptionDisabled(this.options.disabled), this._trigger("create", null, this._getCreateEventData()), this._init()
        },
        _getCreateOptions: function () {
            return {}
        },
        _getCreateEventData: $.noop,
        _create: $.noop,
        _init: $.noop,
        destroy: function () {
            var that = this;
            this._destroy(), $.each(this.classesElementLookup, function (key, value) {
                that._removeClass(value, key)
            }), this.element.off(this.eventNamespace).removeData(this.widgetFullName), this.widget().off(this.eventNamespace).removeAttr("aria-disabled"), this.bindings.off(this.eventNamespace)
        },
        _destroy: $.noop,
        widget: function () {
            return this.element
        },
        option: function (key, value) {
            var parts, curOption, i, options = key;
            if (0 === arguments.length) return $.widget.extend({}, this.options);
            if ("string" == typeof key)
                if (options = {}, key = (parts = key.split(".")).shift(), parts.length) {
                    for (curOption = options[key] = $.widget.extend({}, this.options[key]), i = 0; i < parts.length - 1; i++) curOption[parts[i]] = curOption[parts[i]] || {}, curOption = curOption[parts[i]];
                    if (key = parts.pop(), 1 === arguments.length) return void 0 === curOption[key] ? null : curOption[key];
                    curOption[key] = value
                } else {
                    if (1 === arguments.length) return void 0 === this.options[key] ? null : this.options[key];
                    options[key] = value
                } return this._setOptions(options), this
        },
        _setOptions: function (options) {
            var key;
            for (key in options) this._setOption(key, options[key]);
            return this
        },
        _setOption: function (key, value) {
            return "classes" === key && this._setOptionClasses(value), this.options[key] = value, "disabled" === key && this._setOptionDisabled(value), this
        },
        _setOptionClasses: function (value) {
            var classKey, elements, currentElements;
            for (classKey in value) currentElements = this.classesElementLookup[classKey], value[classKey] !== this.options.classes[classKey] && currentElements && currentElements.length && (elements = $(currentElements.get()), this._removeClass(currentElements, classKey), elements.addClass(this._classes({
                element: elements,
                keys: classKey,
                classes: value,
                add: !0
            })))
        },
        _setOptionDisabled: function (value) {
            this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, !!value), value && (this._removeClass(this.hoverable, null, "ui-state-hover"), this._removeClass(this.focusable, null, "ui-state-focus"))
        },
        enable: function () {
            return this._setOptions({
                disabled: !1
            })
        },
        disable: function () {
            return this._setOptions({
                disabled: !0
            })
        },
        _classes: function (options) {
            var full = [],
                that = this;
            function processClassString(classes, checkOption) {
                var current, i;
                for (i = 0; i < classes.length; i++) current = that.classesElementLookup[classes[i]] || $(), current = options.add ? $($.unique(current.get().concat(options.element.get()))) : $(current.not(options.element).get()), that.classesElementLookup[classes[i]] = current, full.push(classes[i]), checkOption && options.classes[classes[i]] && full.push(options.classes[classes[i]])
            }
            return options = $.extend({
                element: this.element,
                classes: this.options.classes || {}
            }, options), this._on(options.element, {
                remove: "_untrackClassesElement"
            }), options.keys && processClassString(options.keys.match(/\S+/g) || [], !0), options.extra && processClassString(options.extra.match(/\S+/g) || []), full.join(" ")
        },
        _untrackClassesElement: function (event) {
            var that = this;
            $.each(that.classesElementLookup, function (key, value) {
                -1 !== $.inArray(event.target, value) && (that.classesElementLookup[key] = $(value.not(event.target).get()))
            })
        },
        _removeClass: function (element, keys, extra) {
            return this._toggleClass(element, keys, extra, !1)
        },
        _addClass: function (element, keys, extra) {
            return this._toggleClass(element, keys, extra, !0)
        },
        _toggleClass: function (element, keys, extra, add) {
            add = "boolean" == typeof add ? add : extra;
            var shift = "string" == typeof element || null === element,
                options = {
                    extra: shift ? keys : extra,
                    keys: shift ? element : keys,
                    element: shift ? this.element : element,
                    add: add
                };
            return options.element.toggleClass(this._classes(options), add), this
        },
        _on: function (suppressDisabledCheck, element, handlers) {
            var delegateElement, instance = this;
            "boolean" != typeof suppressDisabledCheck && (handlers = element, element = suppressDisabledCheck, suppressDisabledCheck = !1), handlers ? (element = delegateElement = $(element), this.bindings = this.bindings.add(element)) : (handlers = element, element = this.element, delegateElement = this.widget()), $.each(handlers, function (event, handler) {
                function handlerProxy() {
                    if (suppressDisabledCheck || !0 !== instance.options.disabled && !$(this).hasClass("ui-state-disabled")) return ("string" == typeof handler ? instance[handler] : handler).apply(instance, arguments)
                }
                "string" != typeof handler && (handlerProxy.guid = handler.guid = handler.guid || handlerProxy.guid || $.guid++);
                var match = event.match(/^([\w:-]*)\s*(.*)$/),
                    eventName = match[1] + instance.eventNamespace,
                    selector = match[2];
                selector ? delegateElement.on(eventName, selector, handlerProxy) : element.on(eventName, handlerProxy)
            })
        },
        _off: function (element, eventName) {
            eventName = (eventName || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, element.off(eventName).off(eventName), this.bindings = $(this.bindings.not(element).get()), this.focusable = $(this.focusable.not(element).get()), this.hoverable = $(this.hoverable.not(element).get())
        },
        _delay: function (handler, delay) {
            var instance = this;
            return setTimeout(function () {
                return ("string" == typeof handler ? instance[handler] : handler).apply(instance, arguments)
            }, delay || 0)
        },
        _hoverable: function (element) {
            this.hoverable = this.hoverable.add(element), this._on(element, {
                mouseenter: function (event) {
                    this._addClass($(event.currentTarget), null, "ui-state-hover")
                },
                mouseleave: function (event) {
                    this._removeClass($(event.currentTarget), null, "ui-state-hover")
                }
            })
        },
        _focusable: function (element) {
            this.focusable = this.focusable.add(element), this._on(element, {
                focusin: function (event) {
                    this._addClass($(event.currentTarget), null, "ui-state-focus")
                },
                focusout: function (event) {
                    this._removeClass($(event.currentTarget), null, "ui-state-focus")
                }
            })
        },
        _trigger: function (type, event, data) {
            var prop, orig, callback = this.options[type];
            if (data = data || {}, (event = $.Event(event)).type = (type === this.widgetEventPrefix ? type : this.widgetEventPrefix + type).toLowerCase(), event.target = this.element[0], orig = event.originalEvent)
                for (prop in orig) prop in event || (event[prop] = orig[prop]);
            return this.element.trigger(event, data), !($.isFunction(callback) && !1 === callback.apply(this.element[0], [event].concat(data)) || event.isDefaultPrevented())
        }
    }, $.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function (method, defaultEffect) {
        $.Widget.prototype["_" + method] = function (element, options, callback) {
            var hasOptions;
            "string" == typeof options && (options = {
                effect: options
            });
            var effectName = options ? !0 === options || "number" == typeof options ? defaultEffect : options.effect || defaultEffect : method;
            "number" == typeof (options = options || {}) && (options = {
                duration: options
            }), hasOptions = !$.isEmptyObject(options), options.complete = callback, options.delay && element.delay(options.delay), hasOptions && $.effects && $.effects.effect[effectName] ? element[method](options) : effectName !== method && element[effectName] ? element[effectName](options.duration, options.easing, callback) : element.queue(function (next) {
                $(this)[method](), callback && callback.call(element[0]), next()
            })
        }
    });
    $.widget;
    ! function () {
        var cachedScrollbarWidth, max = Math.max,
            abs = Math.abs,
            rhorizontal = /left|center|right/,
            rvertical = /top|center|bottom/,
            roffset = /[\+\-]\d+(\.[\d]+)?%?/,
            rposition = /^\w+/,
            rpercent = /%$/,
            _position = $.fn.position;
        function getOffsets(offsets, width, height) {
            return [parseFloat(offsets[0]) * (rpercent.test(offsets[0]) ? width / 100 : 1), parseFloat(offsets[1]) * (rpercent.test(offsets[1]) ? height / 100 : 1)]
        }
        function parseCss(element, property) {
            return parseInt($.css(element, property), 10) || 0
        }
        $.position = {
            scrollbarWidth: function () {
                if (void 0 !== cachedScrollbarWidth) return cachedScrollbarWidth;
                var w1, w2, div = $("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
                    innerDiv = div.children()[0];
                return $("body").append(div), w1 = innerDiv.offsetWidth, div.css("overflow", "scroll"), w1 === (w2 = innerDiv.offsetWidth) && (w2 = div[0].clientWidth), div.remove(), cachedScrollbarWidth = w1 - w2
            },
            getScrollInfo: function (within) {
                var overflowX = within.isWindow || within.isDocument ? "" : within.element.css("overflow-x"),
                    overflowY = within.isWindow || within.isDocument ? "" : within.element.css("overflow-y"),
                    hasOverflowX = "scroll" === overflowX || "auto" === overflowX && within.width < within.element[0].scrollWidth;
                return {
                    width: "scroll" === overflowY || "auto" === overflowY && within.height < within.element[0].scrollHeight ? $.position.scrollbarWidth() : 0,
                    height: hasOverflowX ? $.position.scrollbarWidth() : 0
                }
            },
            getWithinInfo: function (element) {
                var withinElement = $(element || window),
                    isWindow = $.isWindow(withinElement[0]),
                    isDocument = !!withinElement[0] && 9 === withinElement[0].nodeType;
                return {
                    element: withinElement,
                    isWindow: isWindow,
                    isDocument: isDocument,
                    offset: !isWindow && !isDocument ? $(element).offset() : {
                        left: 0,
                        top: 0
                    },
                    scrollLeft: withinElement.scrollLeft(),
                    scrollTop: withinElement.scrollTop(),
                    width: withinElement.outerWidth(),
                    height: withinElement.outerHeight()
                }
            }
        }, $.fn.position = function (options) {
            if (!options || !options.of) return _position.apply(this, arguments);
            options = $.extend({}, options);
            var atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions, elem, raw, target = $(options.of),
                within = $.position.getWithinInfo(options.within),
                scrollInfo = $.position.getScrollInfo(within),
                collision = (options.collision || "flip").split(" "),
                offsets = {};
            return dimensions = 9 === (raw = (elem = target)[0]).nodeType ? {
                width: elem.width(),
                height: elem.height(),
                offset: {
                    top: 0,
                    left: 0
                }
            } : $.isWindow(raw) ? {
                width: elem.width(),
                height: elem.height(),
                offset: {
                    top: elem.scrollTop(),
                    left: elem.scrollLeft()
                }
            } : raw.preventDefault ? {
                width: 0,
                height: 0,
                offset: {
                    top: raw.pageY,
                    left: raw.pageX
                }
            } : {
                width: elem.outerWidth(),
                height: elem.outerHeight(),
                offset: elem.offset()
            }, target[0].preventDefault && (options.at = "left top"), targetWidth = dimensions.width, targetHeight = dimensions.height, targetOffset = dimensions.offset, basePosition = $.extend({}, targetOffset), $.each(["my", "at"], function () {
                var horizontalOffset, verticalOffset, pos = (options[this] || "").split(" ");
                1 === pos.length && (pos = rhorizontal.test(pos[0]) ? pos.concat(["center"]) : rvertical.test(pos[0]) ? ["center"].concat(pos) : ["center", "center"]), pos[0] = rhorizontal.test(pos[0]) ? pos[0] : "center", pos[1] = rvertical.test(pos[1]) ? pos[1] : "center", horizontalOffset = roffset.exec(pos[0]), verticalOffset = roffset.exec(pos[1]), offsets[this] = [horizontalOffset ? horizontalOffset[0] : 0, verticalOffset ? verticalOffset[0] : 0], options[this] = [rposition.exec(pos[0])[0], rposition.exec(pos[1])[0]]
            }), 1 === collision.length && (collision[1] = collision[0]), "right" === options.at[0] ? basePosition.left += targetWidth : "center" === options.at[0] && (basePosition.left += targetWidth / 2), "bottom" === options.at[1] ? basePosition.top += targetHeight : "center" === options.at[1] && (basePosition.top += targetHeight / 2), atOffset = getOffsets(offsets.at, targetWidth, targetHeight), basePosition.left += atOffset[0], basePosition.top += atOffset[1], this.each(function () {
                var collisionPosition, using, elem = $(this),
                    elemWidth = elem.outerWidth(),
                    elemHeight = elem.outerHeight(),
                    marginLeft = parseCss(this, "marginLeft"),
                    marginTop = parseCss(this, "marginTop"),
                    collisionWidth = elemWidth + marginLeft + parseCss(this, "marginRight") + scrollInfo.width,
                    collisionHeight = elemHeight + marginTop + parseCss(this, "marginBottom") + scrollInfo.height,
                    position = $.extend({}, basePosition),
                    myOffset = getOffsets(offsets.my, elem.outerWidth(), elem.outerHeight());
                "right" === options.my[0] ? position.left -= elemWidth : "center" === options.my[0] && (position.left -= elemWidth / 2), "bottom" === options.my[1] ? position.top -= elemHeight : "center" === options.my[1] && (position.top -= elemHeight / 2), position.left += myOffset[0], position.top += myOffset[1], collisionPosition = {
                    marginLeft: marginLeft,
                    marginTop: marginTop
                }, $.each(["left", "top"], function (i, dir) {
                    $.ui.position[collision[i]] && $.ui.position[collision[i]][dir](position, {
                        targetWidth: targetWidth,
                        targetHeight: targetHeight,
                        elemWidth: elemWidth,
                        elemHeight: elemHeight,
                        collisionPosition: collisionPosition,
                        collisionWidth: collisionWidth,
                        collisionHeight: collisionHeight,
                        offset: [atOffset[0] + myOffset[0], atOffset[1] + myOffset[1]],
                        my: options.my,
                        at: options.at,
                        within: within,
                        elem: elem
                    })
                }), options.using && (using = function (props) {
                    var left = targetOffset.left - position.left,
                        right = left + targetWidth - elemWidth,
                        top = targetOffset.top - position.top,
                        bottom = top + targetHeight - elemHeight,
                        feedback = {
                            target: {
                                element: target,
                                left: targetOffset.left,
                                top: targetOffset.top,
                                width: targetWidth,
                                height: targetHeight
                            },
                            element: {
                                element: elem,
                                left: position.left,
                                top: position.top,
                                width: elemWidth,
                                height: elemHeight
                            },
                            horizontal: right < 0 ? "left" : left > 0 ? "right" : "center",
                            vertical: bottom < 0 ? "top" : top > 0 ? "bottom" : "middle"
                        };
                    targetWidth < elemWidth && abs(left + right) < targetWidth && (feedback.horizontal = "center"), targetHeight < elemHeight && abs(top + bottom) < targetHeight && (feedback.vertical = "middle"), max(abs(left), abs(right)) > max(abs(top), abs(bottom)) ? feedback.important = "horizontal" : feedback.important = "vertical", options.using.call(this, props, feedback)
                }), elem.offset($.extend(position, {
                    using: using
                }))
            })
        }, $.ui.position = {
            fit: {
                left: function (position, data) {
                    var newOverRight, within = data.within,
                        withinOffset = within.isWindow ? within.scrollLeft : within.offset.left,
                        outerWidth = within.width,
                        collisionPosLeft = position.left - data.collisionPosition.marginLeft,
                        overLeft = withinOffset - collisionPosLeft,
                        overRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset;
                    data.collisionWidth > outerWidth ? overLeft > 0 && overRight <= 0 ? (newOverRight = position.left + overLeft + data.collisionWidth - outerWidth - withinOffset, position.left += overLeft - newOverRight) : position.left = overRight > 0 && overLeft <= 0 ? withinOffset : overLeft > overRight ? withinOffset + outerWidth - data.collisionWidth : withinOffset : overLeft > 0 ? position.left += overLeft : overRight > 0 ? position.left -= overRight : position.left = max(position.left - collisionPosLeft, position.left)
                },
                top: function (position, data) {
                    var newOverBottom, within = data.within,
                        withinOffset = within.isWindow ? within.scrollTop : within.offset.top,
                        outerHeight = data.within.height,
                        collisionPosTop = position.top - data.collisionPosition.marginTop,
                        overTop = withinOffset - collisionPosTop,
                        overBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset;
                    data.collisionHeight > outerHeight ? overTop > 0 && overBottom <= 0 ? (newOverBottom = position.top + overTop + data.collisionHeight - outerHeight - withinOffset, position.top += overTop - newOverBottom) : position.top = overBottom > 0 && overTop <= 0 ? withinOffset : overTop > overBottom ? withinOffset + outerHeight - data.collisionHeight : withinOffset : overTop > 0 ? position.top += overTop : overBottom > 0 ? position.top -= overBottom : position.top = max(position.top - collisionPosTop, position.top)
                }
            },
            flip: {
                left: function (position, data) {
                    var newOverRight, newOverLeft, within = data.within,
                        withinOffset = within.offset.left + within.scrollLeft,
                        outerWidth = within.width,
                        offsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,
                        collisionPosLeft = position.left - data.collisionPosition.marginLeft,
                        overLeft = collisionPosLeft - offsetLeft,
                        overRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,
                        myOffset = "left" === data.my[0] ? -data.elemWidth : "right" === data.my[0] ? data.elemWidth : 0,
                        atOffset = "left" === data.at[0] ? data.targetWidth : "right" === data.at[0] ? -data.targetWidth : 0,
                        offset = -2 * data.offset[0];
                    overLeft < 0 ? ((newOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth - outerWidth - withinOffset) < 0 || newOverRight < abs(overLeft)) && (position.left += myOffset + atOffset + offset) : overRight > 0 && ((newOverLeft = position.left - data.collisionPosition.marginLeft + myOffset + atOffset + offset - offsetLeft) > 0 || abs(newOverLeft) < overRight) && (position.left += myOffset + atOffset + offset)
                },
                top: function (position, data) {
                    var newOverTop, newOverBottom, within = data.within,
                        withinOffset = within.offset.top + within.scrollTop,
                        outerHeight = within.height,
                        offsetTop = within.isWindow ? within.scrollTop : within.offset.top,
                        collisionPosTop = position.top - data.collisionPosition.marginTop,
                        overTop = collisionPosTop - offsetTop,
                        overBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,
                        myOffset = "top" === data.my[1] ? -data.elemHeight : "bottom" === data.my[1] ? data.elemHeight : 0,
                        atOffset = "top" === data.at[1] ? data.targetHeight : "bottom" === data.at[1] ? -data.targetHeight : 0,
                        offset = -2 * data.offset[1];
                    overTop < 0 ? ((newOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight - outerHeight - withinOffset) < 0 || newOverBottom < abs(overTop)) && (position.top += myOffset + atOffset + offset) : overBottom > 0 && ((newOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset + offset - offsetTop) > 0 || abs(newOverTop) < overBottom) && (position.top += myOffset + atOffset + offset)
                }
            },
            flipfit: {
                left: function () {
                    $.ui.position.flip.left.apply(this, arguments), $.ui.position.fit.left.apply(this, arguments)
                },
                top: function () {
                    $.ui.position.flip.top.apply(this, arguments), $.ui.position.fit.top.apply(this, arguments)
                }
            }
        }
    }();
    var selectorEscape, uuid;
    $.ui.position, $.fn.form = function () {
        return "string" == typeof this[0].form ? this.closest("form") : $(this[0].form)
    }, $.ui.formResetMixin = {
        _formResetHandler: function () {
            var form = $(this);
            setTimeout(function () {
                var instances = form.data("ui-form-reset-instances");
                $.each(instances, function () {
                    this.refresh()
                })
            })
        },
        _bindFormResetHandler: function () {
            if (this.form = this.element.form(), this.form.length) {
                var instances = this.form.data("ui-form-reset-instances") || [];
                instances.length || this.form.on("reset.ui-form-reset", this._formResetHandler), instances.push(this), this.form.data("ui-form-reset-instances", instances)
            }
        },
        _unbindFormResetHandler: function () {
            if (this.form.length) {
                var instances = this.form.data("ui-form-reset-instances");
                instances.splice($.inArray(this, instances), 1), instances.length ? this.form.data("ui-form-reset-instances", instances) : this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")
            }
        }
    }, $.ui.keyCode = {
        BACKSPACE: 8,
        COMMA: 188,
        DELETE: 46,
        DOWN: 40,
        END: 35,
        ENTER: 13,
        ESCAPE: 27,
        HOME: 36,
        LEFT: 37,
        PAGE_DOWN: 34,
        PAGE_UP: 33,
        PERIOD: 190,
        RIGHT: 39,
        SPACE: 32,
        TAB: 9,
        UP: 38
    }, $.ui.escapeSelector = (selectorEscape = /([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g, function (selector) {
        return selector.replace(selectorEscape, "\\$1")
    }), $.fn.labels = function () {
        var ancestor, selector, id, labels, ancestors;
        return this[0].labels && this[0].labels.length ? this.pushStack(this[0].labels) : (labels = this.eq(0).parents("label"), (id = this.attr("id")) && (ancestors = (ancestor = this.eq(0).parents().last()).add(ancestor.length ? ancestor.siblings() : this.siblings()), selector = "label[for='" + $.ui.escapeSelector(id) + "']", labels = labels.add(ancestors.find(selector).addBack(selector))), this.pushStack(labels))
    }, $.fn.extend({
        uniqueId: (uuid = 0, function () {
            return this.each(function () {
                this.id || (this.id = "ui-id-" + ++uuid)
            })
        }),
        removeUniqueId: function () {
            return this.each(function () {
                /^ui-id-\d+$/.test(this.id) && $(this).removeAttr("id")
            })
        }
    }), $.ui.safeActiveElement = function (document) {
        var activeElement;
        try {
            activeElement = document.activeElement
        } catch (error) {
            activeElement = document.body
        }
        return activeElement || (activeElement = document.body), activeElement.nodeName || (activeElement = document.body), activeElement
    }, $.widget("ui.menu", {
        version: "1.12.1",
        defaultElement: "<ul>",
        delay: 300,
        options: {
            icons: {
                submenu: "ui-icon-caret-1-e"
            },
            items: "> *",
            menus: "ul",
            position: {
                my: "left top",
                at: "right top"
            },
            role: "menu",
            blur: null,
            focus: null,
            select: null
        },
        _create: function () {
            this.activeMenu = this.element, this.mouseHandled = !1, this.element.uniqueId().attr({
                role: this.options.role,
                tabIndex: 0
            }), this._addClass("ui-menu", "ui-widget ui-widget-content"), this._on({
                "mousedown .ui-menu-item": function (event) {
                    event.preventDefault()
                },
                "click .ui-menu-item": function (event) {
                    var target = $(event.target),
                        active = $($.ui.safeActiveElement(this.document[0]));
                    !this.mouseHandled && target.not(".ui-state-disabled").length && (this.select(event), event.isPropagationStopped() || (this.mouseHandled = !0), target.has(".ui-menu").length ? this.expand(event) : !this.element.is(":focus") && active.closest(".ui-menu").length && (this.element.trigger("focus", [!0]), this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)))
                },
                "mouseenter .ui-menu-item": function (event) {
                    if (!this.previousFilter) {
                        var actualTarget = $(event.target).closest(".ui-menu-item"),
                            target = $(event.currentTarget);
                        actualTarget[0] === target[0] && (this._removeClass(target.siblings().children(".ui-state-active"), null, "ui-state-active"), this.focus(event, target))
                    }
                },
                mouseleave: "collapseAll",
                "mouseleave .ui-menu": "collapseAll",
                focus: function (event, keepActiveItem) {
                    var item = this.active || this.element.find(this.options.items).eq(0);
                    keepActiveItem || this.focus(event, item)
                },
                blur: function (event) {
                    this._delay(function () {
                        !$.contains(this.element[0], $.ui.safeActiveElement(this.document[0])) && this.collapseAll(event)
                    })
                },
                keydown: "_keydown"
            }), this.refresh(), this._on(this.document, {
                click: function (event) {
                    this._closeOnDocumentClick(event) && this.collapseAll(event), this.mouseHandled = !1
                }
            })
        },
        _destroy: function () {
            var submenus = this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");
            this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(), submenus.children().each(function () {
                var elem = $(this);
                elem.data("ui-menu-submenu-caret") && elem.remove()
            })
        },
        _keydown: function (event) {
            var match, prev, character, skip, preventDefault = !0;
            switch (event.keyCode) {
            case $.ui.keyCode.PAGE_UP:
                this.previousPage(event);
                break;
            case $.ui.keyCode.PAGE_DOWN:
                this.nextPage(event);
                break;
            case $.ui.keyCode.HOME:
                this._move("first", "first", event);
                break;
            case $.ui.keyCode.END:
                this._move("last", "last", event);
                break;
            case $.ui.keyCode.UP:
                this.previous(event);
                break;
            case $.ui.keyCode.DOWN:
                this.next(event);
                break;
            case $.ui.keyCode.LEFT:
                this.collapse(event);
                break;
            case $.ui.keyCode.RIGHT:
                this.active && !this.active.is(".ui-state-disabled") && this.expand(event);
                break;
            case $.ui.keyCode.ENTER:
            case $.ui.keyCode.SPACE:
                this._activate(event);
                break;
            case $.ui.keyCode.ESCAPE:
                this.collapse(event);
                break;
            default:
                preventDefault = !1, prev = this.previousFilter || "", skip = !1, character = event.keyCode >= 96 && event.keyCode <= 105 ? (event.keyCode - 96).toString() : String.fromCharCode(event.keyCode), clearTimeout(this.filterTimer), character === prev ? skip = !0 : character = prev + character, match = this._filterMenuItems(character), (match = skip && -1 !== match.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : match).length || (character = String.fromCharCode(event.keyCode), match = this._filterMenuItems(character)), match.length ? (this.focus(event, match), this.previousFilter = character, this.filterTimer = this._delay(function () {
                    delete this.previousFilter
                }, 1e3)) : delete this.previousFilter
            }
            preventDefault && event.preventDefault()
        },
        _activate: function (event) {
            this.active && !this.active.is(".ui-state-disabled") && (this.active.children("[aria-haspopup='true']").length ? this.expand(event) : this.select(event))
        },
        refresh: function () {
            var items, newSubmenus, newItems, newWrappers, that = this,
                icon = this.options.icons.submenu,
                submenus = this.element.find(this.options.menus);
            this._toggleClass("ui-menu-icons", null, !!this.element.find(".ui-icon").length), newSubmenus = submenus.filter(":not(.ui-menu)").hide().attr({
                role: this.options.role,
                "aria-hidden": "true",
                "aria-expanded": "false"
            }).each(function () {
                var menu = $(this),
                    item = menu.prev(),
                    submenuCaret = $("<span>").data("ui-menu-submenu-caret", !0);
                that._addClass(submenuCaret, "ui-menu-icon", "ui-icon " + icon), item.attr("aria-haspopup", "true").prepend(submenuCaret), menu.attr("aria-labelledby", item.attr("id"))
            }), this._addClass(newSubmenus, "ui-menu", "ui-widget ui-widget-content ui-front"), (items = submenus.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function () {
                var item = $(this);
                that._isDivider(item) && that._addClass(item, "ui-menu-divider", "ui-widget-content")
            }), newWrappers = (newItems = items.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({
                tabIndex: -1,
                role: this._itemRole()
            }), this._addClass(newItems, "ui-menu-item")._addClass(newWrappers, "ui-menu-item-wrapper"), items.filter(".ui-state-disabled").attr("aria-disabled", "true"), this.active && !$.contains(this.element[0], this.active[0]) && this.blur()
        },
        _itemRole: function () {
            return {
                menu: "menuitem",
                listbox: "option"
            } [this.options.role]
        },
        _setOption: function (key, value) {
            if ("icons" === key) {
                var icons = this.element.find(".ui-menu-icon");
                this._removeClass(icons, null, this.options.icons.submenu)._addClass(icons, null, value.submenu)
            }
            this._super(key, value)
        },
        _setOptionDisabled: function (value) {
            this._super(value), this.element.attr("aria-disabled", String(value)), this._toggleClass(null, "ui-state-disabled", !!value)
        },
        focus: function (event, item) {
            var nested, focused, activeParent;
            this.blur(event, event && "focus" === event.type), this._scrollIntoView(item), this.active = item.first(), focused = this.active.children(".ui-menu-item-wrapper"), this._addClass(focused, null, "ui-state-active"), this.options.role && this.element.attr("aria-activedescendant", focused.attr("id")), activeParent = this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"), this._addClass(activeParent, null, "ui-state-active"), event && "keydown" === event.type ? this._close() : this.timer = this._delay(function () {
                this._close()
            }, this.delay), (nested = item.children(".ui-menu")).length && event && /^mouse/.test(event.type) && this._startOpening(nested), this.activeMenu = item.parent(), this._trigger("focus", event, {
                item: item
            })
        },
        _scrollIntoView: function (item) {
            var borderTop, paddingTop, offset, scroll, elementHeight, itemHeight;
            this._hasScroll() && (borderTop = parseFloat($.css(this.activeMenu[0], "borderTopWidth")) || 0, paddingTop = parseFloat($.css(this.activeMenu[0], "paddingTop")) || 0, offset = item.offset().top - this.activeMenu.offset().top - borderTop - paddingTop, scroll = this.activeMenu.scrollTop(), elementHeight = this.activeMenu.height(), itemHeight = item.outerHeight(), offset < 0 ? this.activeMenu.scrollTop(scroll + offset) : offset + itemHeight > elementHeight && this.activeMenu.scrollTop(scroll + offset - elementHeight + itemHeight))
        },
        blur: function (event, fromFocus) {
            fromFocus || clearTimeout(this.timer), this.active && (this._removeClass(this.active.children(".ui-menu-item-wrapper"), null, "ui-state-active"), this._trigger("blur", event, {
                item: this.active
            }), this.active = null)
        },
        _startOpening: function (submenu) {
            clearTimeout(this.timer), "true" === submenu.attr("aria-hidden") && (this.timer = this._delay(function () {
                this._close(), this._open(submenu)
            }, this.delay))
        },
        _open: function (submenu) {
            var position = $.extend({
                of: this.active
            }, this.options.position);
            clearTimeout(this.timer), this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden", "true"), submenu.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(position)
        },
        collapseAll: function (event, all) {
            clearTimeout(this.timer), this.timer = this._delay(function () {
                var currentMenu = all ? this.element : $(event && event.target).closest(this.element.find(".ui-menu"));
                currentMenu.length || (currentMenu = this.element), this._close(currentMenu), this.blur(event), this._removeClass(currentMenu.find(".ui-state-active"), null, "ui-state-active"), this.activeMenu = currentMenu
            }, this.delay)
        },
        _close: function (startMenu) {
            startMenu || (startMenu = this.active ? this.active.parent() : this.element), startMenu.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false")
        },
        _closeOnDocumentClick: function (event) {
            return !$(event.target).closest(".ui-menu").length
        },
        _isDivider: function (item) {
            return !/[^\-\u2014\u2013\s]/.test(item.text())
        },
        collapse: function (event) {
            var newItem = this.active && this.active.parent().closest(".ui-menu-item", this.element);
            newItem && newItem.length && (this._close(), this.focus(event, newItem))
        },
        expand: function (event) {
            var newItem = this.active && this.active.children(".ui-menu ").find(this.options.items).first();
            newItem && newItem.length && (this._open(newItem.parent()), this._delay(function () {
                this.focus(event, newItem)
            }))
        },
        next: function (event) {
            this._move("next", "first", event)
        },
        previous: function (event) {
            this._move("prev", "last", event)
        },
        isFirstItem: function () {
            return this.active && !this.active.prevAll(".ui-menu-item").length
        },
        isLastItem: function () {
            return this.active && !this.active.nextAll(".ui-menu-item").length
        },
        _move: function (direction, filter, event) {
            var next;
            this.active && (next = "first" === direction || "last" === direction ? this.active["first" === direction ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[direction + "All"](".ui-menu-item").eq(0)), next && next.length && this.active || (next = this.activeMenu.find(this.options.items)[filter]()), this.focus(event, next)
        },
        nextPage: function (event) {
            var item, base, height;
            this.active ? this.isLastItem() || (this._hasScroll() ? (base = this.active.offset().top, height = this.element.height(), this.active.nextAll(".ui-menu-item").each(function () {
                return (item = $(this)).offset().top - base - height < 0
            }), this.focus(event, item)) : this.focus(event, this.activeMenu.find(this.options.items)[this.active ? "last" : "first"]())) : this.next(event)
        },
        previousPage: function (event) {
            var item, base, height;
            this.active ? this.isFirstItem() || (this._hasScroll() ? (base = this.active.offset().top, height = this.element.height(), this.active.prevAll(".ui-menu-item").each(function () {
                return (item = $(this)).offset().top - base + height > 0
            }), this.focus(event, item)) : this.focus(event, this.activeMenu.find(this.options.items).first())) : this.next(event)
        },
        _hasScroll: function () {
            return this.element.outerHeight() < this.element.prop("scrollHeight")
        },
        select: function (event) {
            this.active = this.active || $(event.target).closest(".ui-menu-item");
            var ui = {
                item: this.active
            };
            this.active.has(".ui-menu").length || this.collapseAll(event, !0), this._trigger("select", event, ui)
        },
        _filterMenuItems: function (character) {
            var escapedCharacter = character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&"),
                regex = new RegExp("^" + escapedCharacter, "i");
            return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function () {
                return regex.test($.trim($(this).children(".ui-menu-item-wrapper").text()))
            })
        }
    }), $.widget("ui.selectmenu", [$.ui.formResetMixin, {
        version: "1.12.1",
        defaultElement: "<select>",
        options: {
            appendTo: null,
            classes: {
                "ui-selectmenu-button-open": "ui-corner-top",
                "ui-selectmenu-button-closed": "ui-corner-all"
            },
            disabled: null,
            icons: {
                button: "ui-icon-triangle-1-s"
            },
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            width: !1,
            change: null,
            close: null,
            focus: null,
            open: null,
            select: null
        },
        _create: function () {
            var selectmenuId = this.element.uniqueId().attr("id");
            this.ids = {
                element: selectmenuId,
                button: selectmenuId + "-button",
                menu: selectmenuId + "-menu"
            }, this._drawButton(), this._drawMenu(), this._bindFormResetHandler(), this._rendered = !1, this.menuItems = $()
        },
        _drawButton: function () {
            var icon, that = this,
                item = this._parseOption(this.element.find("option:selected"), this.element[0].selectedIndex);
            this.labels = this.element.labels().attr("for", this.ids.button), this._on(this.labels, {
                click: function (event) {
                    this.button.focus(), event.preventDefault()
                }
            }), this.element.hide(), this.button = $("<span>", {
                tabindex: this.options.disabled ? -1 : 0,
                id: this.ids.button,
                role: "combobox",
                "aria-expanded": "false",
                "aria-autocomplete": "list",
                "aria-owns": this.ids.menu,
                "aria-haspopup": "true",
                title: this.element.attr("title")
            }).insertAfter(this.element), this._addClass(this.button, "ui-selectmenu-button ui-selectmenu-button-closed", "ui-button ui-widget"), icon = $("<span>").appendTo(this.button), this._addClass(icon, "ui-selectmenu-icon", "ui-icon " + this.options.icons.button), this.buttonItem = this._renderButtonItem(item).appendTo(this.button), !1 !== this.options.width && this._resizeButton(), this._on(this.button, this._buttonEvents), this.button.one("focusin", function () {
                that._rendered || that._refreshMenu()
            })
        },
        _drawMenu: function () {
            var that = this;
            this.menu = $("<ul>", {
                "aria-hidden": "true",
                "aria-labelledby": this.ids.button,
                id: this.ids.menu
            }), this.menuWrap = $("<div>").append(this.menu), this._addClass(this.menuWrap, "ui-selectmenu-menu", "ui-front"), this.menuWrap.appendTo(this._appendTo()), this.menuInstance = this.menu.menu({
                classes: {
                    "ui-menu": "ui-corner-bottom"
                },
                role: "listbox",
                select: function (event, ui) {
                    event.preventDefault(), that._setSelection(), that._select(ui.item.data("ui-selectmenu-item"), event)
                },
                focus: function (event, ui) {
                    var item = ui.item.data("ui-selectmenu-item");
                    null != that.focusIndex && item.index !== that.focusIndex && (that._trigger("focus", event, {
                        item: item
                    }), that.isOpen || that._select(item, event)), that.focusIndex = item.index, that.button.attr("aria-activedescendant", that.menuItems.eq(item.index).attr("id"))
                }
            }).menu("instance"), this.menuInstance._off(this.menu, "mouseleave"), this.menuInstance._closeOnDocumentClick = function () {
                return !1
            }, this.menuInstance._isDivider = function () {
                return !1
            }
        },
        refresh: function () {
            this._refreshMenu(), this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item") || {})), null === this.options.width && this._resizeButton()
        },
        _refreshMenu: function () {
            var item, options = this.element.find("option");
            this.menu.empty(), this._parseOptions(options), this._renderMenu(this.menu, this.items), this.menuInstance.refresh(), this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"), this._rendered = !0, options.length && (item = this._getSelectedItem(), this.menuInstance.focus(null, item), this._setAria(item.data("ui-selectmenu-item")), this._setOption("disabled", this.element.prop("disabled")))
        },
        open: function (event) {
            this.options.disabled || (this._rendered ? (this._removeClass(this.menu.find(".ui-state-active"), null, "ui-state-active"), this.menuInstance.focus(null, this._getSelectedItem())) : this._refreshMenu(), this.menuItems.length && (this.isOpen = !0, this._toggleAttr(), this._resizeMenu(), this._position(), this._on(this.document, this._documentClick), this._trigger("open", event)))
        },
        _position: function () {
            this.menuWrap.position($.extend({
                of: this.button
            }, this.options.position))
        },
        close: function (event) {
            this.isOpen && (this.isOpen = !1, this._toggleAttr(), this.range = null, this._off(this.document), this._trigger("close", event))
        },
        widget: function () {
            return this.button
        },
        menuWidget: function () {
            return this.menu
        },
        _renderButtonItem: function (item) {
            var buttonItem = $("<span>");
            return this._setText(buttonItem, item.label), this._addClass(buttonItem, "ui-selectmenu-text"), buttonItem
        },
        _renderMenu: function (ul, items) {
            var that = this,
                currentOptgroup = "";
            $.each(items, function (index, item) {
                var li;
                item.optgroup !== currentOptgroup && (li = $("<li>", {
                    text: item.optgroup
                }), that._addClass(li, "ui-selectmenu-optgroup", "ui-menu-divider" + (item.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : "")), li.appendTo(ul), currentOptgroup = item.optgroup), that._renderItemData(ul, item)
            })
        },
        _renderItemData: function (ul, item) {
            return this._renderItem(ul, item).data("ui-selectmenu-item", item)
        },
        _renderItem: function (ul, item) {
            var li = $("<li>"),
                wrapper = $("<div>", {
                    title: item.element.attr("title")
                });
            return item.disabled && this._addClass(li, null, "ui-state-disabled"), this._setText(wrapper, item.label), li.append(wrapper).appendTo(ul)
        },
        _setText: function (element, value) {
            value ? element.text(value) : element.html("&#160;")
        },
        _move: function (direction, event) {
            var item, next, filter = ".ui-menu-item";
            this.isOpen ? item = this.menuItems.eq(this.focusIndex).parent("li") : (item = this.menuItems.eq(this.element[0].selectedIndex).parent("li"), filter += ":not(.ui-state-disabled)"), (next = "first" === direction || "last" === direction ? item["first" === direction ? "prevAll" : "nextAll"](filter).eq(-1) : item[direction + "All"](filter).eq(0)).length && this.menuInstance.focus(event, next)
        },
        _getSelectedItem: function () {
            return this.menuItems.eq(this.element[0].selectedIndex).parent("li")
        },
        _toggle: function (event) {
            this[this.isOpen ? "close" : "open"](event)
        },
        _setSelection: function () {
            var selection;
            this.range && (window.getSelection ? ((selection = window.getSelection()).removeAllRanges(), selection.addRange(this.range)) : this.range.select(), this.button.focus())
        },
        _documentClick: {
            mousedown: function (event) {
                this.isOpen && ($(event.target).closest(".ui-selectmenu-menu, #" + $.ui.escapeSelector(this.ids.button)).length || this.close(event))
            }
        },
        _buttonEvents: {
            mousedown: function () {
                var selection;
                window.getSelection ? (selection = window.getSelection()).rangeCount && (this.range = selection.getRangeAt(0)) : this.range = document.selection.createRange()
            },
            click: function (event) {
                this._setSelection(), this._toggle(event)
            },
            keydown: function (event) {
                var preventDefault = !0;
                switch (event.keyCode) {
                case $.ui.keyCode.TAB:
                case $.ui.keyCode.ESCAPE:
                    this.close(event), preventDefault = !1;
                    break;
                case $.ui.keyCode.ENTER:
                    this.isOpen && this._selectFocusedItem(event);
                    break;
                case $.ui.keyCode.UP:
                    event.altKey ? this._toggle(event) : this._move("prev", event);
                    break;
                case $.ui.keyCode.DOWN:
                    event.altKey ? this._toggle(event) : this._move("next", event);
                    break;
                case $.ui.keyCode.SPACE:
                    this.isOpen ? this._selectFocusedItem(event) : this._toggle(event);
                    break;
                case $.ui.keyCode.LEFT:
                    this._move("prev", event);
                    break;
                case $.ui.keyCode.RIGHT:
                    this._move("next", event);
                    break;
                case $.ui.keyCode.HOME:
                case $.ui.keyCode.PAGE_UP:
                    this._move("first", event);
                    break;
                case $.ui.keyCode.END:
                case $.ui.keyCode.PAGE_DOWN:
                    this._move("last", event);
                    break;
                default:
                    this.menu.trigger(event), preventDefault = !1
                }
                preventDefault && event.preventDefault()
            }
        },
        _selectFocusedItem: function (event) {
            var item = this.menuItems.eq(this.focusIndex).parent("li");
            item.hasClass("ui-state-disabled") || this._select(item.data("ui-selectmenu-item"), event)
        },
        _select: function (item, event) {
            var oldIndex = this.element[0].selectedIndex;
            this.element[0].selectedIndex = item.index, this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(item)), this._setAria(item), this._trigger("select", event, {
                item: item
            }), item.index !== oldIndex && this._trigger("change", event, {
                item: item
            }), this.close(event)
        },
        _setAria: function (item) {
            var id = this.menuItems.eq(item.index).attr("id");
            this.button.attr({
                "aria-labelledby": id,
                "aria-activedescendant": id
            }), this.menu.attr("aria-activedescendant", id)
        },
        _setOption: function (key, value) {
            if ("icons" === key) {
                var icon = this.button.find("span.ui-icon");
                this._removeClass(icon, null, this.options.icons.button)._addClass(icon, null, value.button)
            }
            this._super(key, value), "appendTo" === key && this.menuWrap.appendTo(this._appendTo()), "width" === key && this._resizeButton()
        },
        _setOptionDisabled: function (value) {
            this._super(value), this.menuInstance.option("disabled", value), this.button.attr("aria-disabled", value), this._toggleClass(this.button, null, "ui-state-disabled", value), this.element.prop("disabled", value), value ? (this.button.attr("tabindex", -1), this.close()) : this.button.attr("tabindex", 0)
        },
        _appendTo: function () {
            var element = this.options.appendTo;
            return element && (element = element.jquery || element.nodeType ? $(element) : this.document.find(element).eq(0)), element && element[0] || (element = this.element.closest(".ui-front, dialog")), element.length || (element = this.document[0].body), element
        },
        _toggleAttr: function () {
            this.button.attr("aria-expanded", this.isOpen), this._removeClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "closed" : "open"))._addClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "open" : "closed"))._toggleClass(this.menuWrap, "ui-selectmenu-open", null, this.isOpen), this.menu.attr("aria-hidden", !this.isOpen)
        },
        _resizeButton: function () {
            var width = this.options.width;
            !1 !== width ? (null === width && (width = this.element.show().outerWidth(), this.element.hide()), this.button.outerWidth(width)) : this.button.css("width", "")
        },
        _resizeMenu: function () {
            this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1))
        },
        _getCreateOptions: function () {
            var options = this._super();
            return options.disabled = this.element.prop("disabled"), options
        },
        _parseOptions: function (options) {
            var that = this,
                data = [];
            options.each(function (index, item) {
                data.push(that._parseOption($(item), index))
            }), this.items = data
        },
        _parseOption: function (option, index) {
            var optgroup = option.parent("optgroup");
            return {
                element: option,
                index: index,
                value: option.val(),
                label: option.text(),
                optgroup: optgroup.attr("label") || "",
                disabled: optgroup.prop("disabled") || option.prop("disabled")
            }
        },
        _destroy: function () {
            this._unbindFormResetHandler(), this.menuWrap.remove(), this.button.remove(), this.element.show(), this.element.removeUniqueId(), this.labels.attr("for", this.ids.element)
        }
    }])
});
"use strict";
var defly = function () {
    var m, a, u, also_token, h, B, q, d, G, Y, H, _username, P, M, x, e, K, A, s, V, S, listofBullets, z, E, I, _, n, W, w, k, O, T, Q, C, i, b, g, r, R, D, Z, X, c, J, v, t = "http://s.defly.io",
        j = "192.168.0.12:3000",
        U = {},
        p = {},
        f = !1,
        F = 0,
        N = !1,
        mm = 1,
        probablyDelta = 0,
        yisM = 0,
        um = [],
        om = 0,
        hm = 0,
        Bm = 0,
        qm = [],
        dm = [],
        Gm = 0,
        Ym = 0,
        Hm = 0,
        Lm = 0,
        releatedToBullets = {},
        Mm = !1,
        xm = 20,
        em = [],
        Km = [],
        Am = [],
        sm = 0,
        Vm = 0,
        Sm = -1,
        lm = 0,
        zm = !1,
        Em = 0,
        arrayofOk = {},
        _m = {},
        nm = {},
        playerSkin = 1,
        wm = -1,
        km = !0,
        Om = !1,
        Tm = !1,
        Qm = !1,
        Cm = 0,
        im = 0,
        bm = 0,
        gm = 0,
        rm = !1,
        Rm = 0,
        ActionsQueue = [8, 8, 8, 8, 8, 8, 8],
        $m = 0,
        Zm = 0;
    var Xm, cm, Jm, vm, MaxIndexVal, jm, Um, pm, fm, Fm, Nm, ma, aa, ya = !1,
        ua = !1,
        oa = !1,
        ha = !1,
        Ba = !1,
        qa = 2,
        da = !1,
        Ga = !1,
        Ya = !1,
        Ha = !1,
        La = !1,
        Pa = null,
        Ma = !1,
        xa = !1,
        ea = !1,
        Ka = !1,
        Aa = !1,
        sa = !1,
        Va = 0,
        Sa = !1,
        la = -1,
        za = 2,
        Ea = 9,
        Ia = 48,
        _a = 24,
        na = .6763066483560869,
        Wa = .1,
        wa = 0,
        ka = 0,
        Oa = 0,
        Ta = !1,
        GameObjects = {},
        DotsIng = {},
        ia = {},
        PlayerList = {},
        localPlayerInde = -1,
        ra = -1,
        Ra = -1,
        Da = {},
        PlayersGiven = {},
        Za = 0,
        Xa = 0,
        ca = 4,
        Ja = na / .5036440950091954,
        va = [4021759, 9587711, 16144895, 16736174, 16594229, 16747050, 9698816, 1630751, 32823, 65468, 5625343],
        ta = [4021759, 16594229, 32823, 16747050, 9587711, 5625343, 1630751, 16144895, 16252714, 16736174, 9698816, 65468],
        ja = ta.slice(),
        Ua = [5066061, 4021759, 16594229],
        pa = ["Blue", "Red", "Dark Green", "Orange", "Purple", "Sky Blue", "Green", "Pink", "Yellow", "Rose", "Lime", "Turquoise"],
        fa = pa.slice(),
        Fa = !1,
        Na = ["", "Blue", "Red"],
        my = ["Dual Fire", "Speed Boost", "Clone", "Shield", "Flashbang", "Teleport", "Grenade"],
        ay = [10, 10, 10, 10, 10, 1, 10],
        yy = [30, 30, 30, 30, 30, 30, 30],
        uy = {};
    function oy(m) {
        if (uy[m]) return uy[m];
        if (Da[m]) return uy[m] = ja[Da[m] - 1], uy[m];
        if (m == localPlayerInde && wm >= 0) return uy[m] = va[wm], uy[m];
        do {
            var a = va[Math.floor(Math.random() * va.length)]
        } while (m != localPlayerInde && uy[localPlayerInde] == a);
        return uy[m] = a, a
    }
    function hy(m) {
        return ja[m - 1]
    }
    var By = {
            MUP: "Move up",
            MDOWN: "Move down",
            MLEFT: "Move left",
            MRIGHT: "Move right",
            SHOOT: "Shoot",
            BUILD: "Build",
            SUPERPOWER: "Superpower",
            TLEFT: "Turn left",
            TRIGHT: "Turn right",
            TEAMMATES: "Show teammates",
            MOVEWMOUSE: "Move with mouse"
        },
        qy = {
            MUP: [{
                code: "KeyW",
                keyCode: 87
            }, {
                code: "ArrowUp",
                keyCode: 38
            }],
            MDOWN: [{
                code: "KeyS",
                keyCode: 83
            }, {
                code: "ArrowDown",
                keyCode: 40
            }],
            MLEFT: [{
                code: "KeyA",
                keyCode: 65
            }, {
                code: "ArrowLeft",
                keyCode: 37
            }],
            MRIGHT: [{
                code: "KeyD",
                keyCode: 68
            }, {
                code: "ArrowRight",
                keyCode: 39
            }],
            SHOOT: [{
                button: 0
            }],
            BUILD: [{
                button: 2
            }, {
                code: "Space",
                keyCode: 32
            }],
            SUPERPOWER: [{
                code: "KeyE",
                keyCode: 69
            }, {
                code: "ShiftRight",
                keyCode: 16
            }],
            TLEFT: [],
            TRIGHT: [],
            TEAMMATES: [{
                code: "Tab",
                keyCode: 9
            }],
            MOVEWMOUSE: [{
                code: "KeyC",
                keyCode: 67
            }]
        },
        dy = {
            EU1: "Europe",
            EU2: "Europe Central",
            USE1: "US East",
            USW1: "US West",
            TOK1: "Asia East",
            SA1: "South America",
            RU1: "Russia",
            TR: "Tournament",
            AU: "Australia"
        };
    function Gy(m) {
        return m
    }
    var Yy, Hy = (Yy = document.createElement("canvas").getContext("2d"), (window.devicePixelRatio || 1) / (Yy.webkitBackingStorePixelRatio || Yy.mozBackingStorePixelRatio || Yy.msBackingStorePixelRatio || Yy.oBackingStorePixelRatio || Yy.backingStorePixelRatio || 1));
    function Ly() {
        var m = {
            dpi: 96,
            dpcm: 96 / 2.54
        };
        function a() {
            return "undefined" == typeof window ? 0 : +window.devicePixelRatio || Math.sqrt(screen.deviceXDPI * screen.deviceYDPI) / m.dpi || 0
        }
        return {
            dppx: a,
            dpi: function () {
                return a() * m.dpi
            },
            dpcm: function () {
                return a() * m.dpcm
            }
        }
    }
    var Py = Ly().dpcm();
    function My(m) {
        mm = m, 1 == m ? document.getElementById("button-quality-high").classList.remove("unselected") : document.getElementById("button-quality-high").classList.add("unselected"), .8 == m ? document.getElementById("button-quality-medium").classList.remove("unselected") : document.getElementById("button-quality-medium").classList.add("unselected"), .6 == m ? document.getElementById("button-quality-low").classList.remove("unselected") : document.getElementById("button-quality-low").classList.add("unselected");
        try {
            "undefined" != typeof Storage && localStorage.setItem("quality", m)
        } catch (m) {}
        P && (P.resolution = mm * Hy, P.rootRenderTarget && (P.rootRenderTarget.resolution = mm * Hy), ch())
    }
    function xy(m, a) {
        var y = a < 0 ? 0 : 255,
            u = a < 0 ? -1 * a : a,
            o = m >> 16,
            h = m >> 8 & 255,
            B = 255 & m;
        return 65536 * (Math.round((y - o) * u) + o) + 256 * (Math.round((y - h) * u) + h) + (Math.round((y - B) * u) + B)
    }
    function ey(m) {
        return m.replace(/&/g, "&amp;").replace(/>/g, "&gt;").replace(/</g, "&lt;").replace(/"/g, "&quot;")
    }
    var Ky = ["4r5e", "5h1t", "5hit", "a_s_s", "a55", "analbead", "anal", "analconda", "anus", "ar5e", "arrse", "arse", "arsehole", "ass", "ass fuck", "asses", "assfucker", "ass-fucker", "assfukka", "asshole", "assholes", "assmucus", "asswhole", "b!tch", "b00bs", "b17ch", "b1tch", "ballbag", "balls", "bangmywife", "ballsack", "bastard", "bastards", "beastial", "beastiality", "bellend", "bestial", "bestiality", "bi+ch", "biatch", "bitch", "bitcher", "bitchers", "bitches", "bitchin", "bitching", "bloody", "blow job", "blowjob", "blowjobs", "blumpkin", "boiolas", "bollock", "bollocks", "bollok", "boner", "boob", "boobs", "booobs", "boooobs", "booooobs", "booooooobs", "breasts", "buceta", "bugger", "buggery", "bum", "bunny fucker", "butt", "butthole", "buttmuch", "buttplug", "c0ck", "c0cksucker", "carpet muncher", "cawk", "chink", "cipa", "cl1t", "clit", "clitoris", "clits", "cnut", "cock", "cockface", "cockhead", "cockmunch", "cockmuncher", "cocks", "cocksuck", "cocksucked", "cocksucker", "cock-sucker", "cocksucker", "cocksucking", "cocksucks", "cocksuka", "cocksukka", "cok", "cokmuncher", "coksucka", "coon", "cox", "crap", "cum", "cum freak", "cumdump", "cumjunkie", "cummer", "cumming", "cums", "cumshot", "cunilingus", "cunillingus", "cunnilingus", "cunt", "cuntbag", "cuntlick", "cuntlicker", "cuntlicking", "cunts", "cuntsicle", "cyalis", "cyberfuc", "cyberfuck", "cyberfucked", "cyberfucker", "cyberfuckers", "cyberfucking", "d1ck", "damn", "darn", "dick", "dickhead", "dildo", "dildos", "dink", "dinks", "dirsa", "dlck", "dog-fucker", "doggin", "dogging", "donkeyribber", "doosh", "douche", "duche", "dyke", "ejaculate", "ejaculated", "ejaculates", "ejaculating", "ejaculatings", "ejaculation", "ejakulate", "f u c k", "f u c k e r", "f_u_c_k", "f4nny", "facialize", "fag", "fagging", "faggitt", "faggot", "faggs", "fagot", "fagots", "fags", "fanny", "fannyflaps", "fannyfucker", "fanyy", "fart", "fatass", "fcuk", "fcuker", "fcuking", "feck", "fecker", "felch", "felching", "fellate", "fellatio", "fingerfuck", "fingerfucked", "fingerfucker", "fingerfuckers", "fingerfucking", "fingerfucks", "fistfuck", "fistfucked", "fistfucker", "fistfuckers", "fistfucking", "fistfuckings", "fistfucks", "flange", "fook", "fooker", "fuck", "fucka", "fuck-bitch", "fucked", "fucker", "fuckers", "fuckhead", "fuckheads", "fuckin", "fucking", "fucking ", "fuckings", "fuckingshitmotherfucker", "fuckme", "fuckmeat", "fucks", "fucktoy", "fuckwhit", "fuckwit", "fudge packer", "fudgepacker", "fuk", "fuker", "fukker", "fukkin", "fuks", "fukwhit", "fukwit", "fux", "fux0r", "gangbang", "gangbang", "gangbanged", "gangbangs", "gaylord", "gaysex", "goatse", "God", "god-dam", "goddamn", "goddamned", "god-damned", "hardcoresex", "heshe", "hoar", "hoare", "hoer", "homo", "hore", "horniest", "horny", "hotsex", "jackoff", "jack-off", "jap", "jerk-off", "jism", "jiz", "jizm", "jizz", "kawk", "knob", "knobead", "knobed", "knobend", "knobhead", "knobjocky", "knobjokey", "kock", "kondum", "kondums", "kum", "kummer", "kumming", "kums", "kunilingus", "l3i+ch", "l3itch", "labia", "liter", "lust", "lusting", "m0f0", "m0fo", "m45terbate", "ma5terb8", "ma5terbate", "masochist", "masterb8", "masterbat*", "masterbat3", "masterbate", "master-bate", "masterbation", "masterbations", "masturbate", "mof0", "mofo", "mo-fo", "mothafuck", "mothafucka", "mothafuckas", "mothafuckaz", "mothafucked", "mothafucker", "mothafuckers", "mothafuckin", "mothafucking", "mothafuckings", "mothafucks", "mother fucker", "motherfuck", "motherfucked", "motherfucker", "motherfucker", "motherfuckers", "motherfuckin", "motherfucking", "motherfucking", "motherfuckings", "motherfuckka", "motherfucks", "muff", "mutha", "muthafecker", "muthafuckker", "muther", "mutherfucker", "n1gga", "n1gger", "nazi", "nigg3r", "nigg4h", "nigga", "niggah", "niggas", "niggaz", "nigger", "niggers", "nlgger", "nlggers", "niger", "nob", "nob jokey", "nobhead", "nobjocky", "nobjokey", "numbnuts", "nutsack", "orgasim", "orgasims", "orgasm", "orgasms", "p0rn", "pawn", "pecker", "penis", "penisfucker", "phonesex", "phuck", "phuk", "phuked", "phuking", "phukked", "phukking", "phuks", "phuq", "pigfucker", "pimpis", "piss", "pissed", "pisser", "pissers", "pisses", "pissflaps", "pissin", "pissing", "pissoff", "poop", "porn", "porno", "pornography", "pornos", "prick", "pricks", "pron", "pube", "pusse", "pussi", "pussies", "pussy", "pussys", "rapist", "rectum", "retard", "rimjaw", "rimming", "s hit", "s_h_i_t", "sadist", "schlong", "screwing", "scroat", "scrote", "scrotum", "semen", "sex", "sh!+", "sh!t", "sh1t", "shag", "shagger", "shaggin", "shagging", "shemale", "shi+", "shit", "shit ass", "shitass", "shitdick", "shite", "shited", "shitey", "shitfuck", "shitfull", "shithead", "shiting", "shitings", "shits", "shitted", "shitter", "shitters", "shitting", "shittings", "shitty", "skank", "skullfuck", "slaptard", "slich", "slut", "sluts", "smegma", "smut", "snatch", "sob", "son-of-a-bitch", "spac", "spunk", "sucker", "suckmydick", "suckmydlck", "t1tt1e5", "t1tties", "teets", "teez", "testical", "testicle", "tit", "titfuck", "tits", "titt", "tittie5", "tittiefucker", "titties", "tittyfuck", "tittywank", "titwank", "tosser", "turd", "tw4t", "twat", "twathead", "twatty", "twunt", "twunter", "v14gra", "v1gra", "vagina", "viagra", "vulva", "w00se", "wang", "wank", "wanker", "wanky", "whoar", "whore", "willies", "willy", "xrated", "xxx", "rape"],
        Ay = {};
    function sy(m, a) {
        for (var y = (m = m.replace(/[\u00AD\u200A\u200B\u200C\u200D\u200E\u200F\u2060\ufeff\u05BC]/g, "").replace(//g, "").replace(/\u0391/g, "A").replace(/\u0392/g, "B").replace(/\u0395/g, "E").replace(/\u0396/g, "Z").replace(/\u0397/g, "H").replace(/\u039A/g, "K").replace(/\u039C/g, "M").replace(/\u039D/g, "N").replace(/\u039F/g, "O").replace(/\u03A1/g, "P").replace(/\u03A4/g, "T").replace(/\u03A5/g, "Y").replace(/\u03A7/g, "X").replace(/\u03BF/g, "o").replace(/\u0415/g, "E").replace(/\u0405/g, "S").replace(/\u0410/g, "A").replace(/\u0412/g, "B").replace(/\u041A/g, "K").replace(/\u041C/g, "M").replace(/\u041D/g, "H").replace(/\u041E/g, "O").replace(/\u0420/g, "P").replace(/\u0421/g, "C").replace(/\u0422/g, "T").replace(/\u0425/g, "X")).split(" "), u = 0; u < y.length; u++) {
            var o = y[u].toUpperCase(),
                h = (o.match(/[a-zA-Z0-9]/) || []).pop();
            if (void 0 !== Ay[h])
                for (var B = 0; B < Ay[h].length; B++) {
                    var q = Ay[h][B]; - 1 != o.indexOf(q) && (y[u] = a)
                }
        }
        m = y.join(" ");
        for (B = 0; B < Ay[" "].length; B++) {
            q = Ay[" "][B]; - 1 !== m.toUpperCase().indexOf(q.toUpperCase()) && (m = m.replace(new RegExp(Ay[" "][B], "ig"), a))
        }
        return m
    }! function () {
        for (var m = 0; m < Ky.length; m++) {
            var a = Ky[m].toUpperCase(),
                y = a.charAt(0); - 1 !== a.indexOf(" ") && (y = " "), void 0 === Ay[y] && (Ay[y] = []), Ay[y].push(a)
        }
    }();
    var Vy = !1;
    var Sy = function () {
            var m = navigator.userAgent || navigator.vendor || window.opera;
            return !(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(m) && !/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(m.substr(0, 4)))
        }() || "MacIntel" === navigator.platform && void 0 !== navigator.maxTouchPoints && navigator.maxTouchPoints > 1,
        ly = -1 !== navigator.userAgent.indexOf("Safari") && -1 === navigator.userAgent.indexOf("Chrome") && -1 === navigator.userAgent.indexOf("Chromium"),
        zy = Sy && ly,
        Ey = -1 !== document.referrer.indexOf("kongregate.com"),
        Iy = -1 !== document.referrer.indexOf("newgrounds.com"),
        _y = -1 !== document.referrer.indexOf("crazygames.com") || -1 !== document.referrer.indexOf("speelspelletjes.nl") || -1 !== document.referrer.indexOf("gioca.re") || -1 !== document.referrer.indexOf(" onlinegame.co.id") || -1 !== document.referrer.indexOf("1001juegos.com") || -1 !== document.referrer.indexOf("crazygames.fr") || -1 !== document.referrer.indexOf("crazygames.ru") || -1 !== document.referrer.indexOf("crazygames.com.br"),
        ny = -1 !== document.referrer.indexOf("pacogames.com") || -1 !== document.referrer.indexOf("gamearter.com");
    function Wy(m, a, y) {
        var u = document.createElement("div");
        u.className = "alert-popup" + (a ? " " + a : "");
        var o = document.createElement("div");
        o.className = "popup-outer", u.appendChild(o);
        var h = document.createElement("div");
        h.className = "wrapper", u.appendChild(h);
        var B = document.createElement("div");
        B.innerHTML = m, h.appendChild(B);
        var q = document.createElement("div");
        function d() {
            anime({
                targets: u,
                duration: 100,
                easing: "easeInQuad",
                opacity: [1, 0],
                complete: function () {
                    document.body.removeChild(u), "function" == typeof y && y()
                }
            })
        }
        q.className = "close-button", q.textContent = "OK", h.appendChild(q), document.body.appendChild(u), anime({
            targets: u,
            duration: 100,
            easing: "easeInQuad",
            opacity: [0, 1]
        }), o.addEventListener("click", d), q.addEventListener("click", d)
    }
    function wy(m, a, y) {
        var u = document.createElement("div");
        u.className = "confirm-popup" + (a ? " " + a : "");
        var o = document.createElement("div");
        o.className = "popup-outer", u.appendChild(o);
        var h = document.createElement("div");
        h.className = "wrapper", u.appendChild(h);
        var B = document.createElement("div");
        B.innerHTML = m, h.appendChild(B);
        var q = document.createElement("div");
        q.className = "yes-button", q.textContent = "YES";
        var d = document.createElement("div");
        function G(m) {
            anime({
                targets: u,
                duration: 100,
                easing: "easeInQuad",
                opacity: [1, 0],
                complete: function () {
                    document.body.removeChild(u), "function" == typeof y && y(m)
                }
            })
        }
        d.className = "no-button", d.textContent = "NO", h.appendChild(q), h.appendChild(d), document.body.appendChild(u), anime({
            targets: u,
            duration: 100,
            easing: "easeInQuad",
            opacity: [0, 1]
        }), q.addEventListener("click", () => G(!0)), d.addEventListener("click", () => G(!1))
    }
    function ky(m) {
        return "https:" === window.location.protocol.toLowerCase() || t.startsWith("https") ? "wss://" + m.replace(":", "/") : "ws://" + m
    }
    function Oy(a) {
        U[a] = new WebSocket(ky(B[a].uri)), U[a].binaryType = "arraybuffer", U[a].pings = [], U[a].sendPing = function () {
            this.lastPingTime = (new Date).getTime();
            var m = new Uint8Array(1);
            m.set([99], 0), this.send(m)
        }, U[a].addEventListener("open", function (m) {
            m.target.sendPing()
        }), U[a].addEventListener("error", function (m) {
            this.cancelled || Ou((new Date).toLocaleTimeString() + " - Error reaching server in " + a + " " + m.type + " " + m.code, "")
        }), U[a].addEventListener("close", function (m) {}), U[a].addEventListener("message", function (y) {
            var u = new DataView(y.data).getUint8(0);
            99 == u ? (y.target.pings.push((new Date).getTime() - y.target.lastPingTime), y.target.pings.length >= 3 ? (y.target.close(), delete U[a], p[a] = Math.min.apply(Math, y.target.pings), console.log("Best ping for region", a, p[a]), function () {
                var a = 999999,
                    y = "";
                for (var u in p) p[u] < a && (a = p[u], h != u && console.log("Best region", u), h = u), y += '<option value="' + u + '" data-ping="' + p[u] + '">' + dy[u] + "</option>";
                m || (document.getElementById("server-block").style.display = "block"), document.getElementById("server").innerHTML = y, document.getElementById("server").value = h, $("#server").selectmenu("refresh"), xa && Aa && by()
            }()) : y.target.sendPing()) : console.log("unexpected code from server", u)
        })
    }
    var Ty, Qy, Cy = 0;
    function iy() {
        B && (! function () {
            for (var m in B) U[m] && (U[m].cancelled = !0, U[m].close()), delete U[m];
            p = [], document.getElementById("server").innerHTML = "<option>Loading...</option>", $("#server").selectmenu("refresh")
        }(), clearTimeout(Ty));
        var m = new XMLHttpRequest;
        m.onreadystatechange = function () {
            if (4 == m.readyState && 200 == m.status) try {
                var a = m.responseText.split("\n");
                B = JSON.parse(a[0]), xa ? B = {
                    TR: B.TR
                } : delete B.TR;
                var y = !1;
                for (var u in B) B[u] && (Oy(u), y = !0);
                if (y || (Ty = setTimeout(iy, 3e3), xa ? Ou((new Date).toLocaleTimeString() + " - Please wait, tournament is opening... ") : Ou((new Date).toLocaleTimeString() + " - Downloaded server list was empty", "error")), a.length > 1)
                    for (var o = 1; o < a.length; o++) {
                        var h = a[o];
                        if (h.startsWith("event=")) {
                            h = h.slice(6);
                            var q = JSON.parse(h),
                                d = new Date(q.ts ? parseInt(q.ts) : q.date).getTime(),
                                G = (new Date).getTime(),
                                Y = d - G,
                                H = q.duration || 1,
                                L = document.getElementById("event-placeholder");
                            if (L) {
                                if (Y >= -864e5) {
                                    var P = document.createElement("div");
                                    P.className = "event", P.innerHTML = "<span>" + ey(q.title) + '</span> - <span class="date">' + q.date + "</span> - <a onclick=\"document.getElementById('event-popup').style.display='block';\">click for details</a>", L.parentNode.replaceChild(P, L), document.getElementById("event-title").innerHTML = ey(q.title) + '<span class="date">' + q.date + "</span>", document.getElementById("event-content").innerHTML = ey(q.details)
                                }
                                if (Y >= -36e5 * H) {
                                    var M = function () {
                                        var m = (new Date).getTime(),
                                            a = d - m,
                                            y = Math.floor(a / 864e5),
                                            u = Math.floor(a % 864e5 / 36e5),
                                            o = Math.floor(a % 36e5 / 6e4),
                                            h = Math.floor(a % 6e4 / 1e3);
                                        document.getElementById("tourney-countdown").innerHTML = '<button class="button back disabled" onclick="defly.joinTourney()">Tourney starts in ' + (y > 0 ? y + "d " : "") + (y > 0 || u > 0 ? u + "h " : "") + (y > 0 || u > 0 || o > 0 ? o + "m " : "") + h + "s </button><a onclick=\"document.getElementById('event-popup').style.display='block'\"> ?</a>", a < -36e5 * H ? document.getElementById("tourney-countdown").style.display = "none" : a < 0 && (clearInterval(v), document.getElementById("tourney-countdown").innerHTML = '<button class="orange button animated pulse" onclick="defly.joinTourney()">Join the tournament</button>')
                                    };
                                    v = setInterval(M, 1e3), M()
                                }
                            }
                        }
                    }
            } catch (a) {
                console.error(a), ++Cy < 100 && (Ty = setTimeout(iy, 3e3)), Ou((new Date).toLocaleTimeString() + " - Downloaded server list was invalid: " + m.responseText, "error")
            } else 4 == m.readyState && 200 != m.status && m.onerror(m.status)
        }, m.onerror = function (m) {
            Ou((new Date).toLocaleTimeString() + " - Error downloading server list", "error"), ++Cy < 100 && (Ty = setTimeout(iy, 3e3))
        }, m.open("GET", t + "/servers?m=" + Lm, !0), m.send(null)
    }
    function by() {
        if (clearTimeout(Qy), document.getElementById("play-button").style.display = "none", document.getElementById("play-spinner").style.display = "block", h) {
            var y = document.getElementById("server").value ? document.getElementById("server").value : h,
                o = document.getElementById("username").value.substring(0, 12),
                B = new XMLHttpRequest;
            B.onreadystatechange = function () {
                if (4 == B.readyState && 200 == B.status)
                    if (-1 != B.responseText.indexOf("LOGIN_ERROR")) Wy("The session has expired, please reload the page and try again", "", () => {
                        document.location.reload()
                    });
                    else if (-1 != B.responseText.indexOf("ERROR")) m ? (alert("Can't connect to the specified server, it's probably not open right now"), history.replaceState("", document.title, window.location.pathname + window.location.search), $q(), document.getElementById("play-button").style.display = "block", document.getElementById("play-spinner").style.display = "none", N = !1) : (Qy = setTimeout(by, 3e3), Ou((new Date).toLocaleTimeString() + " - Error selecting server: " + B.responseText, "error"));
                else if (-1 != B.responseText.indexOf("RESERVED_NICKNAME")) document.getElementById("play-button").style.display = "block", document.getElementById("play-spinner").style.display = "none", N = !1, Wy("This nickname is reserved by a premium account, please choose another one", "", function () {
                    document.getElementById("username").value = ""
                });
                else {
                    var y = B.responseText.split(" ");
                    if (j = y[0], u = y[1], y.length >= 3 && (Lm = parseInt(y[2])), "undefined" != typeof Storage) try {
                        localStorage.setItem("sessionId", u)
                    } catch (m) {
                        console.log(m)
                    }
                    console.log("Server", j, "reservationKey", a), gy()
                } else 4 == B.readyState && 200 != B.status && B.onerror(B.status)
            }, B.onerror = function (m) {
                Ou((new Date).toLocaleTimeString() + " - Error selecting server", "error"), Qy = setTimeout(by, 3e3)
            }, B.open("POST", t + "?r=" + (y || "") + "&m=" + Lm + "&u=" + encodeURIComponent(o) + "&fu=" + encodeURIComponent(sy(o)) + "&s=" + (u || "") + (Om ? "&a=1" : "") + (!Om && Tm ? "&a=2" : "") + (m ? "&p=" + encodeURIComponent(m) : ""), !0), Om ? B.send(SB) : Tm ? B.send(lB) : B.send(null)
        } else Qy = setTimeout(by, 3e3)
    }
    function gy() {
        H ? console.error("Already connected to server") : (document.getElementById("play-button").style.display = "none", document.getElementById("play-spinner").style.display = "block", uy = {}, nm = {}, (H = new WebSocket(ky(j))).binaryType = "arraybuffer", H.addEventListener("open", function (m) {
            console.log("socket connected"),
                function () {
                    0 == (_username = document.getElementById("username").value.substring(0, 12)).length && (_username = "Player");
                    if ("undefined" != typeof Storage) try {
                        localStorage.setItem("username", _username)
                    } catch (m) {
                        console.log(m)
                    }
                    var _token = u || "";
                    also_token = _token;
                    var a = new DataView(new ArrayBuffer(2 + 2 * _username.length + 1 + 2 * _token.length + 4 + 4));
                    a.setUint8(0, 1), Fy(a, 1, _username), Fy(a, 2 + 2 * _username.length, _token), a.setInt32(2 + 2 * _username.length + 1 + 2 * _token.length, playerSkin), a.setInt32(2 + 2 * _username.length + 1 + 2 * _token.length + 4, Ym), H.send(a.buffer)
                }()
        }), H.addEventListener("error", function (m) {
            console.error(m), Ou((new Date).toLocaleTimeString() + " - Websocket error " + m.type + " " + m.code, "error"), m.type
        }), H.addEventListener("close", function (m) {
            if (console.log("socket closed", m), !f)
                if ("no-session" === m.reason) Wy("Your session was not found, try again", "", () => {
                    document.location.reload()
                });
                else if ("duplicate-session" === m.reason) Wy("You have been kicked out because someone else just connected with the same account", "", () => {
                document.location.reload()
            });
            else if (0 == F) Qm ? Wy("You have been kicked out for inactivity.", "", function () {
                document.location.reload()
            }) : Wy("Connection to the server failed. Please try again in a few minutes and contact us if the problem persists.", "", function () {
                m.code, document.location.reload()
            });
            else {
                if (m.code, PlayerList[localPlayerInde] && !_) {
                    var a = new DataView(new ArrayBuffer(10));
                    a.setUint8(0, 10), a.setInt32(1, localPlayerInde), a.setUint8(5, 0), a.setInt32(6, 0), To(a)
                }
                Wy(Qm ? "You have been kicked out for inactivity." : "The connection to the server has been lost.", "", function () {
                    document.getElementById("internet-issue").style.display = "none", document.getElementById("respawn-buttons").style.display = "none", document.getElementById("respawn-buttons-gm2").style.display = "none", MainLoop.stop(), 4 == Lm && document.location.reload()
                })
            }
            H = null, f = !1, 0, qm = []
        }), H.addEventListener("message", onWSMsg))
    }
    function ry() {
        document.getElementById("tuto-checkbox").checked = !km, document.getElementById("homepage").classList.add("blurred"), document.getElementById("tuto-popup").style.display = "table-row", document.getElementById("tuto-video").currentTime = 0, document.getElementById("tuto-video").play()
    }
    var Ry, Dy = !1;
    function $y() {
        N = !0, window.DEFLY_SERVER_URL ? (j = window.DEFLY_SERVER_URL, gy()) : by()
    }
    function Zy() {
        if (!N) {
            if (Sy && !zy) {
                document.body.requestFullscreen ? document.body.requestFullscreen() : document.body.mozRequestFullScreen ? document.body.mozRequestFullScreen() : document.body.webkitRequestFullscreen ? document.body.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT) : document.body.msRequestFullscreen && document.body.msRequestFullscreen();
                try {
                    screen.orientation.lock("landscape")
                } catch (m) {}
            }
            Ry = $y, (2 == Lm || 2 == Ym || Ym > 2 && (Ym - 2) % 2 == 0) && Jy() ? "undefined" != typeof gtag && gtag("event", "StartGame", {
                event_category: "Click",
                event_label: "VideoAd",
                playerSkin: playerSkin,
                playerSkinColor: wm
            }) : ($y(), "undefined" != typeof gtag && gtag("event", "StartGame", {
                event_category: "Click",
                event_label: "NoVideoAd",
                playerSkin: playerSkin,
                playerSkinColor: wm
            }))
        }
    }
    function Xy() {
        for (var m = 0; m <= 4; m++) document.getElementById("gamemode-" + m) && (Lm == m ? document.getElementById("gamemode-" + m).classList.add("selected") : document.getElementById("gamemode-" + m).classList.remove("selected"))
    }
    var cy = !1;
    function Jy() {
        if (gB || Ka) return !1;
        try {
            if (cy = !0, window.famobi) window.famobi.showAd(vy), "undefined" != typeof gtag && gtag("event", "ShowFamobiVideo", {
                event_category: "Ads"
            });
            else {
                if ("undefined" == typeof aiptag || !aiptag.cmd.player.push || 0 != aiptag.cmd.player.length) return cy = !1, "undefined" != typeof gtag && gtag("event", "BlockedAdInPlayVideo", {
                    event_category: "Ads"
                }), !1;
                aiptag.cmd.player.push(function () {
                    adplayer.startPreRoll()
                }), "undefined" != typeof gtag && gtag("event", "ShowAdInPlayVideo", {
                    event_category: "Ads"
                }), document.getElementById("defly-io_300x250").style.display = "none"
            }
            return !0
        } catch (m) {
            return console.error(m), cy = !1, !1
        }
    }
    function vy() {
        cy && (cy = !1, Zm = Date.now(), Ry(), document.getElementById("defly-io_300x250").style.display = "block")
    }
    function ty() {
        MainLoop.stop(), H && 1 == H.readyState && (f = !0, H.close()), document.getElementById("fps").style.display = "none", P.view.style.display = "none", F = 0, "undefined" != typeof gtag && gtag("event", "BackToHomepage", {
            event_category: "Click"
        }), history.replaceState("", document.title, window.location.pathname + window.location.search), window.location.reload()
    }
    var jy = 0;
    function onWSMsg(m) {
        var a = new DataView(m.data),
            packet_id = a.getUint8(0);
        switch (packet_id) {
        case 1:
            console.error("received map unavailable"), jy++, 0 != Lm && 1 != Lm && 3 != Lm || 1 != F ? 1 == Lm && -1 != io ? setTimeout(function () {
                bo(io)
            }, 250) : (f = !0, H.close(), Qy = setTimeout(by, 250)) : setTimeout(qh, 250), jy >= 20 && (document.getElementById("spawn-warning").style.display = "block");
            break;
        case 2:
            ! function (data) {
                try {
                    var a = document.getElementById("cp-iframe");
                    a.parentNode.replaceChild(a.cloneNode(), a)
                } catch (m) {}
                nq(), x.removeChildren(), e.removeChildren(), S.removeChildren(), s.removeChildren(), A.removeChildren(), K.removeChildren(), V.removeChildren(), listofBullets.removeChildren(), z.removeChildren(), C.removeChildren(), jy = 0, PlayerList = {}, GameObjects = {}, DotsIng = {}, releatedToBullets = {}, ia = {}, _ = null, ka = 0, W = 0, w = 0, Km = [0, 0, 0, 0, 0, 0, 0], Am = [0, 0, 0, 0, 0, 0, 0], xm = 0, I = {
                    shooting: !1,
                    moving: !1,
                    aimDirection: 0,
                    moveDirection: 0
                }, dm = [], um = [], ru = [], Uh = null, Sm = -1, zm = !1, Em = 0, yisM = 0, probablyDelta = 0, KB = 60, localPlayerInde = data.getInt32(1), yisM = data.getInt32(5), Um = data.getFloat32(9), pm = data.getFloat32(13), vm = data.getFloat32(17), vm *= Ja, MaxIndexVal = data.getFloat32(21), jm = data.getFloat32(25), na = data.getFloat32(29), Wa = data.getFloat32(33), 84 * Wa / 128, Ea = data.getFloat32(37), Ia = data.getFloat32(41), _a = data.getFloat32(45), data.getFloat32(49), Nm = data.getFloat32(53), fm = data.getFloat32(57), Fm = data.getFloat32(61);
                var y = data.getFloat32(65),
                    u = data.getFloat32(69);
                data.byteLength >= 76 && (Ra = data.getInt32(73), Da[localPlayerInde] = Ra);
                data.byteLength >= 80 && (Xa = data.getInt32(77));
                data.byteLength >= 82 && (Bm = data.getUint8(81), (0 == Lm || 3 == Lm || 4 == Lm) && Bm >= 1 && (uy[1] = 5066061));
                if (data.byteLength >= 83) {
                    var o = data.getUint8(82);
                    sa = (1 & o) > 0, Sa = (2 & o) > 0, Ta = 2 != Lm && (4 & o) > 0
                }
                if (data.byteLength >= 83 + ActionsQueue.length)
                    for (var h = 0; h < ActionsQueue.length; h++) ActionsQueue[h] = data.getUint8(83 + h);
                var B = !1;
                if (data.byteLength >= 83 + ActionsQueue.length + 1) {
                    for (var d = 83 + ActionsQueue.length, G = data.getUint8(d), Y = "<tr>", M = "<tr>", h = 0; h < G; h++) {
                        var n = data.getUint8(d + 1 + h);
                        Y += "<td>" + my[n] + "</td>", M += '<td><div class="icon" onclick="defly.selectSuperpower(' + n + ');"><img src="img/sp' + n + '.png"></div></td>'
                    }
                    if (Y += "</tr>", M += "</tr>", document.getElementById("choose-superpower").getElementsByTagName("table")[0].innerHTML = Y + M, B = !0, d += 1 + G, data.byteLength >= d + 1)
                        for (var O = data.getUint8(d), h = 0; h < O; h++) ay[h] = data.getFloat32(d + 1 + 8 * h + 0), yy[h] = data.getFloat32(d + 1 + 8 * h + 4)
                }
                Pu(), 0 == Lm || 1 == Lm ? (X = new ph(Um, pm, 2), c = new ph(Um, pm, 2)) : 3 == Lm && (X = new ph(Um, pm, 2), c = new ph(Um, pm, 2), J = new ph(Um, pm, 2));
                4 != Lm && (arrayofOk[localPlayerInde] = _username);
                nm[localPlayerInde] = playerSkin, qu(localPlayerInde);
                var T = uy[localPlayerInde],
                    Q = {};
                for (var i in uy) i != localPlayerInde && uy[i] == T && (Q[i] = !0);
                for (var i in Q) delete uy[i];
                PlayerList[localPlayerInde].x = y, PlayerList[localPlayerInde].y = u, (Xm = new PIXI.Sprite(E["wall-line"])).anchor.set(.5), Xm.height = Wa, Xm.alpha = .2, Xm.tint = oy(localPlayerInde), Xm.visible = !1, A.addChild(Xm), (cm = new PIXI.Sprite(E.dot1)).anchor.set(.5), cm.width = 2 * MaxIndexVal, cm.height = 2 * MaxIndexVal, cm.alpha = .2, cm.tint = oy(localPlayerInde), cm.visible = !1, K.addChild(cm), F = 1, ch(), um = [], MainLoop.start(), P.view.style.display = "block", (b = document.getElementById("defly-io_300x250")) && !gB && (b.parentElement.removeChild(b), document.getElementById("respawn-promo" + (2 == Lm ? "-gm2" : 4 == Lm ? "-gm4" : "")).appendChild(b));
                if (2 == Lm && !gB) {
                    var b = document.getElementById("defly-io_728x90");
                    b && (b.parentElement.removeChild(b), document.getElementById("curse-promo-gm2").appendChild(b))
                }
                if (1 == Lm) {
                    for (var g = "", h = 0; h < Za; h++) {
                        var r = ja[h + (Bm >= 1 ? 1 : 0)];
                        16252714 == r && (r = 13817893);
                        var R = xy(r, .2);
                        g += '<div class="bar" ' + (Ra == h + 1 + (Bm >= 1 ? 1 : 0) ? 'id="map-control-bar-value"' : 'id="map-control-bar-team-' + ((Bm >= 1 ? 2 : 0) + h) + '"') + ' style="background: linear-gradient(to bottom, ' + TB(r) + ", " + TB(R) + ');"></div>'
                    }
                    document.getElementById("score-bars").innerHTML = g
                }
                document.getElementById("play-button").style.display = "block", document.getElementById("play-spinner").style.display = "none", document.getElementById("respawn-button").style.display = "inline-block", document.getElementById("respawn-spinner").style.display = "none", document.getElementById("spawn-warning").style.display = "none", document.getElementById("homepage").style.display = "none", document.getElementById("respawn").style.display = "none", document.getElementById("upgrade-block").style.display = "none", document.getElementById("choose-team-popup") && (document.getElementById("choose-team-popup").style.display = "none");
                2 != Lm && (document.getElementById("xp-block").style.display = "block");
                if (4 == Lm) {
                    var D = document.getElementById("xp-block");
                    D.getElementsByClassName("score-bar")[0].style.display = "none", document.getElementById("xp-bar").style.display = "none"
                }
                if (document.getElementById("level-value").innerHTML = 0, document.getElementById("xp-value").style.width = "0%", document.getElementById("upgrade-points").innerHTML = "0", document.getElementById("superpower-fuel").style.display = "none", document.getElementById("choose-superpower").style.display = "none", document.getElementById("lb-player-points").innerHTML = 0, document.getElementById("lb-player-name").innerHTML = ey(_username), document.getElementById("fps").style.display = "block", document.getElementById("hide-xp-block").style.display = "none", Um > pm) {
                    var $ = Math.ceil(96 / Um * pm);
                    k.width = 96, k.height = $
                } else if (pm > Um) {
                    var Z = Math.ceil(96 / pm * Um);
                    document.getElementById("minimap").style.width = Z + "px", k.width = Z, k.height = 96
                } else k.width = 96, k.height = 96;
                if (document.getElementById("minimap").style.width = k.width + "px", document.getElementById("minimap").style.height = k.height + "px", 2 == Lm) {
                    var t = document.getElementById("minimap-target-positions");
                    t || ((t = document.createElement("div")).setAttribute("id", "minimap-target-positions"), document.getElementById("minimap").insertBefore(t, document.getElementById("minimap-team-positions"))), t.innerHTML = ""
                }
                1 == Xa ? document.getElementById("minimap").style.clipPath = "polygon(0 50%, 25% 0, 75% 0, 100% 50%, 75% 100%, 25% 100%)" : 2 == Xa && (document.getElementById("minimap").style.borderRadius = "50%");
                Eo(), 4 != Lm && (document.getElementById("minimap").style.display = "block");
                Sy && (document.getElementById("minimap").style.right = "unset", document.getElementById("minimap").style.left = "4px", document.getElementById("minimap").style.transformOrigin = "bottom left", 1 != Lm && 2 != Lm || !document.getElementById("chat-button") || (document.getElementById("chat-button").style.display = "inline-block"));
                document.getElementById("score").style.display = "block";
                for (var h = 0; h < 7; h++) document.getElementById("skill-plus-" + h).style.display = "block";
                document.getElementById("map-vote") && (document.getElementById("map-vote").style.display = "none");
                (function () {
                    q = (new Date).getTime();
                    var m = new Uint8Array(1);
                    m.set([99], 0), H.send(m)
                })(), 1 != Lm && 2 != Lm || Sy || (bu("Welcome to Team " + fa[Ra - 1] + "." + (qy.TEAMMATES.length > 0 && qy.TEAMMATES[0] && Object.keys(qy.TEAMMATES[0]).length > 0 ? " Press [" + xq(qy.TEAMMATES[0]) + "] to show your teammates positions" : ""), oa ? "info-dark" : "info"), ha || bu(Om || Tm ? "Press ENTER to chat with your teammates" : "Chat is disabled for anonymous players. Sign-in with an account to use the chat.", oa ? "info-dark" : "info"));
                if (2 == Lm) document.getElementById("buy-screen").style.display = "block";
                else if (!B && 3 == Lm) {
                    var U = document.getElementById("choose-superpower"),
                        p = U.getElementsByTagName("td");
                    p[3].innerHTML = "Grenade", p[9].innerHTML = '<div class="icon" onclick="defly.selectSuperpower(6);"><img src="img/sp6.png"></div>'
                }
                eu(), su = (new Date).getTime(), Gh && (PlayerList[localPlayerInde].visible = Xm.visible = cm.visible = !1, _ = PlayerList[localPlayerInde].position, clearTimeout(Qo));
                xa || (window.location.hash = "#" + Lm + "-" + j.replace(".defly.io", ""));
                Gh || !Ka || 0 != Lm && 3 != Lm || (Yh(1, window.prompt("?", "")), Yh(5), Yu = setInterval(function () {
                    Yh(5)
                }, 6e4));
                v && (clearInterval(v), v = null);
                if (4 == Lm)
                    if (0 != Va) {
                        document.getElementById("spectate-1v1-ui").style.display = "none", document.getElementById("gm-1v1-lobby").style.display = "none", document.getElementById("chat-block").classList.remove("typing"), document.getElementById("chat-block").classList.remove("gm-1v1-lobby"), document.getElementById("chat-input").blur(), I.moving = !1, kh[0] = !1, kh[1] = !1, kh[2] = !1, kh[3] = !1;
                        var f = document.createElement("div");
                        f.setAttribute("id", "countdown-1v1"), f.innerText = "5", document.body.appendChild(f);
                        let m = Date.now(),
                            a = setInterval(function () {
                                let y = Date.now() - m;
                                y >= 5e3 ? (clearInterval(a), f.innerText = "GO!", anime({
                                    targets: f,
                                    easing: "linear",
                                    duration: 1e3,
                                    opacity: 0,
                                    complete: function () {
                                        document.body.removeChild(f)
                                    }
                                })) : f.innerText = Math.ceil((5e3 - y) / 1e3)
                            }, 100)
                    } else _ = PlayerList[localPlayerInde].position, PlayerList[localPlayerInde].visible = !1
            }(a);
            break;
        case 3:
            py((new Date).getTime() - qm.shift());
            break;
        case 4:
            ! function (m) {
                su = (new Date).getTime();
                var a = m.getInt32(1);
                if (yisM - (probablyDelta = a) >= 4) {
                    var y = Math.max(1, Math.ceil((yisM - probablyDelta) / 10));
                    0, yisM -= Math.max(1, Math.ceil((yisM - probablyDelta) / 10)), $o(-y)
                }
                if (probablyDelta - yisM >= 4) {
                    var y = Math.max(1, Math.ceil((probablyDelta - yisM) / 10));
                    0, yisM += y, $o(y)
                }
                if (probablyDelta > yisM) return void um.push({
                    turn: probablyDelta,
                    dv: m
                });
                if (Au(m), yisM - probablyDelta > 0)
                    for (var u = 0; u < Math.min(60, yisM - probablyDelta); u++) 2 == Lm && 1 == ka || 4 == Lm && yisM < 300 || (oB(!0, !1), PlayerList[localPlayerInde] && Nh(PlayerList[localPlayerInde], !0))
            }(a);
            break;
        case 5:
            ! function (m) {
                var a = m.getUint8(1);
                if (3 == a) return;
                if (2 == a && ++Iu > 10) return;
                var y = document.getElementById("user-error");
                y || ((y = document.createElement("div")).setAttribute("class", "user-error"), y.setAttribute("id", "user-error"), window.document.body.appendChild(y));
                y.innerHTML = Eu[a - 1], y.style.opacity = 1, clearTimeout(Vu), clearInterval(Su), Vu = setTimeout(function () {
                    var m = (new Date).getTime();
                    Su = setInterval(function () {
                        var a = (new Date).getTime() - m;
                        a > 500 ? (clearInterval(Su), window.document.body.removeChild(y)) : y.style.opacity = 1 - a / 500
                    }, 20)
                }, 1e3)
            }(a);
            break;
        case 6:
            oo(a);
            break;
        case 49:
            ! function (m) {
                for (var a = MaxIndexVal, y = m.getInt16(1), u = 3, o = 0; o < y; o++) {
                    var h = m.getInt32(u),
                        B = m.getInt32(u + 4),
                        q = m.getFloat32(u + 8),
                        d = m.getFloat32(u + 12),
                        G = m.getUint8(u + 16),
                        Y = m.getUint8(u + 17),
                        H = m.getFloat32(u + 18),
                        L = m.getInt32(u + 22);
                    if (u += 26, GameObjects[h]) 0;
                    else {
                        var P = Bo(B, G, Y),
                            M = new PIXI.Sprite(E[P]);
                        M.x = q, M.y = d, M.width = 2 * a, M.height = 2 * a, M.size = a, M.anchor.set(.5), M.owner = B, M.hp = G, M.maxHP = Y, M.creationTurn = L, M.alpha = 1, M.tint = 1 == Lm || 2 == Lm ? hy(B) : oy(B), La && 1 == B && q >= Pa.x1 && q <= Pa.x2 && d >= Pa.y1 && d <= Pa.y2 && E["tower-kh"] && (M.texture = E["tower-kh"], M.tint = 15642415), M.lines = [], M.dotId = h, K.addChild(M), GameObjects[h] = M, M.hp != M.maxHP && 3 != Lm && (M.healthBar = So(M), V.addChild(M.healthBar), M.healthBar.outer.width = M.healthBar.width * M.hp / M.maxHP), H > 0 && ho(M, H), 0 != Lm && 3 != Lm || B != localPlayerInde || (HB = !0), X && (X.add(M, M.position), 3 == Lm && xo(M))
                    }
                }
            }(a);
            break;
        case 7:
            qo(a);
            break;
        case 50:
            ! function (m) {
                for (var a = m.getInt16(1), y = 3, u = 0; u < a; u++) {
                    var LineID = m.getInt32(y),
                        h = m.getInt32(y + 4),
                        SomeDotOneIndex = m.getInt32(y + 8),
                        SomeDotTwoIndex = m.getInt32(y + 12),
                        d = m.getInt32(y + 16),
                        G = m.getInt32(y + 20);
                    y += 24;
                    var SomeDotOne = GameObjects[SomeDotOneIndex],
                        SomeDotTwo = GameObjects[SomeDotTwoIndex];
                    if (SomeDotOne || console.error("could not find dot", SomeDotOneIndex), SomeDotTwo || console.error("could not find dot", SomeDotTwoIndex), DotsIng[LineID]) 0;
                    else {
                        var L = GetSpriteAndDataForDot(SomeDotOne, SomeDotTwo);
                        L.lineId = LineID, L.owner = h, L.tint = 1 == Lm || 2 == Lm ? hy(h) : oy(h), La && 15642415 == SomeDotOne.tint && (L.tint = 15642415), L.dot1 = SomeDotOne, L.dot2 = SomeDotTwo, L.leftZoneId = d, L.rightZoneId = G, A.addChild(L), DotsIng[LineID] = L, c && c.addLine(L, SomeDotOne.position, SomeDotTwo.position), a < 20 ? (L.alpha = 0, anime({
                            targets: L,
                            alpha: 3 == Lm && SomeDotOne.isCaptured ? .6 : 1,
                            duration: 250,
                            easing: "linear"
                        })) : 3 == Lm && SomeDotOne.isCaptured && (L.alpha = .6)
                    }
                }
            }(a)
            break;
        case 8:
            Ho(a, !0);
            bre;ak;
        case 20:
            Ho(a, !1);
            break;
        case 51:
            ! function (m) {
                for (var a = m.getInt16(1), y = 3, u = 0; u < a; u++) y = Lo(m, y, !1, !1);
                var o = m.getInt16(y);
                y += 2;
                for (var u = 0; u < o; u++) y = Lo(m, y, !1, !0);
                var h = m.getInt16(y);
                y += 2;
                for (var u = 0; u < h; u++) {
                    var B = 0 == m.getUint8(y);
                    y = Lo(m, ++y, !0, B)
                }
            }(a);
            break;
        case 9:
            _o(a);
            break;
        case 10:
            To(a);
            break;
        case 52:
            ! function (m) {
                ko(m.getInt32(1))
            }(a);
            break;
        case 11:
            ! function (m) {
                var a = m.getInt16(1),
                    y = m.getInt16(3),
                    u = m.getInt32(5),
                    o = m.getFloat32(9);
                o < 0 && (o = 0);
                for (var h = m.getUint8(21), B = [], q = 22, d = "", G = 0; G < h; G++) {
                    B[G] = {
                        id: m.getInt32(q),
                        points: m.getInt32(q + 4)
                    }, q += 8;
                    var Y = y == G;
                    if (!Sy || G < 5) {
                        var H = 1 == Lm || 2 == Lm ? hy(Da[B[G].id]) : oy(B[G].id);
                        d += '<div class="lb-item' + (Y ? " is-self" : "") + '"><span class="color" style="background-color: ' + TB(H) + '"></span><span class="rank">' + (G + 1) + '.</span><span class="player-name' + (G + 1 >= 10 ? " l" : "") + '">' + ey(arrayofOk[B[G].id]) + '</span><span class="points">' + B[G].points + "</span></div>"
                    }
                }
                if (document.getElementById("lb-top").innerHTML = d, document.getElementById("player-count").innerHTML = a, document.getElementById("lb-player-rank").innerHTML = y + 1, document.getElementById("lb-player-points").innerHTML = u, document.getElementById("lb-player-line").style.display = y < (Sy ? 5 : B.length) ? "none" : "block", !Gh) {
                    var L = 100 * o / Lu;
                    1 != Lm && (document.getElementById("map-control-value").innerHTML = Ro(L > 99.9 ? 100 : L), document.getElementById("map-control-bar-value").style.width = L + "%"), 2 != Lm && 3 != Lm && Do < 80 && L >= 80 && !yo && _u("You reached 80%, now kill everyone to win!", 2e4), Do = L
                }
                4 != Lm && (document.getElementById("leaderboard-block").style.display = _ && !Gh ? "none" : "block")
            }(a);
            break;
        case 12:
            ! function (m) {
                var a = m.getInt32(1);
                if (0 == a) Uh = null, Xm.visible = !1;
                else {
                    var y = GameObjects[a];
                    Uh = y
                }
            }(a);
            break;
        case 13:
            ! function (m) {
                var a = m.getInt32(1),
                    y = m.getInt32(5),
                    u = m.getInt32(9),
                    o = m.getInt32(13),
                    h = m.getFloat32(17),
                    B = m.getFloat32(21),
                    q = m.getFloat32(25),
                    d = m.getFloat32(29),
                    G = m.getInt32(33);
                if (releatedToBullets[y]) var Y = releatedToBullets[y];
                else {
                    if (!Ma || 1 != Lm && 2 != Lm || u == Ra)
                        if (Ma && 0 == Lm && u != localPlayerInde) var H = "shoot-enemy";
                        else var H = "shoot";
                    else var H = "shoot-enemy";
                    var Y = new PIXI.Sprite(E[H]);
                    Y.width = 2 * jm * (da ? 1.1 : 1), Y.height = 2 * jm * (da ? 1.1 : 1), Y.anchor.set(.5), Y.owner = u, Y.creator = o, Y.tint = xy(1 == Lm || 2 == Lm ? hy(u) : oy(u), "shoot-enemy" == H ? 0 : -.2), listofBullets.addChild(Y), Y.shootId = y, releatedToBullets[y] = Y
                }
                Y.x = h, Y.y = B, Y.sx = q, Y.sy = d, (Ya || Ha) && (Y.rotation = Math.atan2(d, q));
                Y.initialTurn = a, Y.initialX = h, Y.initialY = B, Y.lifetime = G;
                var L = yisM - a;
                Zo(Y, L), 0
            }(a);
            break;
        case 14:
            ! function (m) {
                var a = m.getInt32(1);
                if (releatedToBullets[a]) {
                    var y = releatedToBullets[a];
                    delete releatedToBullets[a], listofBullets.removeChild(y)
                }
            }(a);
            break;
        case 15:
            Xo(a);
            break;
        case 32:
            Xo(a, !0);
            break;
        case 16:
            co(a, !0, !1);
            break;
        case 17:
            co(a, !0, !0);
            break;
        case 18:
            co(a, !1, !1);
            break;
        case 19:
            co(a, !1, !0);
            break;
        case 21:
            ! function (m) {
                var a = W;
                W = m.getUint8(1);
                w = m.getFloat32(2), xm = m.getUint8(6);
                for (var y = 0, u = 0; u < Km.length; u++) Km[u] = m.getUint8(7 + u), y += Km[u], document.getElementById("skill-bar-" + u).innerHTML = Jo('<span class="full"></span>', Km[u]) + Jo("<span></span>", ActionsQueue[u] - Km[u]), document.getElementById("skill-plus-" + u).style.display = 0 == xm || Km[u] >= ActionsQueue[u] ? "none" : "block";
                (function () {
                    for (let m = 0; m < Km.length; m++) Km[m] != Am[m] && em.push(m), Am[m] = Km[m]
                })(), xm > 0 ? (document.getElementById("upgrade-points").innerHTML = xm, document.getElementById("upgrade-block").style.display = "block", anime({
                    targets: "#upgrade-block",
                    easing: "easeInQuad",
                    left: "16px",
                    duration: 250,
                    complete: function () {
                        xm <= 0 && (document.getElementById("upgrade-block").style.left = "-264px", document.getElementById("upgrade-block").style.display = "none")
                    }
                })) : document.getElementById("upgrade-points").innerHTML = xm;
                xm > 0 && 0 == y && function () {
                    if (em.length > 0) {
                        document.getElementById("upgrade-block").classList.add("ask-redo");
                        for (var m = [], a = 0; a < Km.length; a++) document.getElementById("skill-plus-" + a).style.display = "none", m[a] = 0;
                        for (var y = 0, a = 0; a < em.length && !(m[em[a]] < ActionsQueue[em[a]] && (m[em[a]]++, ++y >= xm)); a++);
                        for (var a = 0; a < Km.length; a++) document.getElementById("skill-bar-" + a).innerHTML = Jo('<span class="full"></span>', m[a]) + Jo("<span></span>", ActionsQueue[a] - m[a])
                    }
                }();
                var o = a == W ? w : 1,
                    h = !0,
                    B = 1e3 / (W - a + 1),
                    q = function () {
                        !h && a < W && (document.getElementById("xp-value").style.width = "0%", a++, document.getElementById("level-value").innerHTML = a, o = a == W ? w : 1), h = !1;
                        var m = {
                            targets: "#xp-value",
                            width: [document.getElementById("xp-value").style.width, 100 * o + "%"],
                            easing: "linear",
                            duration: B
                        };
                        a < W && (m.complete = q), anime(m)
                    };
                q();
                W > a && W >= 32 ? (document.getElementById("hide-xp-block").style.display = "block", Uo = (new Date).getTime()) : a >= 32 && (new Date).getTime() - Uo > 6e4 && (document.getElementById("xp-bar").style.display = "none");
                PB = y > 0
            }(a);
            break;
        case 22:
            ! function (m) {
                var a = m.getInt32(1),
                    y = m.getInt32(5);
                0;
                if (releatedToBullets[y]) {
                    var u = releatedToBullets[y];
                    delete releatedToBullets[y], listofBullets.removeChild(u)
                }
                if (GameObjects[a]) {
                    var o = GameObjects[a];
                    o.healthBar || 3 == Lm || (o.healthBar = So(o), V.addChild(o.healthBar)), o.hp -= 1, 3 == Lm ? o.texture = E["dot" + o.hp + "-" + o.maxHP] : o.healthBar.outer.width = o.healthBar.width * o.hp / o.maxHP
                }
            }(a);
            break;
        case 30:
            ! function (m) {
                var a = m.getInt32(1);
                0;
                if (GameObjects[a]) {
                    var y = GameObjects[a];
                    if (m.byteLength >= 10) {
                        y.maxHP = m.getUint8(5);
                        var u = m.getFloat32(6);
                        y.shield || ho(y, u), y.shield.appearPercent = u, y.shield.lastAppearTurn = -1e3, y.shield.state = 0, y.shield.alpha = 0
                    }
                    y.hp = y.maxHP, 3 == Lm ? y.texture = E["dot" + y.hp + "-" + y.maxHP] : y.healthBar && (V.removeChild(y.healthBar), delete y.healthBar)
                }
            }(a);
            break;
        case 23:
            document.getElementById("choose-superpower").style.display = "block";
            break;
        case 24:
            ! function (m) {
                lm = m.getFloat32(1);
                var a = zm;
                zm = 1 == m.getUint8(5), po(), !a && zm && 4 != Sm && 6 != Sm && anime({
                    targets: "#superpower-fuel-value",
                    width: ["100%", "0%"],
                    easing: "linear",
                    duration: 1e3 * ay[Sm]
                })
            }(a);
            break;
        case 25:
            var u = a.getInt32(1),
                o = a.getInt32(5);
            uy[o] || oy(o), uy[u] = uy[o], o == localPlayerInde && (ra = u);
            break;
        case 26:
            ! function (m) {
                var a = m.getInt32(1),
                    y = m.getFloat32(5),
                    u = m.getFloat32(9),
                    o = m.getFloat32(13),
                    h = m.getFloat32(17),
                    B = new PIXI.Sprite(E.flashbang);
                B.anchor.set(.5), B.position.set(y, u), B.width = .75 * vm, B.height = .75 * vm, listofBullets.addChild(B);
                var q = 0;
                a == localPlayerInde ? q = .5 : 1 == Lm && Da[a] == Ra ? q = .5 : _ && (q = .5);
                anime({
                    targets: B,
                    duration: 10,
                    x: o,
                    y: h,
                    rotation: 2 * Math.PI,
                    easing: "easeOutCubic",
                    complete: function (m) {
                        return function () {
                            listofBullets.removeChild(m), anime({
                                targets: M,
                                alpha: [q, 1],
                                easing: "easeInQuint",
                                duration: 1 
                            })
                        }
                    }(B)
                })
            }(a);
            break;
        case 43:
            ! function (m) {
                m.getInt32(1);
                var a = m.getFloat32(5),
                    y = m.getFloat32(9),
                    u = m.getFloat32(13),
                    o = m.getFloat32(17),
                    h = new PIXI.Sprite(E.emp);
                h.anchor.set(.5), h.position.set(a, y), h.width = .75 * vm, h.height = .75 * vm, listofBullets.addChild(h), anime({
                    targets: h,
                    duration: 1500,
                    x: u,
                    y: o,
                    rotation: 2 * Math.PI,
                    easing: "easeOutCubic",
                    complete: function (m) {
                        return function () {
                            setTimeout(function () {
                                listofBullets.removeChild(m), no(m.x, m.y, 6)
                            }, 10)
                        }
                    }(h)
                })
            }(a);
            break;
        case 53:
            ! function (m) {
                var a = m.getInt32(1),
                    y = m.getFloat32(5),
                    u = m.getFloat32(9),
                    o = m.getFloat32(13),
                    h = m.getFloat32(17),
                    B = new PIXI.Sprite(E.grenade);
                B.tint = oy(a), B.anchor.set(.5), B.position.set(y, u), B.width = vm, B.height = vm, listofBullets.addChild(B), anime({
                    targets: B,
                    duration: 10,
                    x: o,
                    y: h,
                    rotation: 2 * Math.PI,
                    easing: "easeOutCubic",
                    complete: function (m) {
                        return function () {
                            setTimeout(function () {
                                listofBullets.removeChild(m), no(m.x, m.y, 6)
                            }, 1400)
                        }
                    }(B)
                })
            }(a);
            break;
        case 27:
            ! function (m) {
                var a = m.getInt32(1),
                    y = m.getFloat32(5),
                    u = m.getFloat32(9),
                    o = new PIXI.Sprite(E.portal1);
                o.width = 2 * vm, o.height = 2 * vm, o.anchor.set(.5), PlayerList[a] ? o.position.set(PlayerList[a].position.x, PlayerList[a].position.y) : o.position.set(-1e4, -1e4);
                z.addChildAt(o, 0);
                var h = new PIXI.Sprite(E.portal2);
                h.width = 2 * vm, h.height = 2 * vm, h.anchor.set(.5), h.position.set(y, u), z.addChildAt(h, 1);
                var B = PlayerList[a] ? PlayerList[a].scale.x : 1,
                    q = PlayerList[a] ? PlayerList[a].scale.y : 1;
                anime({
                    targets: PlayerList[a] ? PlayerList[a].scale : {
                        x: 1,
                        y: 1
                    },
                    x: 0,
                    y: 0,
                    easing: "easeInCubic",
                    duration: 500 * ay[5],
                    complete: function (m, o) {
                        return function () {
                            z.removeChild(m), PlayerList[a] ? (PlayerList[a] && PlayerList[a].position.set(y, u), anime({
                                targets: PlayerList[a] ? PlayerList[a].scale : {
                                    x: 0,
                                    y: 0
                                },
                                x: B,
                                y: q,
                                easing: "easeOutCubic",
                                duration: 500 * ay[5],
                                complete: function (m) {
                                    return function () {
                                        z.removeChild(m), PlayerList[a] && PlayerList[a].scale.set(1, 1)
                                    }
                                }(o)
                            })) : z.removeChild(o)
                        }
                    }(o, h)
                })
            }(a);
            break;
        case 28:
            ! function (m) {
                Em = m.getInt32(1), 2 != Lm || _ ? 4 == Lm && 0 != Em && (PlayerList[localPlayerInde] && (PlayerList[localPlayerInde].visible = !1), document.getElementById("gm-1v1-lobby").style.display = "none", document.getElementById("chat-block").classList.remove("typing"), document.getElementById("chat-block").classList.remove("gm-1v1-lobby"), document.getElementById("chat-input").blur(), document.getElementById("spectate-1v1-ui").style.display = "block") : ((_ = PlayerList[localPlayerInde].position) || (_ = {
                    x: Um / 2,
                    y: pm / 2
                }), n = -1e3, PlayerList[localPlayerInde].visible = !1, gm = -1, document.getElementById("buy-screen").style.display = "none", _u("You are spectating until end of round", 1e4), vo = setTimeout(function () {
                    2 == ka && _u((Sy ? "Tap" : "Click") + " anywhere to spectate next teammate", 1e4), vo = null
                }, 1e4));
                Ka && Yu && Gh && 0 == Em && setTimeout(function () {
                    Yh(2)
                }, 3e3)
            }(a);
            break;
        case 29:
            ! function (m) {
                var a = m.getInt32(1),
                    y = getUsername(m, 5),
                    u = m.getInt32(6 + 2 * y.length),
                    o = -1;
                m.byteLength >= 6 + 2 * y.length + 4 + 4 - 1 && (o = m.getInt32(6 + 2 * y.length + 4));
                var h = 0;
                m.byteLength >= 6 + 2 * y.length + 4 + 4 + 1 && (h = m.getUint8(6 + 2 * y.length + 4 + 4), _m[a] = h);
                0;
                arrayofOk[a] = sy(y, " ").substring(0, 12), (a != localPlayerInde || "?skin-editor" !== window.location.search) && (nm[a] = u);
                PlayerList[a] && (PlayerList[a].usernameText.text = arrayofOk[a]); - 1 != o && (Da[a] = o, a == localPlayerInde && (Ra = o));
                2 == Lm && (delete uy[a], a == localPlayerInde && (Xm.tint = oy(localPlayerInde), cm.tint = oy(localPlayerInde)), PlayerList[a] && No(a));
                h > 0 && a == localPlayerInde && a > 0 && PlayerList[localPlayerInde] && No(a)
            }(a);
            break;
        case 31:
            ! function (m) {
                var a = m.getInt32(1);
                if (0 != a) var y = 1 == Lm || 2 == Lm ? hy(a) : oy(a),
                    u = (16711680 & y) >> 16,
                    o = (65280 & y) >> 8,
                    h = 255 & y,
                    B = 255;
                else var u = 0,
                    o = 0,
                    h = 0,
                    B = 0;
                var q = 5,
                    d = [];
                for (; q + 3 <= m.byteLength;) {
                    var G = m.getUint8(q),
                        Y = m.getUint8(q + 1),
                        H = m.getUint8(q + 2);
                    d.push({
                        y: G,
                        x1: Y,
                        x2: H
                    }), q += 3
                }
                0 != a || Gh || Q.data.set(T.data);
                (function (m, a, y, u, o, h) {
                    for (var B = 0; B < m.length; B++)
                        for (var q = m[B].x1; q <= m[B].x2; q++) {
                            var d = 4 * (m[B].y * T.width + q);
                            h && 0 == T.data[d + 0] && 0 == T.data[d + 1] && 0 == T.data[d + 2] && 255 == T.data[d + 3] || (T.data[d + 0] = a, T.data[d + 1] = y, T.data[d + 2] = u, T.data[d + 3] = o)
                        }
                })(d, u, o, h, B, Sa), to && clearTimeout(to);
                to = setTimeout(function () {
                    if (O.putImageData(T, 0, 0), jo && clearInterval(jo), 0 == a && !Gh) {
                        var m = 0;
                        jo = setInterval(function () {
                            m++, O.putImageData(m % 2 == 0 ? T : Q, 0, 0), m >= 10 && clearInterval(jo)
                        }, 250)
                    }
                }, 100)
            }(a);
            break;
        case 34:
            ! function (m) {
                m.getUint8(1);
                var a = m.getFloat32(2),
                    y = m.getFloat32(6),
                    u = m.getFloat32(10),
                    o = (m.getFloat32(14), 100 * a / Lu);
                1 == Lm && document.getElementById("respawn-max-control-label") && (document.getElementById("respawn-max-control-label").innerHTML = "Territory  built by you: ");
                2 != Lm && (document.getElementById("respawn-max-control").innerHTML = Ro(o), document.getElementById("respawn-max-score").innerHTML = Math.floor(y));
                document.getElementById("respawn-earned-coins" + (2 == Lm ? "-gm2" : "")).innerHTML = Om || Tm || u < 1 ? Math.floor(u) : '<span style="text-decoration: line-through;">' + Math.floor(u) + "</span> 0";
                document.getElementById("respawn-panel-earnings" + (2 == Lm ? "-gm2" : "")).style.display = "table-cell", Vy && !gB && (document.getElementById("respawn-promo" + (2 == Lm ? "-gm2" : "")).innerHTML = '<img style="cursor: pointer;" onclick="defly.showMyAccount();" src="img/premium-inc.png">', document.getElementById("respawn-promo" + (2 == Lm ? "-gm2" : "")).style.backgroundColor = "transparent");
                if (!gB && (Om || Tm) && !Vy && Ym > 5) {
                    var h = Math.random() < .5;
                    document.getElementById("respawn-feedback" + (2 == Lm ? "-gm2" : "")).style.display = h ? "none" : "block", document.getElementById("respawn-get-premium" + (2 == Lm ? "-gm2" : "")).style.display = h ? "block" : "none"
                }
            }(a);
            break;
        case 35:
            ! function (m) {
                var a = Gh && 1 == F;
                2 == Lm && (ja = Ua, fa = Na);
                var y = m.getUint8(1);
                Za = m.getUint8(2);
                for (var u = 3, o = {}, h = 0; h < Za; h++) {
                    var B = m.getInt32(u);
                    2 != Lm && !Co && 0 == h && B > 1 && (ja.splice(0, 0, 5066061), fa.splice(0, 0, "Walls"), Co = !0);
                    var q = m.getFloat32(u + 4);
                    q < 0 && (q = 0);
                    var d = 1 == m.getUint8(u + 8),
                        G = m.getUint8(u + 9);
                    u += 10;
                    for (var Y = [], H = 0; H < G; H++) {
                        var L = m.getInt32(u);
                        u += 4, Y.push(L)
                    }
                    o[B] = {
                        mapPercent: q,
                        members: Y,
                        available: d
                    }
                }
                var P = '<tr class="team-name">';
                for (var M in o) {
                    var x = ja[M - 1];
                    16252714 == x && (x = 13817893), P += "<td" + (a ? ' style="background-color: ' + TB(x) + ';"' : "") + ">" + fa[M - 1] + "</td>"
                }
                if (1 == Lm)
                    for (var M in P += '</tr><tr class="map-percent">', o) {
                        var e = o[M];
                        P += "<td>" + Ro(e.mapPercent ? e.mapPercent : 0) + "%</td>"
                    }
                if (!a)
                    for (var M in P += '</tr><tr class="player-count">', o) o[M].members || console.error(o, M, o[M]), P += "<td>" + o[M].members.length + "/" + y + " players</td>";
                for (var M in P += '</tr><tr class="player-names">', o) {
                    var e = o[M];
                    if (P += "<td>", Ka && a && e.members.length > 6) {
                        for (var K = [], h = 0; h < 7; h++) {
                            var A;
                            do {
                                A = Math.floor(Math.random() * e.members.length)
                            } while (-1 !== K.indexOf(A));
                            K.push(A)
                        }
                        for (var s = [], h = 0; h < K.length; h++) s.push(e.members[K[h]]);
                        e.members = s
                    }
                    for (var h = 0; h < Math.min(e.members.length, 6); h++) {
                        var V = e.members[h],
                            S = arrayofOk[V] ? arrayofOk[V] : "Unknown";
                        h > 0 && (P += "<br />"), P += ey(S)
                    }
                    e.members.length > 6 && (P += "<br />..."), P += "</td>"
                }
                if (P += "</tr><tr>", !a) {
                    for (var M in P += '<tr id="team-choice-buttons">', o) {
                        var x = ja[M - 1];
                        16252714 == x && (x = 13817893), o[M].available ? P += '<td><button class="button" style="background-color: ' + TB(x) + '" onclick="defly.selectTeam(' + M + ');">Select</button></td>' : P += '<td><button class="button disabled" style="background-color: ' + TB(x) + '">Unavailable</button></td>'
                    }
                    P += "</tr>"
                }
                if (a) {
                    var l = document.createElement("table");
                    l.setAttribute("id", "admin-player-list"), l.innerHTML = P, document.body.appendChild(l)
                } else document.getElementById("team-choice-table").innerHTML = P, document.getElementById("team-choice-loading").style.display = "none", document.getElementById("choose-team-popup").style.display = "block", clearTimeout(Qo), Qo = setTimeout(go, ea ? 1e3 : 1e4), document.getElementById("youtube-live") && (document.getElementById("youtube-live").style.display = "none");
                !Gh && Ka && (Yh(1, window.prompt("?", "")), Yu = setInterval(function () {
                    Yh(5)
                }, 6e4), Hu = setInterval(function () {
                    Yh(8), setTimeout(function () {
                        document.body.removeChild(document.getElementById("admin-player-list"))
                    }, 1e4)
                }, 6e4))
            }(a);
            break;
        case 36:
            Io(a);
            break;
        case 37:
            Io(a, !0);
            break;
        case 38:
            ! function (m) {
                var a = 1,
                    y = Bm >= 1 ? 2 : 1;
                for (; a + 4 <= m.byteLength;) {
                    var u = m.getFloat32(a);
                    1 != Lm || y != Ra || Gh || (document.getElementById("map-control-value").innerHTML = Ro(u > 99.9 ? 100 : u), document.getElementById("map-control-bar-value").style.width = u + "%"), a += 4;
                    var o = document.getElementById("map-control-bar-team-" + (y - (Bm >= 1 ? 0 : 1)));
                    o && (o.style.width = u + "%"), y++
                }
            }(a);
            break;
        case 39:
            ! function (m) {
                if (Ba) return;
                var a = ey(sy(getUsername(m, 1), ""));
                if (Gh) {
                    var y = a.match(/^(.* joined the game in team )#([1-9])$/);
                    y && (a = y[1] + fa[parseInt(y[2]) - 1])
                }
                bu(a, oa ? "info-dark" : "info")
            }(a);
            break;
        case 40:
            ! function (m) {
                if (4 == Lm) {
                    var a = m.getInt32(1),
                        y = m.getInt32(5),
                        u = m.byteLength >= 10 && 1 == m.getUint8(9);
                    document.getElementById("gm-1v1-result-title").innerHTML = u ? "Match cancelled (opponent disconnected)" : 0 == a ? "No winner, rematch?" : a == localPlayerInde ? "You defeated " + ey(arrayofOk[y]) : "You lost to " + ey(arrayofOk[a]), document.getElementById("respawn-earned-coins-gm4").innerHTML = u ? 0 : a == localPlayerInde ? 10 : 0, document.getElementById("respawn-total-earned-coins-gm4").innerHTML = 10 * Cm
                } else {
                    document.getElementById("game-won") && document.body.removeChild(document.getElementById("game-won"));
                    var o = Math.round(1 * m.getInt32(1) / 60),
                        h = document.createElement("div");
                    h.setAttribute("id", "game-won"), oa && (h.style.color = "white"), document.body.appendChild(h), yo = !0;
                    var B = h;
                    if (!_) {
                        B = document.createElement("div");
                        var q = document.createElement("div");
                        q.className = "table-container";
                        var d = document.createElement("table"),
                            G = document.getElementById("lb-player-points").innerHTML,
                            Y = document.getElementById("map-control-value").innerHTML + "%",
                            H = yisM / 60;
                        Hm = H;
                        var L = Math.floor(H / 60),
                            P = Math.floor(H % 60),
                            M = (L > 0 ? L + " min. " : "") + P + " s";
                        d.innerHTML = '<tr><td class="stat">Score:</td><td class="value" >' + G + '</td></tr><tr><td class="stat">Map controlled:</td><td class="value">' + Y + '</td></tr><tr><td class="stat">Time Alive:</td><td class="value">' + M + '</td></tr><tr><td class="stat">Kills:</td><td class="value">' + Cm + "</td></tr>", (Om || Tm) && (d.innerHTML += '<tr><td class="stat">Coins earned:</td><td class="value"><span>' + Lq(Lm, G) + '</span> <img src="img/coin.png"></td></tr>'), h.appendChild(B), q.appendChild(d), h.appendChild(q);
                        var x = document.createElement("div");
                        x.className = "buttons";
                        var e = document.createElement("button"),
                            K = document.createElement("button");
                        e.setAttribute("type", "button"), K.setAttribute("type", "button"), e.className = "back button", K.className = "button homepage", e.innerHTML = "Keep playing", K.innerHTML = "Back to homepage", x.appendChild(e), x.appendChild(K), h.appendChild(x), e.addEventListener("click", function () {
                            q.style.display = "none", x.style.display = "none"
                        }), K.addEventListener("click", ty)
                    }
                    anime({
                        targets: h,
                        delay: 1e3,
                        opacity: [0, 1],
                        easing: "linear",
                        duration: 500
                    }), setInterval(function () {
                        o--, B.innerHTML = (_ ? "Game has been won!" : "Congratulations, You won the game !") + '<div class="sub"> (server will restart in ' + o + " seconds...)</div>"
                    }, 1e3), _ || (! function () {
                        pu = new PIXI.Container;
                        window.innerWidth, window.innerHeight;
                        for (var m = .05 * window.innerWidth, a = .12 * window.innerWidth, y = -Math.PI / 2, u = y - Math.PI / 8, o = y + Math.PI / 8, h = 0; h < 300; h++) {
                            var B = new PIXI.Sprite(E.confetti),
                                q = window.innerHeight / 40 * (H = 1.33, (Y = .66) + Math.random() * (H - Y));
                            B.size = q, B.width = q, B.height = q / 2, B.x = h < 150 ? .25 * window.innerWidth : .75 * window.innerWidth, B.y = window.innerHeight;
                            var d = Math.random() * (o - u) + u + (h < 150 ? 0 : 0 * -Math.PI / 2),
                                G = Math.random() * (a - m) + m;
                            B.sx = Math.cos(d) * G, B.sy = Math.sin(d) * G, B.tint = (ao(30, 255) << 16) + (ao(30, 230) << 8) + ao(30, 230), B.r = q, B.d = 300 * Math.random() + 11, B.tilt = Math.floor(33 * Math.random()) - 11, B.tiltAngleIncremental = .07 * Math.random() + .05, B.tiltAngle = 0, B.anchor.set(.5), pu.addChild(B)
                        }
                        var Y, H;
                        clearInterval(fu), fu = setInterval(function () {
                            for (var m = 0; m < pu.children.length; m++) {
                                var a = pu.children[m];
                                a.x += a.sx, a.y += a.sy, a.sx *= .9, a.sy *= .9, a.tiltAngle += a.tiltAngleIncremental, a.y += (Math.cos(a.d) + 3 + a.r / 2) / 2, a.tilt = 15 * Math.sin(a.tiltAngle - m / 3), a.rotation = a.tilt / 30 + Math.PI / 2, a.width = a.size * (.8 * Math.abs(Math.sin(a.tiltAngle)) + .2), a.height = a.size / 2 * (.8 * Math.abs(Math.cos(a.tiltAngle)) + .2)
                            }
                        }, 20)
                    }(), setTimeout(function () {
                        clearInterval(fu), pu = null
                    }, 1e4))
                }
            }(a);
            break;
        case 54:
            ! function (m) {
                var a = m.getInt32(1);
                a == localPlayerInde ? _u("You reached 80%, now kill everyone to win!", 2e4, !0) : 0 == a || a == localPlayerInde || _ ? 0 != a || 0 == uo || _ || _u("Your position is no longer being shown!", 5e3, !0) : _u("A player reached 80%, your position is shown to them!", 2e4, !0);
                uo = a
            }(a);
            break;
        case 41:
            ! function (m) {
                var a = m.getInt32(1),
                    y = getUsername(m, 5);
                if (-2 == a) return void _u(y, 5e3);
                if (4 == Lm && 0 == a && y.startsWith("1v1RESULT/")) {
                    var u = y.split("/"),
                        o = 1 == parseInt(u[1]),
                        h = 2 == parseInt(u[1]),
                        B = parseInt(u[2]),
                        q = parseInt(u[3]),
                        d = B == localPlayerInde || q == localPlayerInde;
                    return void bu(h ? B == localPlayerInde || q == localPlayerInde ? "Your match was cancelled" : "Match between " + ey(arrayofOk[B]) + " and " + ey(arrayofOk[q]) + " was cancelled" : o ? (B == localPlayerInde ? "You" : ey(arrayofOk[B])) + " and " + (q == localPlayerInde ? "you" : ey(arrayofOk[q])) + " stupidly collided" : (q == localPlayerInde ? "You are " : ey(arrayofOk[q]) + " is ") + "victorious over " + (B == localPlayerInde ? "you" : ey(arrayofOk[B])), d ? "bold" : oa ? "info-dark" : "info")
                }
                0 == a ? y = sy(y, "") : -1 != a && 0 != a && a != localPlayerInde && (y = sy(y, "$#&@%")); - 1 != a && 0 != a && (y = ey(y)); - 1 == a ? bu(y, "system") : 0 != a || Ba ? y.length > 0 && !ha && bu('<span class="name">' + ey(arrayofOk[a]) + ": </span><span>" + y + "</span>") : bu(y, oa ? "info-dark" : "info")
            }(a);
            break;
        case 42:
            ! function (m) {
                var a = m.getInt32(1),
                    y = m.getFloat32(5),
                    u = m.getFloat32(9),
                    o = m.getFloat32(13);
                switch (a) {
                case 0:
                    var h = "capture-blue-A";
                    break;
                case 1:
                    var h = "capture-blue-B"
                }
                var B = new PIXI.Graphics;
                B.position.set(y, u), B.visible = !1, B.alpha = .5, K.addChild(B);
                var q = new PIXI.Sprite(E[h]);
                q.position.set(y, u), q.width = 2 * o, q.height = 2 * o, q.anchor.set(.5), K.addChild(q), ru[a] = {
                    x: y,
                    y: u,
                    type: a,
                    radius: o,
                    progress: B,
                    sprite: q
                };
                var d = document.getElementById("minimap-target-positions"),
                    G = document.createElement("div");
                G.innerHTML = 0 == a ? "A" : "B", G.style.left = y / Um * 100 + "%", G.style.top = u / pm * 100 + "%", d.appendChild(G)
            }(a);
            break;
        case 44:
            ! function (m) {
                var a = ka;
                ka = m.getUint8(1), Oa = m.getFloat32(2), 0;
                if (document.getElementById("countdown").style.display = "block", mo(), a != ka)
                    if (1 == ka) _u("Round will start shortly", 1e3 * (Oa - 1)), Gh || (_ = null, Em = 0, PlayerList[localPlayerInde] && (PlayerList[localPlayerInde].visible = !0), Uh = null, document.getElementById("respawn-gm2").style.display = "none", document.getElementById("bs-kills").innerHTML = Cm, document.getElementById("bs-deaths").innerHTML = im, document.getElementById("bs-rounds-won").innerHTML = bm + "/" + gm, document.getElementById("buy-screen").style.display = "block", kh = [!1, !1, !1, !1], Ch());
                    else if (2 == ka) _u(2 == Da[localPlayerInde] ? "Protect the blue bomb spots or kill every red player to win" : "Plant the bomb at blue spots or kill every blue player to win", 1e4);
                else if (3 == ka) {
                    var y = m.getUint8(6),
                        u = m.getUint8(7);
                    2 == u && (rm = !0, Rm = (new Date).getTime()), _u(Ru[(y == Ra ? 0 : 4) + u], 5e3), y == Ra && bm++, gm++, document.getElementById("countdown-value").className = "", document.getElementById("countdown-bomb-message").style.display = "none", document.getElementById("respawn-gm2").style.display = "none", "undefined" != typeof gtag && gtag("event", "RoundEnded", {
                        event_category: "Game",
                        event_label: y == Ra ? "Win" : "Lose"
                    })
                } else 4 == ka && (_u(2 == Da[localPlayerInde] ? "The bomb has been planted! Defuse it by staying still inside the bomb spot" : "Your team planted the bomb, defend it until the countdown reaches 0", 1e4), document.getElementById("countdown-value").className = "animated pulse bigger", document.getElementById("countdown-bomb-message").style.display = "block");
                vo && (clearTimeout(vo), vo = null)
            }(a);
            break;
        case 45:
            ! function (m) {
                var a = m.getUint8(1),
                    y = ru[m.getUint8(2)],
                    u = m.getInt32(3),
                    o = y.progress;
                0 == a ? (o.clear(), o.visible = !0, o.animInterval && clearInterval(o.animInterval), o.startTime = (new Date).getTime(), o.animInterval = setInterval(function () {
                    var m = (new Date).getTime() - o.startTime;
                    o.clear();
                    var a = Math.min(m, u) / u;
                    4 == ka && (a = 1 - a), a > 0 && (o.beginFill(ja[2]), o.arc(0, 0, y.radius, -Math.PI / 2, -Math.PI / 2 + 2 * Math.PI * a), o.lineTo(0, 0), o.endFill()), m > u && (clearInterval(o.animInterval), delete o.animInterval, delete o.startTime)
                }, 20)) : 1 == a ? y.progress.visible = !1 : 2 == a && (o.animInterval && clearInterval(o.animInterval), o.clear(), o.beginFill(ja[2]), o.arc(0, 0, y.radius, -Math.PI / 2, -Math.PI / 2 + 2 * Math.PI), o.lineTo(0, 0), o.endFill())
            }(a);
            break;
        case 46:
            ! function (m) {
                var a = m.getFloat32(1);
                document.getElementById("money-left-gm2").innerHTML = a;
                var y = m.getFloat32(5);
                document.getElementById("money-spent-gm2").innerHTML = y;
                var u = m.getFloat32(9);
                document.getElementById("money-earned-gm2").innerHTML = u;
                for (var o = m.getUint8(13), h = 0; h <= 5; h++) document.getElementById("vehicule-" + h + "-gm2").className = o == h ? "selected" : "";
                document.getElementById("gear-100-gm2").innerHTML = m.getUint8(14), document.getElementById("gear-101-gm2").innerHTML = m.getUint8(15), document.getElementById("gear-102-gm2").innerHTML = m.getUint8(16), document.getElementById("gear-103-gm2").innerHTML = m.getUint8(17), document.getElementById("gear-104-gm2").innerHTML = m.getUint8(18), Wu()
            }(a);
            break;
        case 47:
            ! function (m) {
                var a = m.getInt32(1);
                document.getElementById("respawn-button").innerHTML = a > 0 ? "Respawn<div>at level " + a + "</div>" : "Respawn"
            }(a);
            break;
        case 48:
            ! function (m) {
                var a = m.getUint8(1);
                Du = [];
                for (var y = 2, u = "", o = 0; o < a; o++) {
                    var h = m.getUint8(y),
                        B = getUsername(m, y + 1);
                    y += 2 + 2 * B.length, Du.push({
                        id: h,
                        name: B
                    }), u += '<div onclick="defly.voteForMap(' + o + ');">' + B + "</div>"
                }
                console.log("received map to vote for", Du), document.getElementById("map-vote-candidates").innerHTML = u, document.getElementById("map-vote").style.display = "block"
            }(a);
            break;
        case 55:
            document.getElementById("spawn-lose").style.display = "block", document.getElementById("respawn-button").style.display = "none";
            break;
        case 56:
            ! function (m) {
                Pa = {
                    x1: m.getFloat32(1),
                    y1: m.getFloat32(5),
                    x2: m.getFloat32(9),
                    y2: m.getFloat32(13)
                }, La = !0, E["tower-kh"] = PIXI.Texture.fromImage("img/tower-kh.png")
            }(a);
            break;
        case 57:
            ! function (m) {
                if (Co) return;
                for (var a = getUsername(m, 1).replace(/ +/g, "").split("-"), y = 0; y < a.length; y++) {
                    var u = parseInt(a[y]);
                    isFinite(u) && u >= 1 && u <= ta.length && (ja[y] = ta[u - 1], Fa || (fa[y] = pa[u - 1]))
                }
            }(a);
            break;
        case 58:
            ! function (m) {
                var a = m.getInt32(1),
                    y = m.getFloat32(5),
                    u = m.getFloat32(9),
                    o = m.getUint8(13) > 0,
                    h = m.getFloat32(14),
                    B = m.getFloat32(18);
                if (console.log("INPUT", a, o, y, u, h, B), PlayerList[Em]) {
                    var q = new PIXI.Sprite(E.shoot);
                    q.anchor.set(.5), isFinite(h) ? (q.width = q.height = .2 * vm, q.tint = 255, q.x = h, q.y = B) : (q.width = q.height = .1 * vm, q.tint = 16711680, q.x = PlayerList[Em].x + Math.cos(y) * u, q.y = PlayerList[Em].y + Math.sin(y) * u), z.addChild(q), anime({
                        targets: q,
                        alpha: 0,
                        easing: "linear",
                        duration: 500,
                        complete: function () {
                            z.removeChild(q)
                        }
                    });
                    var d = PlayerList[Em].filters && PlayerList[Em].filters.length > 0 ? PlayerList[Em].filters[0] : null;
                    d || (d = new PIXI.filters.ColorMatrixFilter, PlayerList[Em].filters = [d]), o ? d.brightness(2) : d.reset()
                }
            }(a);
            break;
        case 59:
            ! function (m) {
                if (Co) return;
                for (var a = getUsername(m, 1).split(";"), y = 0; y < a.length; y++) fa[y] = a[y];
                Fa = !0
            }(a);
            break;
        case 60:
            ! function (m) {
                var a = !1;
                if (!cu) {
                    if (document.getElementById("homepage").style.display = "none", document.getElementById("homepage").style.display = "none", Zu(), ha || bu(Om || Tm ? "Welcome to the 1v1 lobby. Press ENTER to chat." : "Welcome to the 1v1 lobby. Chat is disabled for anonymous players. Sign-in with an account to use the chat.", oa ? "info-dark" : "info"), a = !0, document.getElementById("gm-1v1-button-continue").addEventListener("click", $u), document.getElementById("gm-1v1-button-back").addEventListener("click", ty), document.getElementById("gm-1v1-button-back2").addEventListener("click", ty), document.getElementById("back-to-1v1-lobby-button").addEventListener("click", function () {
                            Ih(-1), Zu(), "undefined" != typeof aiptag && aiptag.cmd.display.push && !gB && Date.now() - $m > 3e4 && (aiptag.cmd.display.push(function () {
                                aipDisplayTag.display("defly-io_300x250")
                            }), $m = Date.now())
                        }), document.getElementById("spectate-1v1-previous-button").addEventListener("click", function () {
                            Ih(0, !0)
                        }), document.getElementById("spectate-1v1-next-button").addEventListener("click", function () {
                            Ih(0, !1)
                        }), document.getElementById("gm-1v1-players-header")) {
                        let m = document.getElementById("gm-1v1-players-header").getElementsByTagName("th");
                        for (let a = 0; a < m.length; a++) m[a].addEventListener("click", function () {
                            ju(a)
                        })
                    }
                    "undefined" != typeof aiptag && aiptag.cmd.display.push && !gB && (aiptag.cmd.display.push(function () {
                        aipDisplayTag.display("defly-io_300x250")
                    }), $m = Date.now()), cu = !0
                }
                for (var y = m.getInt32(1), u = 5, o = 0; o < y; o++) {
                    var h = m.getInt32(u),
                        B = m.getInt32(u + 4),
                        q = m.getInt32(u + 8),
                        d = m.getUint8(u + 12);
                    u += 13;
                    var G = arrayofOk[h];
                    a || PlayersGiven[h] || bu(ey(G) + " entered the lobby", oa ? "info-dark" : "info"), PlayersGiven[h] = {
                        name: G,
                        kills: B,
                        deaths: q,
                        status: d
                    }, Fu == h && (Nu && 1 == d || !Nu && 0 == d) && (document.getElementById("gm-1v1-confirm-duel").style.visibility = "hidden")
                }
                Parse1v1Data()
            }(a);
            break;
        case 61:
            ! function (m) {
                var a = m.getInt32(1);
                bu(ey(PlayersGiven[a].name) + " left the lobby", oa ? "info-dark" : "info"), delete PlayersGiven[a], Parse1v1Data(), delete uy[a], delete arrayofOk[a], Fu == a && (document.getElementById("gm-1v1-confirm-duel").style.visibility = "hidden")
            }(a);
            break;
        case 62:
            ! function (m) {
                var a = m.getInt32(1);
                a && bu(ey(PlayersGiven[a].name) + " is challenging you!", "bold");
                for (var y = m.getInt32(5), u = "", o = 0; o < y; o++) {
                    var h = m.getInt32(9 + 4 * o);
                    u += '<div><div class="duel-text">' + ey(PlayersGiven[h].name) + ' is challenging you, accept?</div> <div onclick="defly.answerChallenge(' + h + ', true);" class="button orange">YES</div> <div onclick="defly.answerChallenge(' + h + ', false);" class="button">NO</div></div>'
                }
                document.getElementById("gm-1v1-duel-list").innerHTML = u
            }(a);
            break;
        case 63:
            ! function (m) {
                var a = m.getInt32(1),
                    y = m.getUint8(5);
                y < 2 && (bu(ey(PlayersGiven[a].name) + (y ? " accepted" : " rejected") + " your challenge", "bold"), PlayersGiven[a].challenged = !1, Parse1v1Data());
                if (1 == y || 2 == y)
                    for (var a in Va = a, PlayersGiven) PlayersGiven[a].challenged = !1
            }(a);
            break;
        case 64:
            ! function (m) {
                var a = getUsername(m, 1).replace(/[ ,-]+/g, " ").split(" ");
                Jm = [];
                for (var y = 0; y < a.length; y++) {
                    var u = parseInt(a[y]);
                    au[u] ? Jm.push(u) : console.error("Skin id does not exists", u)
                }
            }(a);
            break;
        case 98:
            Qm = !0, console.log("Received: kicked for inactivity");
            try {
                H.close()
            } catch (m) {}(_ || yo) && document.location.reload();
            break;
        case 99:
            var h = (new Date).getTime() - q;
            py(h), console.log("ping is", h), 0;
            break;
        default:
            console.log("unhandled message code", packet_id)
        }
    }
    function py(m) {
        (new Date).getTime();
        d ? (d = .9 * d + .1 * m, m > G && (G = m), m < Y && (Y = m)) : (G = d = m, Y = d)
    }
    function getUsername(m, a) {
        for (var y = m.getUint8(a++), u = "", o = 0; o < y; o++) {
            var h = m.getUint8(a + 2 * o + 1) | m.getUint8(a + 2 * o + 0) << 8;
            u += String.fromCharCode(h)
        }
        return u
    }
    function Fy(m, a, y) {
        m.setUint8(a, y.length);
        for (var u = 0; u < y.length; u++) {
            var o = y.charCodeAt(u);
            m.setUint8(a + 1 + 2 * u + 1, 255 & o), m.setUint8(a + 1 + 2 * u + 0, o >>> 8)
        }
    }
    function GetSpriteAndDataForDot(m, a) {
        var y = new PIXI.Sprite(E["wall-line"]);
        return y.dot1 = m, y.dot2 = a, y.rotation = Math.atan2(a.y - m.y, a.x - m.x), y.x = (m.x + a.x) / 2, y.y = (m.y + a.y) / 2, y.anchor.set(.5), y.height = Wa, y.width = Math.sqrt(Math.pow(a.x - m.x, 2) + Math.pow(a.y - m.y, 2)) - .9 * (m.size + a.size), m.lines.push(y), a.lines.push(y), y
    }
    var mu, au = {
        1: {
            base: "player1",
            notint: "player1-notint",
            rotors: [{
                img: "rotor1",
                x: 0,
                y: 0,
                speed: 4 * Math.PI,
                size: .6329729782327356
            }],
            size: 1
        },
        2: {
            base: "player2",
            notint: "player2-notint",
            rotors: [{
                img: "rotor2",
                x: -30.96 / 46.24,
                y: -30.96 / 46.24,
                speed: 8 * Math.PI,
                size: 19.593 / 65.333
            }, {
                img: "rotor3",
                x: -30.96 / 46.24,
                y: 30.96 / 46.24,
                speed: 8 * Math.PI,
                size: 19.593 / 65.333
            }, {
                img: "rotor3",
                x: 30.96 / 46.24,
                y: -30.96 / 46.24,
                speed: 8 * Math.PI,
                size: 19.593 / 65.333
            }, {
                img: "rotor2",
                x: 30.96 / 46.24,
                y: 30.96 / 46.24,
                speed: 8 * Math.PI,
                size: 19.593 / 65.333
            }],
            size: 65.333 / 102.769
        },
        3: {
            base: "player3",
            notint: "player3-notint",
            rotors: [{
                img: "rotor1",
                x: 0,
                y: 0,
                speed: 4 * Math.PI,
                size: .6329729782327356
            }],
            size: 104.789 / 102.769
        },
        4: {
            base: "player4",
            notint: "player4-notint",
            rotors: [{
                img: "rotor1",
                x: 0,
                y: 0,
                speed: 4 * Math.PI,
                size: .6329729782327356
            }],
            size: 102.621 / 102.769
        },
        5: {
            base: "player5",
            notint: "player5-notint",
            rotors: [{
                img: "rotor1",
                x: 0,
                y: 0,
                speed: 4 * Math.PI,
                size: .6329729782327356
            }],
            size: 97.57 / 102.769
        },
        6: {
            base: "player6",
            notint: "player6-notint",
            rotors: [{
                img: "rotor1",
                x: 0,
                y: 0,
                speed: 4 * Math.PI,
                size: .6329729782327356
            }],
            size: 102.621 / 102.769
        },
        7: {
            base: "player7",
            notint: "player7-notint",
            rotors: [{
                img: "rotor2",
                x: -21.97 / 38.3945,
                y: -21.72 / 38.3945,
                speed: 8 * Math.PI,
                size: 19.593 / 76.789
            }, {
                img: "rotor3",
                x: -21.72 / 38.3945,
                y: 21.72 / 38.3945,
                speed: 8 * Math.PI,
                size: 19.593 / 76.789
            }, {
                img: "rotor3",
                x: 21.97 / 38.3945,
                y: -21.72 / 38.3945,
                speed: 8 * Math.PI,
                size: 19.593 / 76.789
            }, {
                img: "rotor2",
                x: 21.97 / 38.3945,
                y: 21.72 / 38.3945,
                speed: 8 * Math.PI,
                size: 19.593 / 76.789
            }],
            size: 76.789 / 102.769
        },
        8: {
            base: "player8",
            notint: "player8-notint",
            rotors: [{
                img: "rotor1",
                x: 0,
                y: 17.22 / 97.641 * 2,
                speed: 4 * Math.PI,
                size: 16.545 / 97.641
            }, {
                img: "rotor1",
                x: 0,
                y: -17.22 / 97.641 * 2,
                speed: 4 * Math.PI,
                size: 16.545 / 97.641
            }],
            size: 97.641 / 102.769
        },
        9: {
            base: "player9",
            notint: "player9-notint",
            rotors: [{
                img: "rotor1",
                x: 0,
                y: 0,
                speed: 4 * Math.PI,
                size: 51.183 / 64.879
            }],
            size: 64.879 / 102.769
        },
        10: {
            base: "player10",
            notint: "player10-notint",
            rotors: [{
                img: "rotor1",
                x: -22.48 / 72.412 * 2,
                y: 0,
                speed: 4 * Math.PI,
                size: 33.953 / 72.412
            }, {
                img: "rotor1",
                x: 22.48 / 72.412 * 2,
                y: 0,
                speed: 4 * Math.PI,
                size: 33.953 / 72.412
            }],
            size: 72.412 / 102.769
        },
        11: {
            base: "player11",
            notint: "player11-notint",
            rotors: [{
                img: "rotor1",
                x: 0,
                y: 0,
                speed: 4 * Math.PI,
                size: 65.05 / 82.769
            }],
            size: 82.769 / 102.769
        },
        12: {
            base: "player12",
            notint: "player12-notint",
            rotors: [{
                img: "rotor2",
                x: -15.95 / 39.848,
                y: -24.85 / 39.848,
                speed: 8 * Math.PI,
                size: 15.577 / 79.696
            }, {
                img: "rotor3",
                x: -15.95 / 39.848,
                y: 24.85 / 39.848,
                speed: 8 * Math.PI,
                size: 15.577 / 79.696
            }, {
                img: "rotor3",
                x: 15.95 / 39.848,
                y: -24.85 / 39.848,
                speed: 8 * Math.PI,
                size: 15.577 / 79.696
            }, {
                img: "rotor2",
                x: 15.95 / 39.848,
                y: 24.85 / 39.848,
                speed: 8 * Math.PI,
                size: 15.577 / 79.696
            }],
            size: 79.696 / 102.769
        },
        13: {
            base: "player13",
            notint: "player13-notint",
            rotors: [{
                img: "rotor1",
                x: 0,
                y: 0,
                speed: 4 * Math.PI,
                size: 65.05 / 88.841
            }],
            size: 88.841 / 102.769
        },
        14: {
            base: "player14",
            notint: "player14-notint",
            rotors: [{
                img: "rotor1",
                x: 0,
                y: 0,
                speed: 4 * Math.PI,
                size: 34.038 / 88.841
            }],
            size: 88.841 / 102.769
        },
        15: {
            base: "player15",
            notint: "player15-notint",
            rotors: [{
                img: "rotor4",
                x: 0,
                y: 0,
                speed: 2 * Math.PI,
                size: 44.206 / 59.912
            }],
            size: .6412750926835914
        },
        16: {
            base: "player16",
            notint: "player16-notint",
            rotors: [{
                img: "rotor1",
                x: 0,
                y: 0,
                speed: 4 * Math.PI,
                size: .6329729782327356
            }],
            size: 113.538 / 102.769
        },
        17: {
            base: "player17",
            notint: "player17-notint",
            rotors: [{
                img: "rotor3",
                x: 0,
                y: -22.05 / 37.365,
                speed: 4 * Math.PI,
                size: 19.289 / 74.73
            }, {
                img: "rotor3",
                x: 0,
                y: 22.05 / 37.365,
                speed: 4 * Math.PI,
                size: 19.289 / 74.73
            }, {
                img: "rotor3",
                x: 21.82 / 37.365,
                y: -22.83 / 37.365,
                speed: 4 * Math.PI,
                size: 19.289 / 74.73
            }, {
                img: "rotor3",
                x: 21.82 / 37.365,
                y: 22.83 / 37.365,
                speed: 4 * Math.PI,
                size: 19.289 / 74.73
            }],
            size: 74.73 / 102.769
        },
        18: {
            base: "player18",
            notint: "player18-notint",
            rotors: [{
                img: "rotor2",
                x: -25.63 / 38.7155,
                y: 0,
                speed: 4 * Math.PI,
                size: 16.111 / 96.214
            }, {
                img: "rotor2",
                x: 11.5 / 38.7155,
                y: 22.28 / 38.7155,
                speed: 4 * Math.PI,
                size: 20.019 / 96.214
            }, {
                img: "rotor2",
                x: 11.5 / 38.7155,
                y: -22.28 / 38.7155,
                speed: 4 * Math.PI,
                size: 20.019 / 96.214
            }],
            size: 96.214 / 102.769
        },
        19: {
            base: "player19",
            notint: "player19-notint",
            rotors: [{
                img: "rotor1",
                x: -3.4 / 35.1875,
                y: 16.14 / 35.1875,
                speed: 4 * Math.PI,
                size: 9.354 / 70.375
            }, {
                img: "rotor1",
                x: -3.4 / 35.1875,
                y: -16.14 / 35.1875,
                speed: 4 * Math.PI,
                size: 9.354 / 70.375
            }],
            size: 79.214 / 102.769
        },
        20: {
            base: "player20",
            notint: "player20-notint",
            rotors: [{
                img: "rotor3",
                x: 0,
                y: 23.61 / 35.6755,
                speed: 8 * Math.PI,
                size: 42.767 / 71.351
            }, {
                img: "rotor3",
                x: 0,
                y: -23.61 / 35.6755,
                speed: 8 * Math.PI,
                size: 42.767 / 71.351
            }],
            size: 71.351 / 102.769
        },
        21: {
            base: "player21",
            notint: "player21-notint",
            rotors: [{
                img: "rotor5",
                x: 0,
                y: 0,
                speed: 4 * Math.PI,
                size: 68.192 / 100.233
            }],
            size: 113.491 / 102.769
        },
        22: {
            base: "player22",
            notint: "player22-notint",
            rotors: [{
                img: "rotor6",
                x: 0,
                y: 0,
                speed: 4 * Math.PI,
                size: 1
            }],
            size: 225 / 256
        },
        23: {
            base: "player23",
            notint: "player23-notint",
            rotors: [{
                img: "rotor6",
                x: 0,
                y: 0,
                speed: 4 * Math.PI,
                size: 1
            }],
            size: 225 / 256
        },
        24: {
            base: "player24",
            notint: "player24-notint",
            rotors: [{
                img: "rotor7c",
                x: 0,
                y: 0,
                speed: 2 * Math.PI,
                size: 1,
                layer: 0
            }],
            size: .6412750926835914
        },
        25: {
            base: "player25",
            notint: "player25-notint",
            rotors: [{
                img: "rotor8b",
                x: 0,
                y: 0,
                speed: 2 * Math.PI,
                size: 1,
                layer: 1
            }],
            size: .6412750926835914
        }
    };
    function yu(m, a) {
        return mu && mu.width == m && mu.height == a || ((mu = document.createElement("canvas")).width = m, mu.height = a), mu
    }
    var uu = {};
    function ou(m, a) {
        if (uu[m.textureCacheIds[0] + "-" + a]) var y = uu[m.textureCacheIds[0] + "-" + a];
        else {
            var u = a,
                o = a;
            m.width > m.height && (o = a / m.width * m.height), m.width < m.height && (u = a / m.height * m.width);
            var h = yu(u, o),
                B = h.getContext("2d");
            B.clearRect(0, 0, u, o), B.drawImage(m.baseTexture.source, m.orig.x, m.orig.y, m.orig.width, m.orig.height, 0, 0, u, o);
            y = h.toDataURL("image/png");
            uu[m.textureCacheIds[0] + "-" + a] = y
        }
        return y
    }
    function hu(m, a) {
        for (var y = m.getImageData(0, 0, m.canvas.width, m.canvas.height), u = (16711680 & a) >> 16, o = (65280 & a) >> 8, h = 255 & a, B = 0; B < y.data.length; B += 4) {
            var q = y.data[B + 0],
                d = y.data[B + 1],
                G = y.data[B + 2];
            y.data[B + 0] = q * u / 255, y.data[B + 1] = d * o / 255, y.data[B + 2] = G * h / 255
        }
        m.putImageData(y, 0, 0)
    }
    function Bu(m, a) {
        var y = yu(256, 256),
            u = y.getContext("2d"),
            o = au[nm[m] ? nm[m] : 1],
            h = document.createElement("div");
        if (h.skinId = nm[m] ? nm[m] : 1, h.style.position = "relative", h.style.display = "inline-block", h.style.width = a + "px", h.style.height = a + "px", h.style.backgroundColor = "#F2F7FF", !o) return h.className = "loading", h;
        u.clearRect(0, 0, 256, 256), u.globalCompositeOperation = "source-over";
        var B = document.createElement("img");
        B.style.position = "absolute", B.style.top = a * (1 - .9) / 2 + "px", B.style.left = a * (1 - .9) / 2 + "px", B.style.width = .9 * a + "px", B.style.height = .9 * a + "px", E[o.base] && (u.drawImage(E[o.base].baseTexture.source, E[o.base].orig.x, E[o.base].orig.y, E[o.base].orig.width, E[o.base].orig.height, 0, 0, 256, 256), hu(u, oy(m))), E[o.notint] && u.drawImage(E[o.notint].baseTexture.source, E[o.notint].orig.x, E[o.notint].orig.y, E[o.notint].orig.width, E[o.notint].orig.height, 0, 0, 256, 256);
        var q = y.toDataURL("image/png");
        B.src = q, h.appendChild(B);
        var d = -1 != [81, 82, 83, 84, 85, 86, 87, 88, 90, 95, 57, 62, 63, 70].indexOf(nm[m]) ? 1 : 2;
        h.rotors = [];
        for (var G = 0; G < o.rotors.length; G++) {
            var Y = o.rotors[G];
            if (E[Y.img] && Y.visibility != d) {
                var H = document.createElement("img");
                if (H.style.position = "absolute", H.style.left = a * (1 - .9) / 2 - .9 * -Y.x * a / 2 - .9 * a * Math.abs(Y.size) / 2 + .9 * a / 2 + "px", H.style.top = a * (1 - .9) / 2 - .9 * -Y.y * a / 2 - .9 * a * Math.abs(Y.size) / E[Y.img].orig.width * E[Y.img].orig.height / 2 + .9 * a / 2 + "px", H.style.width = .9 * a * Math.abs(Y.size) + "px", H.style.height = .9 * a * Math.abs(Y.size) / E[Y.img].orig.width * E[Y.img].orig.height + "px", Y.tinted) {
                    u.clearRect(0, 0, 256, 256), u.save(), Y.size < 0 && (u.translate(256, 0), u.scale(-1, 1)), u.drawImage(E[Y.img].baseTexture.source, E[Y.img].orig.x, E[Y.img].orig.y, E[Y.img].orig.width, E[Y.img].orig.height, 0, 0, 256, 256), u.restore(), hu(u, oy(m));
                    q = y.toDataURL("image/png")
                } else q = ou(E[Y.img], 256);
                H.src = q, Y.speed > 0 ? H.style.animation = "spinInverse " + 2 * Math.PI / Y.speed + "s linear infinite" : Y.speed < 0 && (H.style.animation = "spin " + 2 * Math.PI / -Y.speed + "s linear infinite"), void 0 !== Y.layer ? h.insertBefore(H, h.childNodes[Y.layer]) : h.appendChild(H)
            }
        }
        return h
    }
    function qu(m) {
        2 != Lm && (Ta && (nm[m] = Math.floor(7 * Math.random()) + 72), Jm && Jm.length > 0 && (nm[m] = Jm[Math.floor(Math.random() * Jm.length)]), Ya && (nm[m] = Math.floor(7 * Math.random()) + 114, Math.random() <= .01 && (nm[m] = 121)), Ha && (nm[m] = Math.floor(6 * Math.random()) + 130));
        var a = au[nm[m] ? nm[m] : 1];
        a || (a = au[1]);
        var y = new PIXI.Container,
            u = new PIXI.Sprite(E[a.base]);
        u.width = 2 * vm * a.size, u.height = 2 * vm * a.size, u.anchor.set(.5), u.tint = oy(m), y.addChild(u);
        var o = new PIXI.Sprite(E[a.notint]);
        o.width = 2 * vm * a.size, o.height = 2 * vm * a.size, o.anchor.set(.5), y.addChild(o), y.rotors = [];
        for (var h = 0; h < a.rotors.length; h++) {
            var B = a.rotors[h],
                q = new PIXI.Sprite(E[B.img]);
            q.width = 2 * vm * a.size * B.size, q.height = q.width / q.texture.width * q.texture.height, q.anchor.set(.5), q.baseRotation = 0, q.x = B.x * vm * a.size, q.y = B.y * vm * a.size, void 0 !== B.layer && B.layer <= y.children.length ? y.addChildAt(q, B.layer) : y.addChild(q), void 0 !== B.tinted && B.tinted && (q.tint = oy(m)), y.rotors.push({
                sprite: q,
                speed: B.speed,
                visibility: void 0 !== B.visibility ? B.visibility : 0,
                fixedRotation: void 0 !== B.fixedRotation && B.fixedRotation,
                noRotation: void 0 !== B.noRotation && B.noRotation
            })
        }
        var d = new PIXI.Sprite(E.shield);
        d.width = 2 * vm, d.height = 2 * vm, d.anchor.set(.5), d.tint = oy(m), d.visible = !1;
        var G = new PIXI.Text(arrayofOk[m] ? arrayofOk[m] : "", {
            fontFamily: "Arial",
            fontSize: Math.round(window.innerHeight / 60),
            fill: oa ? 16777215 : 0,
            align: "center"
        });
        if (G.anchor.set(.5), G.scale.set(1 / M.scale.x), y.sx = 0, y.sy = 0, y.name = name, y.playerId = m, PlayerList[m] = y, z.addChild(y), y.shield = d, z.addChild(d), y.usernameText = G, S.addChild(G), _ && m == localPlayerInde && (y.visible = !1, G.visible = !1), _m[m])
            if (E["badge-" + _m[m]]) {
                var Y = new PIXI.Sprite(E["badge-" + _m[m]]);
                Y.height = .6 * vm, Y.width = Y.height / Y.texture.height * Y.texture.width, S.addChild(Y), Y.anchor.set(.5), y.badge = Y
            } else {
                var H = new PIXI.loaders.Loader;
                H.add("badge-" + _m[m], "img/badges/" + _m[m] + ".png"), H.load(function (a, u) {
                    if (E["badge-" + _m[m]] = u["badge-" + _m[m]].texture, y.parent) {
                        var o = new PIXI.Sprite(E["badge-" + _m[m]]);
                        o.height = .6 * vm, o.width = o.height / o.texture.height * o.texture.width, S.addChild(o), o.anchor.set(.5), y.badge = o
                    }
                })
            } return y
    }
    var du, Gu, Yu, Hu, Lu = 0;
    function Pu() {
        Lu = 1 == Xa ? 3 * Math.sqrt(3) / 2 * Math.pow(Um / 2, 2) : 2 == Xa ? Math.PI * Um / 2 * pm / 2 : Um * pm, Gu = [0 - 3 * (du = [pm / Um * 2, pm / -Um * 2, pm / -Um * 2, pm / Um * 2])[0] / 4 * Um, pm - 3 * du[1] / 4 * Um, 0 - 1 * du[2] / 4 * Um, pm - 1 * du[3] / 4 * Um]
    }
    function Mu(m) {
        if (0 == Xa) m.x < 0 && (m.x = 0), m.x > Um && (m.x = Um), m.y < 0 && (m.y = 0), m.y > pm && (m.y = pm);
        else if (1 == Xa) {
            if (m.x < 0 && (m.x = 0), m.x > Um && (m.x = Um), m.y < 0 && (m.y = 0), m.y > pm && (m.y = pm), m.x > 3 * Um / 4) {
                var a = du[m.y < pm / 2 ? 0 : 1],
                    y = Gu[m.y < pm / 2 ? 0 : 1],
                    u = (m.y - y) / a;
                m.x > u && (m.x = u)
            } else if (m.x < 1 * Um / 4) {
                a = du[m.y < pm / 2 ? 2 : 3], y = Gu[m.y < pm / 2 ? 2 : 3];
                var o = (m.y - y) / a;
                m.x < o && (m.x = o)
            }
        } else if (2 == Xa) {
            if (m.dst2XY(Um / 2, Um / 2) > Math.pow(Um / 2, 2)) {
                var h = Math.atan2(m.y - pm / 2, m.x - Um / 2);
                m.x = Um / 2 + Math.cos(h) * Um / 2, m.y = pm / 2 + Math.sin(h) * pm / 2
            }
        }
    }
    function xu(m) {
        if (m) {
            var a = em.slice();
            em = [];
            for (var y = 0; y < a.length; y++) Bh(a[y], !0)
        } else if (em = [], xm > 0)
            for (y = 0; y < Km.length; y++) document.getElementById("skill-plus-" + y).style.display = Km[y] >= ActionsQueue[y] ? "none" : "block", document.getElementById("skill-bar-" + y).innerHTML = Jo('<span class="full"></span>', Km[y]) + Jo("<span></span>", ActionsQueue[y] - Km[y]);
        document.getElementById("upgrade-block").classList.remove("ask-redo")
    }
    function eu() {
        document.getElementById("respawn").style.color = oa ? "white" : "", document.getElementById("respawn").style.backgroundColor = oa ? "rgba(255, 255, 255, 0.2)" : "", document.getElementById("respawn-gm2").style.color = oa ? "white" : "", document.getElementById("respawn-gm2").style.backgroundColor = oa ? "rgba(255, 255, 255, 0.2)" : "", document.getElementById("chat-input").style.color = oa ? "white" : "", document.getElementById("chat-history").style.color = oa ? "white" : "", document.getElementById("chat-history-full").style.color = oa ? "white" : "", document.getElementById("fps").style.color = oa ? "white" : "", document.getElementById("choose-superpower").style.color = oa ? "white" : "", document.getElementById("upgrade-block").style.color = oa ? "white" : "", document.getElementById("countdown").style.color = oa ? "white" : "";
        for (var m = document.getElementsByClassName("bars-bg"), a = 0; a < m.length; a++) m[a].style.backgroundColor = oa ? "rgba(84, 84, 84, 0.7)" : "";
        for (m = document.getElementsByClassName("score-bar"), a = 0; a < m.length; a++) m[a].style.backgroundColor = oa ? "rgba(255, 255, 255, 0.5)" : "";
        for (m = document.getElementsByClassName("xp-bar"), a = 0; a < m.length; a++) m[a].style.backgroundColor = oa ? "rgba(255, 255, 255, 0.5)" : "";
        oa ? document.body.classList.add("dark-theme") : document.body.classList.remove("dark-theme")
    }
    function Ku(m, a, y) {
        var u = Math.pow(y.x - m, 2) + Math.pow(y.y - a, 2);
        if (u < .01 || u > 1) y.x = m, y.y = a;
        else {
            var o = .01 / u;
            y.x = o * y.x + (1 - o) * m, y.y = o * y.y + (1 - o) * a
        }
    }
    function Au(m) {
        var a = 5,
            y = m.getInt16(a);
        a += 2;
        for (var u = {}, o = 0; o < y; o++) {
            var h = m.getInt32(a),
                B = m.getFloat32(a + 4),
                q = m.getFloat32(a + 8),
                d = m.getFloat32(a + 12),
                G = m.getFloat32(a + 16),
                Y = m.getFloat32(a + 20),
                H = m.getUint8(a + 24);
            a += 25, PlayerList[h] || qu(h), u[h] = !0, h != localPlayerInde ? (PlayerList[h].x = B, PlayerList[h].y = q, PlayerList[h].sx = d, PlayerList[h].sy = G, PlayerList[h].rotation = Y, PlayerList[h].superpower = 255 == H ? -1 : H, PlayerList[h].shield.visible = 3 == H, PlayerList[h].shield.visible && PlayerList[h].shield.position.set(B, q)) : (PlayerList[h].sx = d, PlayerList[h].sy = G, PlayerList[h].shield.visible = 3 == H), Ku(B, q, PlayerList[h])
        }
        for (var h in PlayerList)
            if ("ghost" != h && !u[h]) {
                var L = PlayerList[h];
                delete PlayerList[h], z.removeChild(L), S.removeChild(L.usernameText), L.shield && z.removeChild(L.shield), L.badge && S.removeChild(L.badge)
            } if (PlayerList[localPlayerInde])(P = document.getElementById("minimap-position")).style.left = PlayerList[localPlayerInde].x / Um * 100 + "%", P.style.top = PlayerList[localPlayerInde].y / pm * 100 + "%";
        else if (PlayerList[Em]) {
            var P;
            (P = document.getElementById("minimap-position")).style.left = PlayerList[Em].x / Um * 100 + "%", P.style.top = PlayerList[Em].y / pm * 100 + "%"
        }
        if (!sa && (1 == Lm || 2 == Lm || 3 == Lm)) {
            var M = "";
            for (var h in PlayerList) {
                if (h != localPlayerInde && Da[h] == Ra && !Gh) M += '<div class="minimap-position" style="left: ' + PlayerList[h].x / Um * 100 + "%; top: " + PlayerList[h].y / pm * 100 + '%;"></div>'
            }
            document.getElementById("minimap-team-positions").innerHTML = M
        }
    }
    var su = 0;
    var Vu, Su, lu, zu, Eu = ["Can't cross enemy lines", "Can't build: too close from existing dot", "Can't build line so long", "Can't build line on existing dot", "Can't build dot on existing line"],
        Iu = 0;
    function _u(m, a, y) {
        var u = document.getElementById("user-info");
        u && y && (window.document.body.removeChild(u), u = null), u || ((u = document.createElement("div")).setAttribute("class", "user-info"), u.setAttribute("id", "user-info"), window.document.body.appendChild(u)), u.innerHTML = m, oa && (u.style.color = "white"), u.style.opacity = 1, clearTimeout(lu), clearInterval(zu), lu = setTimeout(function () {
            var m = (new Date).getTime();
            zu = setInterval(function () {
                var a = (new Date).getTime() - m;
                a > 500 ? (clearInterval(zu), window.document.body.removeChild(u)) : u.style.opacity = 1 - a / 500
            }, 20)
        }, a)
    }
    function nu(m) {
        var a = document.getElementById("fade-screen");
        a || ((a = document.createElement("div")).setAttribute("id", "fade-screen"), window.document.body.appendChild(a)), anime({
            targets: a,
            opacity: [0, 1],
            easing: "linear",
            duration: 500,
            complete: m
        })
    }
    function Wu(m) {
        var a = document.getElementById("fade-screen");
        a && anime({
            targets: a,
            opacity: [1, 0],
            easing: "linear",
            duration: 500,
            complete: function () {
                window.document.body.removeChild(a), "function" == typeof m && m()
            }
        })
    }
    var wu = [];
    function ku() {
        for (var m = document.getElementById("toasts"), a = "", y = (new Date).getTime(), u = wu.length - 1; u >= 0; u--) {
            if (y - wu[u].t >= 9900) wu.splice(u, 1);
            else a = "<div" + (wu[u].c ? " class=" + wu[u].c : "") + ">" + wu[u].s + "</div>" + a
        }
        m.innerHTML = a
    }
    function Ou(m, a) {
        wu.push({
            t: (new Date).getTime(),
            s: m,
            c: a
        }), ku(), setTimeout(ku, 1e4)
    }
    var Tu = [],
        Qu = [];
    function Cu() {
        for (var m = document.getElementById("chat-history"), a = "", y = (new Date).getTime(), u = Tu.length - 1; u >= 0; u--) {
            if (y - Tu[u].t >= 2e4) Tu.splice(u, 1);
            else a = "<div" + (Tu[u].c ? " class=" + Tu[u].c : "") + ">" + Tu[u].s + "</div>" + a
        }
        m.innerHTML = a
    }
    function iu(m) {
        for (var a = document.getElementById("chat-history-full").scrollHeight - document.getElementById("chat-history-full").scrollTop - document.getElementById("chat-history-full").offsetHeight <= 1, y = document.getElementById("chat-history-full"), u = "", o = 0; o < Qu.length; o++) {
            u += "<div" + (Qu[o].c ? " class=" + Qu[o].c : "") + ">" + Qu[o].s + "</div>"
        }
        y.innerHTML = u, m && a && (document.getElementById("chat-history-full").scrollTop = document.getElementById("chat-history-full").scrollHeight)
    }
    function bu(m, a) {
        for (Tu.push({
                t: (new Date).getTime(),
                s: m,
                c: a
            }); Tu.length > 10;) Tu.splice(0, 1);
        for (Cu(), setTimeout(Cu, 2e4), Qu.push({
                s: m,
                c: a
            }); Qu.length > 100;) Qu.splice(0, 1);
        document.getElementById("chat-block").classList.contains("typing") && iu(!0)
    }
    function gu(m) {
        m = m.substring(0, 255);
        var a = new DataView(new ArrayBuffer(2 + 2 * m.length));
        a.setUint8(0, 10), a.setUint8(1, m.length);
        for (var y = 0; y < m.length; y++) {
            var u = m.charCodeAt(y);
            a.setUint8(2 + 2 * y + 1, 255 & u), a.setUint8(2 + 2 * y + 0, u >>> 8)
        }
        H.send(a.buffer)
    }
    var ru = [];
    var Ru = ["You win! You protected your bomb spots until the end", "You win! All enemies have been killed!", "You win! The bomb exploded", "You win! You defused the bomb", "You lose! You failed to plant the bomb before the countdown", "You lose! All your teammates have been killed", "You lose! You failed to defuse the bomb", "You lose! The enemy defused the bomb"];
    var Du = [];
    function $u() {
        document.getElementById("gm-1v1-continue-spinner").style.display = "inline-block", document.getElementById("gm-1v1-button-continue").style.display = "none", Ry = Xu, !xa && Date.now() - Zm > 12e4 && Jy() ? "undefined" != typeof gtag && gtag("event", "Respawn", {
            event_category: "Click",
            event_label: "VideoAd"
        }) : (Xu(), "undefined" != typeof gtag && gtag("event", "Respawn", {
            event_category: "Click",
            event_label: "NoVideoAd"
        }))
    }
    function Zu() {
        document.getElementById("gm-1v1-lobby").style.display = "block", document.getElementById("chat-block").classList.add("typing"), document.getElementById("chat-block").classList.add("gm-1v1-lobby"), document.getElementById("spectate-1v1-ui").style.display = "none", Om || Tm || (document.getElementById("chat-input").style.display = "none")
    }
    function Xu() {
        var m = document.getElementById("gm-1v1-main"),
            a = {
                v: 1
            };
        anime({
            targets: a,
            v: 0,
            easing: "easeOutQuad",
            duration: 500,
            update: function () {
                m.style.gridTemplateRows = 50 + 50 * a.v + "% 50%"
            },
            complete: function () {
                m.style.gridTemplateRows = "50% 50%", document.getElementById("gm-1v1-continue-spinner").style.display = "none", document.getElementById("gm-1v1-button-continue").style.display = "none", document.getElementById("gm-1v1-button-back").style.display = "inline-block"
            }
        })
    }
    var cu = !1;
    let Ju = 0,
        vu = 0,
        tu = ["name", "kills", "deaths", "statusText"];
    function ju(m) {
        Ju == m ? vu = (vu + 1) % 3 : (Ju = m, vu = 1), Parse1v1Data()
    }
    function Parse1v1Data() {
        let m = [];
        for (var indx in PlayersGiven) {
            m.push(indx);
            var PlayerObjData = PlayersGiven[indx];
            PlayersGiven[indx].statusText = PlayerObjData.challenged ? "Asked" : 0 == PlayerObjData.status ? "Lobby" : "Arena"
        }
        0 != vu && function (m, a, y) {
            m.sort(function (m, u) {
                return "string" == typeof PlayersGiven[m][a] ? PlayersGiven[m][a].localeCompare(PlayersGiven[u][a]) * (y ? 1 : -1) : (PlayersGiven[m][a] - PlayersGiven[u][a]) * (y ? 1 : -1)
            })
        }(m, tu[Ju], 1 == vu);
        let u = document.getElementById("gm-1v1-players-header").getElementsByTagName("th");
        for (let m = 0; m < u.length; m++) u[m].classList = Ju == m && 0 != vu ? 1 == vu ? "sortA" : "sortD" : "";
        for (var o = "", h = 0; h < m.length; h++) {
            let playerID = m[h];
            PlayerObjData = PlayersGiven[playerID];
            o += '<tr id="gm1-player-"+id ' + (playerID == localPlayerInde ? 'class="is-local-player" ' : "") + 'onclick="defly.select1v1Player(' + playerID + ');"><td>' + ey(PlayerObjData.name) + "</td><td>" + PlayerObjData.kills + "</td><td>" + PlayerObjData.deaths + "</td><td>" + PlayerObjData.statusText + "</td></tr>"
        }
        document.getElementById("gm-1v1-players").innerHTML = o
    }
    var pu, fu, Fu = 0,
        Nu = !1;
    function mo() {
        var m = Math.floor(Oa / 60),
            a = Math.ceil(Oa % 60);
        60 == a && (a = 0, m++), document.getElementById("countdown-value").innerHTML = (m > 0 ? "0" + m + ":" : "00:") + (a > 9 ? a : "0" + a)
    }
    function ao(m, a) {
        return m + Math.floor(Math.random() * (a - m))
    }
    var yo = !1;
    var uo = 0;
    function oo(m) {
        var a = m.getInt32(1),
            y = m.getInt32(5),
            u = m.getFloat32(9),
            o = m.getFloat32(13),
            h = m.getUint8(17),
            B = m.getUint8(18),
            q = m.getFloat32(19),
            d = m.getInt32(23),
            G = MaxIndexVal;
        if (GameObjects[a]) 0;
        else {
            var Y = new PIXI.Sprite(E.dot1);
            Y.x = u, Y.y = o, Y.width = 2 * G, Y.height = 2 * G, Y.size = G, Y.anchor.set(.5), Y.owner = y, Y.hp = h, Y.maxHP = B, Y.creationTurn = d, Y.alpha = 1, Y.tint = 1 == Lm || 2 == Lm ? hy(y) : oy(y), La && 1 == y && u >= Pa.x1 && u <= Pa.x2 && o >= Pa.y1 && o <= Pa.y2 && E["tower-kh"] && (Y.texture = E["tower-kh"], Y.tint = 15642415), Y.lines = [], Y.dotId = a, K.addChild(Y), GameObjects[a] = Y, Y.hp != Y.maxHP && (Y.healthBar = So(Y), V.addChild(Y.healthBar), Y.healthBar.outer.width = Y.healthBar.width * Y.hp / Y.maxHP), q > 0 && ho(Y, q), 0 != Lm && 3 != Lm || y != localPlayerInde || (HB = !0)
        }
    }
    function ho(m, a) {
        var y = new PIXI.Sprite(E.shield);
        y.x = m.x, y.y = m.y, y.width = 1.709089011247097 * m.width, y.height = 1.709089011247097 * m.height, y.anchor.set(.5), y.tint = 1 == Lm || 2 == Lm ? hy(m.owner) : oy(m.owner), y.lastAppearTurn = -1e3, y.appearPercent = a, y.state = 0, y.alpha = 0, K.addChild(y), m.shield = y
    }
    function Bo(m, a, y) {
        return 3 == Lm && 0 != y ? "dot" + a + "-" + y : Ta || !Ma || 1 != Lm && 2 != Lm || m == Ra ? !Ta && Ma && 0 == Lm && m != localPlayerInde ? "dot1-enemy" : "dot1" : "dot1-enemy"
    }
    function qo(m) {
        var a = m.getInt32(1),
            y = m.getInt32(5),
            u = m.getInt32(9),
            o = m.getInt32(13),
            h = m.getInt32(17),
            B = m.getInt32(21),
            q = GameObjects[u],
            d = GameObjects[o];
        if (q || console.error("could not find dot", u), d || console.error("could not find dot", o), DotsIng[a]) 0;
        else {
            var G = GetSpriteAndDataForDot(q, d);
            G.lineId = a, G.owner = y, G.tint = 1 == Lm || 2 == Lm ? hy(y) : oy(y), La && 15642415 == q.tint && (G.tint = 15642415), G.dot1 = q, G.dot2 = d, G.leftZoneId = h, G.rightZoneId = B, A.addChild(G), DotsIng[a] = G, c && c.addLine(G, q.position, d.position), G.alpha = 0, anime({
                targets: G,
                alpha: 1,
                duration: 250,
                easing: "linear"
            })
        }
    }
    function Go(m, a, y, u, o, h) {
        return m >= y && m <= u && a >= o && a <= h
    }
    function Yo(m, a, y, u, o, h, B, q) {
        if (m > h) {
            var d = (h - y) / (m - y);
            m = h, a = (a - u) * d + u
        } else if (m < o) {
            d = (o - y) / (m - y);
            m = o, a = (a - u) * d + u
        }
        if (a > q) {
            d = (q - u) / (a - u);
            a = q, m = (m - y) * d + y
        } else if (a < B) {
            d = (B - u) / (a - u);
            a = B, m = (m - y) * d + y
        }
        return {
            x: m,
            y: a
        }
    }
    function Ho(m, a) {
        var y = m.getInt32(1),
            u = m.getInt32(5),
            o = m.getFloat32(9),
            h = m.getInt16(13),
            B = m.byteLength > 15 + 5 * h;
        if (B && ia[y]) {
            for (var q = ia[y], d = 0; d < q.linePath.length; d++) q.linePath[d].leftZoneId == y && (q.linePath[d].leftZoneId = 0), q.linePath[d].rightZoneId == y && (q.linePath[d].rightZoneId = 0);
            s.removeChild(q), delete ia[y], J && J.removeZone(q, q.zoneBounds.minX, q.zoneBounds.maxX, q.zoneBounds.minY, q.zoneBounds.maxY)
        }
        if (ia[y]) 0;
        else {
            var G, Y, H = [],
                L = [];
            for (d = 0; d < h; d++) {
                var P = m.getInt32(15 + 5 * d),
                    M = 0 == m.getUint8(15 + 5 * d + 4);
                DotsIng[P] || console.error("new zone: line not found: " + P);
                var x = DotsIng[P];
                if (H.push(x), M ? x.leftZoneId = y : x.rightZoneId = y, 1 == d) {
                    var e;
                    x.dot1 == G.dot1 || x.dot1 == G.dot2 ? e = x.dot1 : x.dot2 != G.dot1 && x.dot2 != G.dot2 || (e = x.dot2);
                    var K = G.dot1 == e ? G.dot2 : G.dot1;
                    B || (L.push(K.x, K.y), L.push(e.x, e.y)), Y = x.dot1 == e ? x.dot2 : x.dot1
                } else d > 1 && (B || L.push(Y.x, Y.y), Y = x.dot1 != Y ? x.dot1 : x.dot2);
                G = x
            }
            if (B) {
                var A = 15 + 5 * h,
                    V = m.getInt16(A),
                    S = [];
                for (d = 0; d < V; d++) {
                    var l = m.getInt32(A + 2 + 4 * d);
                    GameObjects[l] || console.error("new simplified zone: dot not found: " + l);
                    var z = GameObjects[l].x,
                        E = GameObjects[l].y;
                    L.push(z, E), S.push(GameObjects[l])
                }
                var I = 0,
                    _ = 0,
                    n = Um,
                    W = pm;
                if (m.byteLength >= A + 2 + 4 * V + 16) {
                    I = m.getFloat32(A + 2 + 4 * V), n = m.getFloat32(A + 2 + 4 * V + 4), _ = m.getFloat32(A + 2 + 4 * V + 8), W = m.getFloat32(A + 2 + 4 * V + 12);
                    var w = [],
                        k = L[L.length - 2],
                        O = L[L.length - 1],
                        T = L[0],
                        Q = L[1];
                    for (d = 0; d < L.length / 2; d++) {
                        if (z = T, E = Q, d < L.length / 2 - 1) T = L[2 * (d + 1) + 0], Q = L[2 * (d + 1) + 1];
                        else T = L[0], Q = L[1];
                        var C = Go(k, O, I, n, _, W),
                            i = Go(z, E, I, n, _, W),
                            b = Go(T, Q, I, n, _, W);
                        if (i) w.push(z, E);
                        else if (C || i || b) {
                            if (C) {
                                var g = Yo(z, E, k, O, I, n, _, W);
                                w.push(g.x, g.y)
                            }
                            if (b) {
                                g = Yo(z, E, T, Q, I, n, _, W);
                                w.push(g.x, g.y)
                            }
                        } else w.push(Math.max(I, Math.min(n, z)), Math.max(_, Math.min(W, E)));
                        k = z, O = E
                    }
                    L = w
                }
            }
            if ((q = new PIXI.Graphics).simplified = B, B && (q.simplifiedDotPath = S), q.zoneId = y, q.owner = u, q.linePath = H, q.areaScore = o, q.beginFill(1 == Lm || 2 == Lm ? hy(u) : oy(u), .5), La && H.length > 0 && 15642415 == H[0].tint && q.beginFill(15642415, .5), q.drawPolygon(L), q.endFill(), q.polygon = L, s.addChild(q), ia[y] = q, a && u == localPlayerInde) {
                sm++, th(q.areaScore / 4);
                var r = Math.ceil(q.areaScore / 4);
                if (sm <= 5 || r >= 50) {
                    var R = {
                        x: (q.linePath[0].dot1.x + q.linePath[0].dot2.x) / 2,
                        y: (q.linePath[0].dot1.y + q.linePath[0].dot2.y) / 2
                    };
                    Jh(R.x, R.y, "+" + r)
                }
            }
            a && (q.alpha = 0, anime({
                targets: q,
                alpha: 1,
                duration: 250,
                easing: "linear"
            })), 0 != Lm && 3 != Lm || u != localPlayerInde || (LB = !0)
        }
    }
    function Lo(m, a, y, u) {
        var o = m.getInt32(a),
            h = m.getInt32(a + 4),
            B = m.getFloat32(a + 8),
            q = m.getInt16(a + 12);
        if (a += 14, y && ia[o]) {
            for (var d = ia[o], G = 0; G < d.linePath.length; G++) d.linePath[G].leftZoneId == o && (d.linePath[G].leftZoneId = 0), d.linePath[G].rightZoneId == o && (d.linePath[G].rightZoneId = 0);
            s.removeChild(d), delete ia[o], J && J.removeZone(d, d.zoneBounds.minX, d.zoneBounds.maxX, d.zoneBounds.minY, d.zoneBounds.maxY)
        }
        if (ia[o]) a += 5 * q;
        else {
            var Y, H, L = [],
                P = [];
            for (G = 0; G < q; G++) {
                var M = m.getInt32(a),
                    x = 0 == m.getUint8(a + 4);
                a += 5, DotsIng[M] || console.error("new zone: line not found: " + M);
                var e = DotsIng[M];
                if (L.push(e), x ? e.leftZoneId = o : e.rightZoneId = o, 1 == G) {
                    var K;
                    e.dot1 == Y.dot1 || e.dot1 == Y.dot2 ? K = e.dot1 : e.dot2 != Y.dot1 && e.dot2 != Y.dot2 || (K = e.dot2);
                    var A = Y.dot1 == K ? Y.dot2 : Y.dot1;
                    y || (P.push(A.x, A.y), P.push(K.x, K.y)), H = e.dot1 == K ? e.dot2 : e.dot1
                } else G > 1 && (y || P.push(H.x, H.y), H = e.dot1 != H ? e.dot1 : e.dot2);
                Y = e
            }
            if (y) {
                var V = m.getInt16(a);
                a += 2;
                var S = [];
                for (G = 0; G < V; G++) {
                    var l = m.getInt32(a);
                    a += 4, GameObjects[l] || console.error("new simplified zone: dot not found: " + l);
                    var z = GameObjects[l].x,
                        E = GameObjects[l].y;
                    P.push(z, E), S.push(GameObjects[l])
                }
                var I = m.getFloat32(a),
                    _ = m.getFloat32(a + 4),
                    n = m.getFloat32(a + 8),
                    W = m.getFloat32(a + 12);
                a += 16;
                var w = [],
                    k = P[P.length - 2],
                    O = P[P.length - 1],
                    T = P[0],
                    Q = P[1];
                for (G = 0; G < P.length / 2; G++) {
                    if (z = T, E = Q, G < P.length / 2 - 1) T = P[2 * (G + 1) + 0], Q = P[2 * (G + 1) + 1];
                    else T = P[0], Q = P[1];
                    var C = Go(k, O, I, _, n, W),
                        i = Go(z, E, I, _, n, W),
                        b = Go(T, Q, I, _, n, W);
                    if (i) w.push(z, E);
                    else if (C || i || b) {
                        if (C) {
                            var g = Yo(z, E, k, O, I, _, n, W);
                            w.push(g.x, g.y)
                        }
                        if (b) {
                            g = Yo(z, E, T, Q, I, _, n, W);
                            w.push(g.x, g.y)
                        }
                    } else w.push(Math.max(I, Math.min(_, z)), Math.max(n, Math.min(W, E)));
                    k = z, O = E
                }
                P = w
            }
            if ((d = new PIXI.Graphics).simplified = y, y && (d.simplifiedDotPath = S), d.zoneId = o, d.owner = h, d.linePath = L, d.areaScore = B, d.beginFill(1 == Lm || 2 == Lm ? hy(h) : oy(h), .5), La && L.length > 0 && 15642415 == L[0].tint && d.beginFill(15642415, .5), d.drawPolygon(P), d.endFill(), d.polygon = P, s.addChild(d), ia[o] = d, u && h == localPlayerInde) {
                sm++, th(d.areaScore / 4);
                var r = Math.floor(d.areaScore / 4);
                if (sm <= 10 || r >= 200) {
                    var R = {
                        x: (d.linePath[0].dot1.x + d.linePath[0].dot2.x) / 2,
                        y: (d.linePath[0].dot1.y + d.linePath[0].dot2.y) / 2
                    };
                    Jh(R.x, R.y, "+" + r)
                }
            }
            if (u && (d.alpha = 0, anime({
                    targets: d,
                    alpha: 1,
                    duration: 250,
                    easing: "linear"
                })), 0 != Lm && 3 != Lm || h != localPlayerInde || (LB = !0), J) {
                for (I = P[0], _ = P[0], n = P[1], W = P[1], G = 0; G < P.length / 2; G++) {
                    var D;
                    (D = P[2 * G]) < I ? I = D : D > _ && (_ = D), (D = P[2 * G + 1]) < n ? n = D : D > W && (W = D)
                }
                d.zoneBounds = {
                    minX: I,
                    maxX: _,
                    minY: n,
                    maxY: W
                }, J.addZone(d, I, _, n, W), 3 == Lm && function (m) {
                    for (var a = X.getAllInRect(m.zoneBounds.minX, m.zoneBounds.maxX, m.zoneBounds.minY, m.zoneBounds.maxY), y = 0; y < a.length; y++) {
                        var u = a[y];
                        u.owner != m.owner && Ko(m.polygon, u.position) && Po(u)
                    }
                }(d)
            }
        }
        return a
    }
    function Po(m) {
        m.alpha = .6, m.isCaptured = !0;
        for (var a = 0; a < m.lines.length; a++) m.lines[a].alpha = .6
    }
    function Mo(m) {
        m.alpha = 1, m.isCaptured = !1;
        for (var a = 0; a < m.lines.length; a++) m.lines[a].alpha = 1
    }
    function xo(m) {
        for (var a = J.getAllInRange(m.position, 0, 0), y = 0; y < a.length; y++) {
            var u = a[y];
            m.owner != u.owner && Ko(u.polygon, m.position) && Po(m)
        }
    }
    function eo(m) {
        for (var a = X.getAllInRect(m.zoneBounds.minX, m.zoneBounds.maxX, m.zoneBounds.minY, m.zoneBounds.maxY), y = 0; y < a.length; y++) {
            var u = a[y];
            u.owner != m.owner && Ko(m.polygon, u.position) && Mo(u)
        }
    }
    function Ko(m, a) {
        for (var y = m[m.length - 2], u = m[m.length - 1], o = !1, h = 0; h < m.length; h += 2) {
            var B = m[h],
                q = m[h + 1];
            (q < a.y && u >= a.y || u < a.y && q >= a.y) && B + (a.y - q) / (u - q) * (y - B) < a.x && (o = !o), y = B, u = q
        }
        return o
    }
    function Ao(m) {
        var a = PlayerList[localPlayerInde] || PlayerList[Em] || _;
        if (!a) return console.log("Unkown current position in isDotOutOfView", localPlayerInde, Em), !0;
        var y = Math.floor(a.x / ca),
            u = Math.floor(a.y / ca),
            o = Math.floor(m.x / ca),
            h = Math.floor(m.y / ca),
            B = Math.ceil(fm / 2 / ca),
            q = Math.ceil(Fm / 2 / ca);
        return o < y - B || (o > y + B || (h < u - q || h > u + q))
    }
    function so(m) {
        if (m.shieldAppearAnim) {
            try {
                m.shieldAppearAnim.pause()
            } catch (m) {}
            m.shieldAppearAnim = null
        }
        m.shield.alpha = 1;
        var a = m.shield.width;
        m.dotBlastAnim = anime({
            targets: m.shield,
            width: [a, 1.5 * a],
            height: [a, 1.5 * a],
            alpha: 0,
            duration: 300,
            easing: "linear",
            complete: function () {
                m.shield.width = a, m.shield.height = a, m.dotBlastAnim = null
            }
        })
    }
    function Vo(m, a, y) {
        delete ia[m.zoneId], J && (J.removeZone(m, m.zoneBounds.minX, m.zoneBounds.maxX, m.zoneBounds.minY, m.zoneBounds.maxY), 3 == Lm && a && eo(m)), a ? anime({
            targets: m,
            alpha: 0,
            duration: 250,
            easing: "linear",
            complete: function (m) {
                return function () {
                    s.removeChild(m)
                }
            }(m)
        }) : s.removeChild(m), m.owner == localPlayerInde && a && !y && th(-m.areaScore / 4);
        for (var u = {}, o = 0; o < m.linePath.length; o++) {
            var h = m.linePath[o];
            h.leftZoneId == m.zoneId && (h.leftZoneId = 0), h.rightZoneId == m.zoneId && (h.rightZoneId = 0), a && !y && (h.leftZoneId || h.rightZoneId || (h.dot1.shield && !hB(h.dot1) && (u[h.dot1.dotId] = !0, h.dot1.shield.state = 0, h.dot1.shield.alpha = 0), h.dot2.shield && !hB(h.dot2) && (u[h.dot2.dotId] = !0, h.dot2.shield.state = 0, h.dot2.shield.alpha = 0))), ia[h.leftZoneId] || ia[h.rightZoneId] || Wq || Ao(h.dot1) && Ao(h.dot2) && (A.removeChild(h), delete DotsIng[h.lineId], c && c.removeLine(h, h.dot1.position, h.dot2.position), h.dot1.lines.splice(h.dot1.lines.indexOf(h), 1), h.dot2.lines.splice(h.dot2.lines.indexOf(h), 1), lo(h.dot1), lo(h.dot2))
        }
        for (var B in u) {
            var q = GameObjects[B];
            q && so(q)
        }
    }
    function So(m) {
        var a = new PIXI.Container,
            y = new PIXI.Graphics;
        y.beginFill(32768), y.drawRoundedRect(0, 0, 4 * MaxIndexVal, MaxIndexVal, MaxIndexVal / 4), y.endFill(), a.addChild(y);
        var u = new PIXI.Graphics;
        return u.beginFill(65280), u.drawRoundedRect(0, 0, 4 * MaxIndexVal, MaxIndexVal, MaxIndexVal / 4), u.endFill(), a.addChild(u), a.outer = u, a.position.set(m.position.x - a.width / 2, m.position.y + 1.5 * MaxIndexVal), a
    }
    function lo(m) {
        0 == m.lines.length && Ao(m) && (K.removeChild(m), delete GameObjects[m.dotId], X && X.remove(m, m.position), m.healthBar && V.removeChild(m.healthBar), m.shield && K.removeChild(m.shield), m.text && K.removeChild(m.text))
    }
    function zo(m, a, y, u, o, h, B) {
        m < 0 && (m = 0), a >= T.width && (a = T.width - 1);
        for (var q = 4 * (y * T.width + m), d = 4 * (y * T.width + a), G = q; G <= d; G += 4) T.data[G + 0] = u, T.data[G + 1] = o, T.data[G + 2] = h, T.data[G + 3] = B
    }
    function Eo() {
        T = O.createImageData(k.width, k.height), Q = O.createImageData(k.width, k.height), O.putImageData(T, 0, 0)
    }
    function Io(m, a) {
        if (Gh && a && xa) {
            if (Um > pm) {
                var y = Math.ceil(256 / Um * pm);
                k.width = 256, k.height = y
            } else if (pm > Um) {
                var u = Math.ceil(256 / pm * Um);
                document.getElementById("minimap").style.width = u + "px", k.width = u, k.height = 256
            } else k.width = 256, k.height = 256;
            k.style.transformOrigin = "top left", "256px" != document.getElementById("minimap").style.width && (k.style.transform = "scale(0.375)")
        }
        Eo();
        for (var o = oy(localPlayerInde), h = (16711680 & o) >> 16, B = (65280 & o) >> 8, q = 255 & o, d = 1, G = a ? 7 : 3; d + G <= m.byteLength;) {
            if (a) {
                var Y = m.getInt32(d);
                h = (16711680 & (o = (Bm >= 1 || 2 == Lm) && 1 == Y ? 0 : 1 == Lm || 2 == Lm ? hy(Y) : oy(Y))) >> 16, B = (65280 & o) >> 8, q = 255 & o, d += 4
            }
            var H = m.getUint8(d),
                L = m.getUint8(d + 1),
                P = m.getUint8(d + 2);
            d += 3, zo(L, P, H, h, B, q, 255)
        }
        to && clearTimeout(to), to = setTimeout(function () {
            O.putImageData(T, 0, 0)
        }, 100)
    }
    function _o(m) {
        var a = m.getInt32(1),
            y = m.getInt32(5),
            u = releatedToBullets[y];
        if (GameObjects[a]) {
            var o = GameObjects[a];
            delete GameObjects[a], X && X.remove(o, o.position), K.removeChild(o), ro(1 == Lm || 2 == Lm ? hy(o.owner) : oy(o.owner), o.x, o.y, 6, MaxIndexVal, 2, u ? {
                x: .25 * u.sx,
                y: .25 * u.sy
            } : void 0, 3 == Lm && o.isCaptured ? .6 : 1), o.healthBar && V.removeChild(o.healthBar), o.shield && K.removeChild(o.shield), o.text && K.removeChild(o.text);
            for (var h = 0; h < o.lines.length; h++) {
                var B = o.lines[h];
                delete DotsIng[B.lineId], c && c.removeLine(B, B.dot1.position, B.dot2.position), anime({
                    targets: B,
                    alpha: 0,
                    duration: 250,
                    easing: "linear",
                    complete: function (m) {
                        return function () {
                            A.removeChild(m)
                        }
                    }(B)
                }), B.leftZoneId && ia[B.leftZoneId] && Vo(ia[B.leftZoneId], !0), B.rightZoneId && ia[B.rightZoneId] && Vo(ia[B.rightZoneId], !0);
                var q = B.dot1 == o ? B.dot2 : B.dot1;
                q.lines.splice(q.lines.indexOf(B), 1), lo(q)
            }
        }
        u && (delete releatedToBullets[y], listofBullets.removeChild(u), u.creator == localPlayerInde && Ym < 3 && o && ++Vm <= 10 && Jh(o.x, o.y, "+10"))
    }
    function no(m, a, y) {
        var u = new PIXI.Sprite(E["death-blast"] ? E["death-blast"] : E.shoot);
        u.x = m, u.y = a, u.anchor.set(.5), Ga || (u.tint = 16739353), V.addChild(u), anime({
            targets: u,
            alpha: [1, 0],
            width: [0, 2 * y * 1.2],
            height: [0, 2 * y * 1.2],
            duration: 500,
            easing: "linear",
            complete: function (m) {
                return function () {
                    V.removeChild(m)
                }
            }(u)
        })
    }
    var Wo = !1;
    function wo(m, a, y) {
        var u = new PIXI.Text(m, {
            fontFamily: "Arial",
            fontWeight: "bold",
            fontSize: Math.round(Math.min(window.innerHeight, window.innerWidth) / 30),
            fill: a || 56576,
            align: "center"
        });
        u.anchor.set(.5), u.position.set(window.innerWidth / 2, .1 * window.innerHeight), C.addChild(u), anime({
            targets: u,
            easing: "linear",
            alpha: [1, 0],
            y: .02 * window.innerHeight,
            duration: 2e3,
            complete: function () {
                C.removeChild(u)
            }
        }), y && anime({
            targets: u.scale,
            x: [.5, 1],
            y: [.5, 1],
            easing: "easeOutBack",
            duration: 500
        })
    }
    function ko(m) {
        var a = {},
            y = {},
            u = {};
        for (var o in ia) ia[o].owner == m && (a[o] = !0);
        for (var o in DotsIng) DotsIng[o].owner == m && (y[o] = !0);
        for (var o in GameObjects) GameObjects[o].owner == m && (u[o] = !0);
        for (var o in a) {
            anime({
                targets: ia[o],
                alpha: 0,
                duration: 250,
                easing: "linear",
                complete: function (m) {
                    return function () {
                        s.removeChild(m)
                    }
                }(ia[o])
            });
            var h = ia[o];
            delete ia[o], J && (J.removeZone(h, h.zoneBounds.minX, h.zoneBounds.maxX, h.zoneBounds.minY, h.zoneBounds.maxY), 3 == Lm && eo(h))
        }
        for (var o in y) {
            var B = DotsIng[o];
            anime({
                targets: B,
                alpha: 0,
                duration: 250,
                easing: "linear",
                complete: function (m) {
                    return function () {
                        A.removeChild(m)
                    }
                }(B)
            }), delete DotsIng[o], c && c.removeLine(B, B.dot1.position, B.dot2.position)
        }
        for (var o in u) {
            GameObjects[o].healthBar && V.removeChild(GameObjects[o].healthBar), GameObjects[o].shield && K.removeChild(GameObjects[o].shield), GameObjects[o].text && K.removeChild(GameObjects[o].text), anime({
                targets: GameObjects[o],
                alpha: 0,
                duration: 250,
                easing: "linear",
                complete: function (m) {
                    return function () {
                        K.removeChild(m)
                    }
                }(GameObjects[o])
            });
            var q = GameObjects[o];
            delete GameObjects[o], X && X.remove(q, q.position)
        }
    }
    function Oo(m) {
        return '<span style="font-weight:700;color:' + TB(oy(m)) + '">' + ey(arrayofOk[m]) + (Ma ? " (" + fa[Da[m] - 1] + ")" : "") + "</span>"
    }
    function To(m) {
        var a = m.getInt32(1),
            y = m.getUint8(5),
            u = m.getInt32(6),
            o = 50;
        m.byteLength >= 14 && (o = m.getFloat32(10));
        var h = 0;
        if (m.byteLength >= 18 && (h = m.getInt32(14)), a == localPlayerInde && im++, (1 == y && u == localPlayerInde || 2 == y && h == localPlayerInde || 5 == y && u == localPlayerInde || u == ra) && Cm++, 1 != Lm && 2 != Lm) 3 == Lm && 0 != y || ko(a), a != localPlayerInde && PlayerList[a] && (1 == y ? u == localPlayerInde ? (wo("You killed " + arrayofOk[a] + "!", oa ? 16777215 : xy(oy(localPlayerInde), -.7), !0), bu("<span>You killed </span><span>" + ey(arrayofOk[a]) + "</span><span> (kills: " + Cm + ")</span>", oa ? "info-dark" : "info")) : Ba || bu("<span>" + ey(arrayofOk[a]) + "</span><span> has been killed</span>", oa ? "info-dark" : "info") : 2 == y ? (Ba || bu("<span>" + ey(arrayofOk[a]) + "</span><span> crashed into a wall</span>" + (h == localPlayerInde ? "<span> (you get the kill)</span>" : ""), oa ? "info-dark" : "info"), h == localPlayerInde && wo("You killed " + arrayofOk[a] + "!", oa ? 16777215 : xy(oy(localPlayerInde), -.7), !0)) : 3 == y ? Ba || bu("<span>" + ey(arrayofOk[a]) + "</span><span> died in a collision</span>", oa ? "info-dark" : "info") : 5 == y && (u == localPlayerInde ? (wo("You exploded " + arrayofOk[a] + "!", oa ? 16777215 : xy(oy(localPlayerInde), -.7), !0), bu("<span>You exploded </span><span>" + ey(arrayofOk[a]) + "</span><span> (kills: " + Cm + ")</span>", oa ? "info-dark" : "info")) : Ba || bu("<span>" + ey(arrayofOk[a]) + "</span><span> has been exploded</span>", oa ? "info-dark" : "info")));
        else try {
            1 == y && (Da[a] == Ra || Da[u] == Ra || xa && Gh) ? u == localPlayerInde ? (wo("You killed " + arrayofOk[a] + "!", oa ? 16777215 : xy(oy(localPlayerInde), -.7), !0), bu("<span>You killed </span>" + Oo(a) + "<span> (kills: " + Cm + ")</span>", oa ? "info-dark" : "info")) : Ba || bu(Oo(a) + "<span> has been killed by </span>" + Oo(u), oa ? "info-dark" : "info") : 2 == y && (Da[a] == Ra || h == localPlayerInde || xa && Gh) ? (Ba || bu(Oo(a) + "<span> crashed into a wall</span>" + (h == localPlayerInde ? "<span> (you get the kill)</span>" : ""), oa ? "info-dark" : "info"), h == localPlayerInde && wo("You killed " + arrayofOk[a] + "!", oa ? 16777215 : xy(oy(localPlayerInde), -.7), !0)) : 3 == y && (Da[a] == Ra || xa && Gh) && (Ba || bu(Oo(a) + "<span> died colliding with </span>" + Oo(u), oa ? "info-dark" : "info"))
        } catch (m) {}
        if (!PlayerList[a] || 0 == y || 1 != Lm && 2 != Lm && 3 != Lm || no(PlayerList[a].x, PlayerList[a].y, o), a == localPlayerInde) {
            if (Ym++, "undefined" != typeof Storage) try {
                localStorage.setItem("gamesPlayed", Ym)
            } catch (m) {
                console.log(m)
            }
            switch (Xm.visible = !1, cm.visible = !1, _ = PlayerList[localPlayerInde] ? PlayerList[localPlayerInde].position : {
                x: Um / 2,
                y: pm / 2
            }, n = yisM, !PlayerList[localPlayerInde] || 4 == Lm && 4 == y || (PlayerList[localPlayerInde].visible = !1), y) {
            case 0:
                var B = "The connection with the server has been lost";
                break;
            case 1:
                B = "You were killed by " + (arrayofOk[u] ? ey(arrayofOk[u]) : " an unknown player");
                break;
            case 2:
                var q = arrayofOk[u] ? ey(arrayofOk[u]) : "somebody";
                1 != Lm && 2 != Lm || (q = "Team " + fa[u - 1]);
                B = "You crashed into " + q + "'s wall";
                break;
            case 3:
                B = "You collided with " + (arrayofOk[u] ? ey(arrayofOk[u]) : " an unknown player");
                break;
            case 5:
                B = "You were exploded by " + (arrayofOk[u] ? ey(arrayofOk[u]) : " an unknown player")
            }
            if (4 == Lm) {
                dm = [], I.moving = !1, PlayerList[localPlayerInde].moving = !1, kh[0] = !1, kh[1] = !1, kh[2] = !1, kh[3] = !1, Hm = Y = yisM / 60;
                var d = Math.floor(Y / 60),
                    G = Math.floor(Y % 60);
                document.getElementById("gm-1v1-fight-duration").innerHTML = (d > 0 ? d + " min. " : "") + G + " s", Va = 0
            } else if (2 == Lm) document.getElementById("respawn-kill-reason-gm2").innerHTML = B, document.getElementById("respawn-score-gm2").innerHTML = document.getElementById("lb-player-points").innerHTML, document.getElementById("respawn-kills-gm2").innerHTML = Cm, Cm = 0, document.getElementById("respawn-deaths-gm2").innerHTML = im, document.getElementById("respawn-rounds-won-gm2").innerHTML = bm + "/" + gm;
            else {
                var Y;
                document.getElementById("respawn-kill-reason").innerHTML = B, document.getElementById("respawn-score").innerHTML = document.getElementById("lb-player-points").innerHTML, document.getElementById("respawn-map").innerHTML = document.getElementById("map-control-value").innerHTML + "%", Hm = Y = yisM / 60;
                d = Math.floor(Y / 60), G = Math.floor(Y % 60);
                document.getElementById("respawn-alive").innerHTML = (d > 0 ? d + " min. " : "") + G + " s", document.getElementById("respawn-level").innerHTML = document.getElementById("level-value").innerHTML
            }
            document.getElementById("choose-superpower").style.display = "none", document.getElementById("xp-block").style.display = "none", document.getElementById("upgrade-block").style.display = "none", Wo = !0, setTimeout(function () {
                Gh || 4 != Lm ? Gh || 2 == Lm && 3 == ka || (document.getElementById("respawn" + (2 == Lm ? "-gm2" : "")).style.display = "block") : (nu(function () {
                    document.getElementById("gm-1v1-button-back").style.display = "none", document.getElementById("gm-1v1-button-continue").style.display = "inline-block", document.getElementById("gm-1v1-main").style.gridTemplateRows = "100% 50%", Zu(), document.getElementById("gm-1v1-result").style.display = "block", document.getElementById("gm-1v1-noresult").style.display = "none", iu(), document.getElementById("chat-history-full").scrollTop = document.getElementById("chat-history-full").scrollHeight, Wu()
                }), "undefined" != typeof aiptag && aiptag.cmd.display.push && !gB && Date.now() - $m > 3e4 && (aiptag.cmd.display.push(function () {
                    aipDisplayTag.display("defly-io_300x250")
                }), $m = Date.now())), Wo = !1
            }, 1500), Xm.visible = !1, cm.visible = !1, Uh = null, "undefined" != typeof aiptag && aiptag.cmd.display.push && !gB && (aiptag.cmd.display.push(function () {
                aipDisplayTag.display("defly-io_300x250")
            }), aiptag.cmd.display.push(function () {
                aipDisplayTag.display("defly-io_728x90")
            })), parseInt(document.getElementById("lb-player-points").innerHTML), parseInt(Math.floor(100 * document.getElementById("map-control-value").innerHTML)), Math.floor(Y), document.getElementById("level-value").innerHTML, "undefined" != typeof gtag && (gtag("event", "PlayerKilled", {
                event_category: "Game",
                score: parseInt(document.getElementById("lb-player-points").innerHTML),
                mapPercent: parseInt(Math.floor(100 * document.getElementById("map-control-value").innerHTML)),
                gameDuration: Math.floor(Y)
            }), gtag("set", {
                page_title: "respawn" + (2 == Lm ? "-gm2" : ""),
                page_path: "/respawn" + (2 == Lm ? "-gm2" : "")
            }), gtag("event", "page_view")), document.getElementById("respawn-panel-earnings").style.display = "none", document.getElementById("respawn-panel-earnings-gm2").style.display = "none", document.getElementById("buy-screen").style.display = "none", document.getElementById("game-won") && document.body.removeChild(document.getElementById("game-won"))
        } else a == Em && PlayerList[a] && (_ = PlayerList[a].position);
        4 == Lm && PlayerList[a] && (4 != y && (PlayerList[a].visible = !1, PlayerList[a].usernameText.visible = !1, PlayerList[a].badge && (PlayerList[a].badge.visible = !1)), PlayerList[a].moving = !1, PlayerList[a].sx = 0, PlayerList[a].sy = 0), !PlayerList[a] || 4 == Lm && 4 == y || ro(oy(a), PlayerList[a].x, PlayerList[a].y, 10, .5 * vm, 6), 3 != Lm && 4 != Lm && delete uy[a], 4 == Lm || 1 != y && 5 != y || u != localPlayerInde || !PlayerList[a] || (Jh(PlayerList[a].x, PlayerList[a].y, 2 == Lm ? "+1000" : "+500"), th(500))
    }
    var Qo, Co = !1;
    var io = -1;
    function bo(m) {
        clearTimeout(Qo), io = m;
        var a = new DataView(new ArrayBuffer(5));
        a.setUint8(0, 8), a.setInt32(1, m), H.send(a.buffer), document.getElementById("team-choice-buttons") && (document.getElementById("team-choice-buttons").style.display = "none"), document.getElementById("team-choice-loading").style.display = "block"
    }
    function go() {
        var m = new DataView(new ArrayBuffer(1));
        m.setUint8(0, 9), H.send(m.buffer)
    }
    function ro(m, a, y, u, o, h, B, q) {
        void 0 === q && (q = 1);
        for (var d = B ? Math.atan2(B.y, B.x) : null, G = 0; G < u; G++) {
            var Y = new PIXI.Sprite(E.debris);
            Y.tint = m, Y.alpha = q, Y.width = o, Y.height = o / Y.texture.width * Y.texture.height;
            var H = d ? d + Math.random() * Math.PI - Math.PI / 2 : Math.random() * Math.PI * 2,
                L = Math.random() * vm * h,
                P = Math.random() * Math.PI / 4;
            Y.x = a + Math.cos(H) * vm * .25, Y.y = y + Math.sin(H) * vm * .25, Y.rotation = Math.random() * Math.PI * 2, z.addChild(Y), anime({
                targets: Y,
                x: a + Math.cos(H) * L + (B ? B.x : 0),
                y: y + Math.sin(H) * L + (B ? B.y : 0),
                rotation: Y.rotation + P,
                alpha: 0,
                duration: 2e3,
                easing: "easeOutQuart",
                complete: function (m) {
                    return function () {
                        z.removeChild(m)
                    }
                }(Y)
            })
        }
    }
    function Ro(m) {
        return m.toFixed(2).replace(/[.]?0+$/, "")
    }
    var Do = 0;
    function $o(m) {
        for (var a in releatedToBullets) Zo(releatedToBullets[a], m)
    }
    function Zo(m, a) {
        if (yisM + a <= m.initialTurn) return m.x = m.initialX, void(m.y = m.initialY);
        m.lifetime -= a, m.x += 1 * m.sx / 60 * a, m.y += 1 * m.sy / 60 * a
    }
    function Xo(m, a) {
        var y = m.getInt32(1);
        ia[y] && Vo(ia[y], !0, a)
    }
    function co(packet, a, y) {
        var u = packet.getFloat32(1);
        var o = function (m) {
                return a ? y ? m.x >= u : m.x < u : y ? m.y >= u : m.y < u
            },
            h = {},
            B = {},
            q = {};
        for (var d in ia) {
            var G = !0;
            if ((H = ia[d]).simplified)
                for (var Y = 0; Y < H.simplifiedDotPath.length; Y++) {
                    if (!o(M = H.simplifiedDotPath[Y])) {
                        G = !1;
                        break
                    }
                } else
                    for (Y = 0; Y < H.linePath.length; Y++) {
                        if (!o((L = H.linePath[Y]).dot1) || !o(L.dot2)) {
                            G = !1;
                            break
                        }
                    }
            G && (h[d] = !0)
        }
        for (var d in h) {
            var H = ia[d];
            0, delete ia[d], J && J.removeZone(H, H.zoneBounds.minX, H.zoneBounds.maxX, H.zoneBounds.minY, H.zoneBounds.maxY), s.removeChild(H);
            for (Y = 0; Y < H.linePath.length; Y++) {
                (L = H.linePath[Y]).leftZoneId == H.zoneId && (L.leftZoneId = 0), L.rightZoneId == H.zoneId && (L.rightZoneId = 0), L.leftZoneId || L.rightZoneId || (L.dot1.shield && !hB(L.dot1) && (L.dot1.shield.state = 0, L.dot1.shield.alpha = 0), L.dot2.shield && !hB(L.dot2) && (L.dot2.shield.state = 0, L.dot2.shield.alpha = 0))
            }
        }
        for (var d in DotsIng) {
            var L = DotsIng[d];
            ia[L.leftZoneId] || ia[L.rightZoneId] || o(L.dot1) && o(L.dot2) && (B[L.lineId] = !0)
        }
        for (var d in B) {
            DotsIng[d] || console.error("could not find line ", d);
            L = DotsIng[d];
            delete DotsIng[d], c && c.removeLine(L, L.dot1.position, L.dot2.position), A.removeChild(L), L.dot1.lines.splice(L.dot1.lines.indexOf(L), 1), L.dot2.lines.splice(L.dot2.lines.indexOf(L), 1)
        }
        for (var d in GameObjects) {
            if (0 == (M = GameObjects[d]).lines.length) o(M) && (q[d] = !0);
            else
                for (var P = 0; P < M.lines.length; P++) DotsIng[M.lines[P].lineId] || console.error("dot has removed line", d, M, M.lines[P].lineId)
        }
        for (var d in q) {
            var M = GameObjects[d];
            delete GameObjects[d], X && X.remove(M, M.position), K.removeChild(M), M.healthBar && V.removeChild(M.healthBar), M.shield && K.removeChild(M.shield), M.text && K.removeChild(M.text)
        }
    }
    function Jo(m, a) {
        for (var y = "", u = 0; u < a; u++) y += m;
        return y
    }
    var vo, to, jo, Uo = 0;
    function po() {
        var m = "";
        qy.SUPERPOWER.length >= 1 && qy.SUPERPOWER[0] && Object.keys(qy.SUPERPOWER[0]).length > 0 && (m = xq(qy.SUPERPOWER[0])), qy.SUPERPOWER.length >= 2 && qy.SUPERPOWER[1] && Object.keys(qy.SUPERPOWER[1]).length > 0 && (m += (m.length > 0 ? " or " : "") + xq(qy.SUPERPOWER[1])), document.getElementById("superpower-label").innerHTML = zm ? "Superpower active" : lm >= 100 ? my[Sm] + " ready, " + (Sy ? "double-tap" : "press " + m) : "Recharging Superpower...", document.getElementById("superpower-fuel-value").style.width = Math.min(100, lm) + "%"
    }
    function fo() {
        var m = new DataView(new ArrayBuffer(9));
        m.setUint8(0, 7), m.setFloat32(1, I.aimDirection), m.setFloat32(5, I.aimDistance), H.send(m.buffer)
    }
    function Fo(m) {
        return Mm ? Math.round(m / za) * za + za / 2 * 0 : m
    }
    function No(m) {
        PlayerList[m].parent.removeChild(PlayerList[m]), PlayerList[m].usernameText.parent.removeChild(PlayerList[m].usernameText), PlayerList[m].shield && PlayerList[m].shield.parent.removeChild(PlayerList[m].shield), PlayerList[m].badge && PlayerList[m].badge.parent.removeChild(PlayerList[m].badge);
        var a = PlayerList[m];
        delete PlayerList[m], qu(m), PlayerList[m].position.set(a.x, a.y), PlayerList[m].rotation = a.rotation
    }
    anime.easings.flashbangCurve = function (m) {
        return m < .5 ? anime.easings.easeInQuad(2 * m) / 2 : anime.easings.easeInQuad(2 * (.5 - (m - .5))) + .5
    };
    var mh = [],
        ah = !1;
    function yh() {
        for (var m = 0; m < mh.length; m++) V.removeChild(mh[m].playerText), V.removeChild(mh[m]);
        mh = [], ah = !1
    }
    function uh(m) {
        var a = window.innerWidth / 2,
            y = window.innerHeight / 2,
            u = (m.y - y) / (m.x - a),
            o = u * a,
            h = y / u;
        return -y <= o && o <= y ? m.x > a ? {
            x: window.innerWidth,
            y: y + u * a,
            s: 0
        } : {
            x: 0,
            y: y - u * a,
            s: 2
        } : -a <= h && h <= a ? m.y > y ? {
            x: a + y / u,
            y: window.innerHeight,
            s: 3
        } : {
            x: a - y / u,
            y: 0,
            s: 1
        } : null
    }
    function oh(m) {
        if (_) return _;
        var a = Km[4] / 2;
        !Sy && I.aimDistance > 0 && (a = Math.min(I.aimDistance, a));
        var y = new PIXI.Point((m ? m.x : PlayerList[localPlayerInde].x) + a * Math.cos(I.aimDirection), (m ? m.y : PlayerList[localPlayerInde].y) + a * Math.sin(I.aimDirection));
        return Mu(y), y
    }
    function hh() {
        if (!_) {
            var m = oh();
            if (Wq) {
                for (var a in GameObjects) {
                    var y = GameObjects[a];
                    if (y.owner == Ra)
                        if ((m = oh()).x = Fo(m.x), m.y = Fo(m.y), y.position.dst(m) < MaxIndexVal) {
                            if (Uh && Uh != y)
                                if (!gq(y, Uh))(u = new DataView(new ArrayBuffer(25))).setInt32(1, wq++), u.setInt32(5, y.owner), u.setInt32(9, Uh.dotId), u.setInt32(13, y.dotId), u.setInt32(17, 0), u.setInt32(21, 0), qo(u);
                            return Uh = y, void(Xm.visible = !0)
                        }
                }
                var u = new DataView(new ArrayBuffer(27)),
                    o = wq++;
                if (u.setInt32(1, o), u.setInt32(5, Ra), u.setFloat32(9, Fo(m.x)), u.setFloat32(13, Fo(m.y)), u.setUint8(17, 1), u.setUint8(18, 1), u.setFloat32(19, 0), u.setInt32(23, 0), oo(u), null != Uh)(u = new DataView(new ArrayBuffer(25))).setInt32(1, wq++), u.setInt32(5, Ra), u.setInt32(9, Uh.dotId), u.setInt32(13, o), u.setInt32(17, 0), u.setInt32(21, 0), qo(u);
                Uh = GameObjects[o], Xm.visible = !0, nh = !1
            } else {
                (u = new DataView(new ArrayBuffer(9))).setUint8(0, 3), u.setFloat32(1, m.x), u.setFloat32(5, m.y), H.send(u.buffer), nh = !1
            }
        }
    }
    function Bh(m, a) {
        if (document.getElementById("upgrade-block").classList.contains("ask-redo") && !a && xu(!1), xm <= 0) setTimeout(function () {
            document.getElementById("upgrade-block").style.left = "-264px", document.getElementById("upgrade-block").style.display = "none"
        }, 300);
        else {
            var y = new DataView(new ArrayBuffer(2));
            y.setUint8(0, 5), y.setUint8(1, m), H.send(y.buffer), Km[m] < ActionsQueue[m] && --xm <= 0 && anime({
                targets: "#upgrade-block",
                easing: "easeInQuad",
                left: "-264px",
                duration: 250,
                complete: function () {
                    xm <= 0 && (document.getElementById("upgrade-block").style.left = "-264px", document.getElementById("upgrade-block").style.display = "none")
                }
            }), window.event && window.event.preventDefault()
        }
    }
    function qh() {
        var m = new DataView(new ArrayBuffer(5));
        m.setUint8(0, 4), m.setInt32(1, playerSkin), H.send(m.buffer)
    }
    function dh() {
        document.getElementById("respawn-gm2").style.display = "none", _u((Sy ? "Tap" : "Click") + " anywhere to spectate next player", 1e4)
    }
    var Gh = !1;
    function Yh(m, a) {
        if (H && 1 == H.readyState) {
            a || (a = "");
            var y = new DataView(new ArrayBuffer(3 + 2 * a.length));
            y.setUint8(0, 128), y.setUint8(1, m), Fy(y, 2, a), H.send(y.buffer), Gh = !0
        }
    }
    var Hh = 0;
    function Lh() {
        if (H && 1 == H.readyState && (PlayerList[localPlayerInde] && !_ || Gh)) {
            var m = new DataView(new ArrayBuffer(20));
            m.setUint8(0, 2);
            var a = (I.shooting ? 1 : 0) + (I.moving ? 2 : 0) + (1 == wa ? 4 : 0);
            m.setUint8(1, a), m.setFloat32(2, I.moveDirection), m.setFloat32(6, I.aimDirection), m.setInt16(10, d || 0), m.setFloat32(12, I.aimDistance), H.send(m.buffer), Hh = (new Date).getTime(), qm.push(Hh), dm.push({
                turn: yisM + 60 * (d || 0) / 1e3,
                input: {
                    shooting: I.shooting,
                    moving: I.moving,
                    aimDirection: I.aimDirection,
                    moveDirection: I.moveDirection
                }
            }), Sh = !1
        }
        Wq && dm.push({
            turn: yisM,
            input: {
                shooting: I.shooting,
                moving: I.moving,
                aimDirection: I.aimDirection,
                moveDirection: I.moveDirection
            }
        })
    }
    var Ph, Mh, xh, eh, Kh, Ah, sh, Vh = 0,
        Sh = !1;
    function lh(m) {
        if ((0 != F || Wq) && (4 != Lm || !_)) {
            if (om = m.clientX, hm = m.clientY, PlayerList[localPlayerInde]) {
                var AimDirection = Math.atan2(hm - window.innerHeight / 2, om - window.innerWidth / 2);
                PlayerList[localPlayerInde].rotation = AimDirection, I.aimDirection = AimDirection, I.aimDistance = Math.sqrt(Math.pow(hm - window.innerHeight / 2, 2) + Math.pow(om - window.innerWidth / 2, 2)) / M.scale.x, 1 == Gm && (I.moveDirection = AimDirection + (Oh ? Math.PI : 0), I.moving = !0), ua && (I.moveDirection = I.aimDirection, I.moving = I.aimDistance > 4 * vm);
                var y = (new Date).getTime();
                y - Vh > 20 ? (Lh(), Vh = y) : Sh = !0
            }
            if (Wq) {
                var u = oh();
                document.getElementById("defuse-editor-position").innerHTML = Fo(u.x).toFixed(2) + " " + Fo(u.y).toFixed(2)
            }
        }
    }
    function zh(m) {
        return Math.pow(m.clientX - D.x, 2) + Math.pow(m.clientY - D.y, 2) <= Math.pow(D.width, 2)
    }
    function Eh(m) {
        if (0 != F)
            if (Em && 2 != Lm && 4 != Lm) document.getElementById("respawn" + (2 == Lm ? "-gm2" : "")).style.display = "block";
            else if (4 != Lm || !_)
            if (2 == Lm && _) Ih();
            else {
                var a = (new Date).getTime(),
                    y = 1 * Py;
                if ("touchend" === m.type || "touchcancel" === m.type)
                    for (var u = 0; u < m.changedTouches.length; u++) {
                        var o = m.changedTouches[u];
                        if (Ph && Ph.identifier == o.identifier ? (I.moving = !1, Lh(), b.visible = !1, g.visible = !1, Ph = null) : eh && eh.identifier == o.identifier ? (I.shooting = !1, Lh(), r.visible = !1, R.visible = !1, eh = null) : xh && xh.identifier == o.identifier && (nh = !1, xh = null), Ah && o.identifier == Ah.identifier && a - Ah.time < 250)
                            if ((d = Math.sqrt(Math.pow(Ah.clientX - o.clientX, 2) + Math.pow(Ah.clientY - o.clientY, 2))) < .2 * Py) {
                                if (sh && a - sh.time < 250)
                                    if ((d = Math.sqrt(Math.pow(sh.clientX - o.clientX, 2) + Math.pow(sh.clientY - o.clientY, 2))) < .2 * Py) {
                                        var h = I.aimDirection,
                                            B = I.aimDistance;
                                        I.aimDirection = Math.atan2(o.clientY - window.innerHeight / 2, o.clientX - window.innerWidth / 2), I.aimDistance = Math.sqrt(Math.pow(window.innerWidth / 2 - o.clientX, 2) + Math.pow(window.innerHeight / 2 - o.clientY, 2)) / M.scale.x, fo(), h = I.aimDirection = h, B = I.aimDistance = B
                                    }(sh = {
                                        clientX: o.clientX,
                                        clientY: o.clientY,
                                        identifier: o.identifier
                                    }). time = a
                            }
                    } else if ("touchstart" === m.type)
                        for (u = 0; u < m.changedTouches.length; u++) {
                            o = m.changedTouches[u];
                            if ((Ah = {
                                    clientX: o.clientX,
                                    clientY: o.clientY,
                                    identifier: o.identifier
                                }).time = a, zh(o) && !I.shooting)(a = (new Date).getTime()) - _h > 200 ? (hh(), _h = a) : nh = !0, 3 == Lm && (nh = !0, xh = {
                                clientX: o.clientX,
                                clientY: o.clientY,
                                identifier: o.identifier
                            }), Ah = null;
                            else o.clientX <= window.innerWidth / 2 ? (Ph = {
                                clientX: o.clientX,
                                clientY: o.clientY,
                                identifier: o.identifier
                            }, b.width = y, b.height = y, b.x = Ph.clientX, b.y = Ph.clientY, g.width = y / 2, g.height = y / 2, g.x = Ph.clientX, g.y = Ph.clientY, b.visible = !0, g.visible = !0) : (eh = {
                                clientX: o.clientX,
                                clientY: o.clientY,
                                identifier: o.identifier
                            }, r.width = y, r.height = y, r.x = eh.clientX, r.y = eh.clientY, R.width = y / 2, R.height = y / 2, R.x = eh.clientX, R.y = eh.clientY, r.visible = !0, R.visible = !0)
                        } else if ("touchmove" === m.type)
                            for (u = 0; u < m.changedTouches.length; u++) {
                                o = m.changedTouches[u];
                                if (Ph && o.identifier == Ph.identifier && PlayerList[localPlayerInde]) {
                                    if (Mh = {
                                            clientX: o.clientX,
                                            clientY: o.clientY,
                                            identifier: o.identifier
                                        }, g.x = Mh.clientX, g.y = Mh.clientY, (d = Math.sqrt(Math.pow(Mh.clientX - Ph.clientX, 2) + Math.pow(Mh.clientY - Ph.clientY, 2))) >= .2 * y) {
                                        var q = Math.atan2(Mh.clientY - Ph.clientY, Mh.clientX - Ph.clientX);
                                        I.moveDirection = q, I.moving = !0, (a = (new Date).getTime()) - Vh > 20 ? (Lh(), Vh = a) : Sh = !0, d >= .4 * y && (g.x = b.x + Math.cos(q) * y * .4, g.y = b.y + Math.sin(q) * y * .4, Ph.clientX = o.clientX + Math.cos(q + Math.PI) * Math.min(d, y), Ph.clientY = o.clientY + Math.sin(q + Math.PI) * Math.min(d, y), b.x = Ph.clientX, b.y = Ph.clientY)
                                    }
                                } else if (eh && o.identifier == eh.identifier && PlayerList[localPlayerInde]) {
                                    Kh = {
                                        clientX: o.clientX,
                                        clientY: o.clientY,
                                        identifier: o.identifier
                                    }, R.x = Kh.clientX, R.y = Kh.clientY;
                                    var d = Math.sqrt(Math.pow(Kh.clientX - eh.clientX, 2) + Math.pow(Kh.clientY - eh.clientY, 2));
                                    q = Math.atan2(Kh.clientY - eh.clientY, Kh.clientX - eh.clientX);
                                    I.aimDirection = q, PlayerList[localPlayerInde].rotation = q, I.shooting = !0, (a = (new Date).getTime()) - Vh > 20 ? (Lh(), Vh = a) : Sh = !0, d >= .4 * y && (R.x = r.x + Math.cos(q) * y * .4, R.y = r.y + Math.sin(q) * y * .4)
                                }
                            }
                m.preventDefault()
            }
    }
    function Ih(m, a) {
        var y = new DataView(new ArrayBuffer(2 + (m ? 4 : 0)));
        y.setUint8(0, 12), y.setUint8(1, a ? 1 : 0), m && y.setInt32(2, m), H.send(y.buffer)
    }
    var _h = 0,
        nh = !1;
    function Wh(m) {
        Gh || !_ || Wo || 2 == Lm || 4 == Lm || (document.getElementById("respawn").style.display = "block"), (0 != F || Wq) && (4 == Lm && _ || (2 == Lm && _ ? Ih() : (void 0 !== _q[m.button] && (bh(_q[m.button]), m.preventDefault()), window.focus())))
    }
    function wh(m) {
        (0 != F || Wq) && (4 == Lm && _ || void 0 !== _q[m.button] && gh(_q[m.button]))
    }
    var kh = [!1, !1, !1, !1],
        Oh = !1,
        Th = !1,
        Qh = !1;
    function Ch() {
        if ((Gh || PlayerList[localPlayerInde]) && 1 != Gm)
            if (kh[0] || kh[1] || kh[2] || kh[3]) {
                var m = 0,
                    a = 0;
                kh[0] ? a -= 1 : kh[1] && (a += 1), kh[2] ? m -= 1 : kh[3] && (m += 1);
                var y = Math.atan2(a, m);
                I.moving && I.moveDirection == y || (I.moving = !0, I.moveDirection = y, Lh()), Gh && (Em = 0)
            } else I.moving = !1, Lh()
    }
    var ih = !1;
    function bh(m) {
        switch (m) {
        case "MUP":
            kh[0] = !0, Ch();
            break;
        case "MDOWN":
            kh[1] = !0, Ch();
            break;
        case "MLEFT":
            kh[2] = !0, Ch();
            break;
        case "MRIGHT":
            kh[3] = !0, Ch();
            break;
        case "TLEFT":
            Th = !0;
            break;
        case "TRIGHT":
            Qh = !0;
            break;
        case "SHOOT":
            I.shooting = !0, Lh(), Xm.visible = !1;
            break;
        case "BUILD":
            if (!ih && !I.shooting) {
                ih = !0;
                var a = (new Date).getTime();
                a - _h > 200 ? (hh(), _h = a) : nh = !0, 3 == Lm && (nh = !0)
            }
            break;
        case "SUPERPOWER":
            zm || fo()
        }
    }
    function gh(m) {
        switch (m) {
        case "MUP":
            kh[0] = !1, Ch();
            break;
        case "MDOWN":
            kh[1] = !1, Ch();
            break;
        case "MLEFT":
            kh[2] = !1, Ch();
            break;
        case "MRIGHT":
            kh[3] = !1, Ch();
            break;
        case "TLEFT":
            Th = !1;
            break;
        case "TRIGHT":
            Qh = !1;
            break;
        case "SHOOT":
            if (I.shooting = !1, Lh(), Xm.visible = !!Uh, Wq)
                for (var a in Uh = null, Xm.visible = !1, GameObjects) {
                    var y = GameObjects[a],
                        u = oh();
                    if (u.x = Fo(u.x), u.y = Fo(u.y), y.position.dst(u) < MaxIndexVal) {
                        var o = new DataView(new ArrayBuffer(9));
                        return o.setInt32(1, y.dotId), o.setInt32(5, 0), void _o(o)
                    }
                }
            break;
        case "BUILD":
            ih = !1, 3 == Lm && (nh = !1);
            break;
        case "MOVEWMOUSE":
            ya && (Rh++, ua = !ua, ch(), I.moving = !1, Lh(), Rh < 4 && _u("Move with mouse " + (ua ? "ENABLED" : "DISABLED") + (qy.MOVEWMOUSE.length > 0 && qy.MOVEWMOUSE[0] && Object.keys(qy.MOVEWMOUSE[0]).length > 0 ? " (shortcut: " + xq(qy.MOVEWMOUSE[0]) + ")" : ""), 2e3));
            break;
        case "TEAMMATES":
            1 != Lm && 2 != Lm || (ah ? yh() : (yh(), ah = !0))
        }
    }
    function rh(m) {
        if (m.isTrusted && m instanceof KeyboardEvent && (0 != F || Wq) && (4 != Lm || !_)) {
            var a = "string" == typeof m.code && m.code.length > 0,
                y = document.getElementById("chat-input");
            if (!(y && document.activeElement == y)) {
                if (a && Eq[m.code]) bh(Eq[m.code]);
                else if (a && "Digit1" == m.code || !a && 49 == m.keyCode) Bh(0);
                else if (a && "Digit2" == m.code || !a && 50 == m.keyCode) Bh(1);
                else if (a && "Digit3" == m.code || !a && 51 == m.keyCode) Bh(2);
                else if (a && "Digit4" == m.code || !a && 52 == m.keyCode) Bh(3);
                else if (a && "Digit5" == m.code || !a && 53 == m.keyCode) Bh(4);
                else if (a && "Digit6" == m.code || !a && 54 == m.keyCode) Bh(5);
                else if (a && "Digit7" == m.code || !a && 55 == m.keyCode) Bh(6);
                else if (66 == m.keyCode) {
                    (u = document.getElementById("xp-block")).style.opacity && 1 != u.style.opacity ? 0 == u.style.opacity ? u.style.opacity = 1 : .5 == u.style.opacity && (u.style.opacity = 0) : u.style.opacity = .5
                } else if (76 == m.keyCode) {
                    var u;
                    (u = document.getElementById("leaderboard-block")).style.opacity && 1 != u.style.opacity ? 0 == u.style.opacity ? u.style.opacity = 1 : .5 == u.style.opacity && (u.style.opacity = 0) : u.style.opacity = .5
                } else if (73 == m.keyCode) document.getElementById("settings-popup").style.display = "block" == document.getElementById("settings-popup").style.display ? "none" : "block";
                else if (!(9 == m.keyCode || m.keyCode >= 65 && m.keyCode <= 90 || 60 == m.keyCode)) return;
                _ || m.preventDefault()
            }
        }
    }
    var Rh = 0;
    function Dh(m) {
        if (m.isTrusted && m instanceof KeyboardEvent) {
            var a = 4 == Lm && !!_;
            if (0 != F || Wq || a) {
                var y = document.getElementById("chat-input"),
                    u = y && document.activeElement == y,
                    o = "string" == typeof m.code && m.code.length > 0;
                if (a) 13 == m.keyCode && (u ? (y.value.length > 0 && gu(y.value), y.value = "", y.blur()) : $h());
                else if (u) 13 == m.keyCode && (y.value.length > 0 && gu(y.value), y.value = "", y.blur(), document.getElementById("chat-block").classList.remove("typing"));
                else if (o && Eq[m.code]) gh(Eq[m.code]);
                else if (Gh && (o && "KeyJ" == m.code || !o && 74 == m.keyCode)) {
                    var h = document.getElementById("xp-block");
                    h.style.display = "block" == h.style.display ? "none" : "block", h.getElementsByClassName("xp-bar")[0].style.display = "none", h.getElementsByClassName("text")[1].style.display = "none";
                    for (var B = "", q = 0; q < Za; q++) {
                        var d = ja[q + (Bm >= 1 ? 1 : 0)];
                        16252714 == d && (d = 13817893);
                        var G = xy(d, .2);
                        B += '<div class="bar" id="map-control-bar-team-' + ((Bm >= 1 ? 1 : 0) + q) + '" style="background: linear-gradient(to bottom, ' + TB(d) + ", " + TB(G) + ');"></div>'
                    }
                    document.getElementById("score-bars").innerHTML = B
                } else if (Gh && (o && "KeyI" == m.code || !o && 73 == m.keyCode)) {
                    var Y = document.getElementById("fps");
                    Y.style.display = "block" == Y.style.display ? "none" : "block"
                } else if (Gh && (o && "KeyO" == m.code || !o && 79 == m.keyCode)) Yh(2);
                else if (Gh && (o && "KeyR" == m.code || !o && 82 == m.keyCode)) Yh(5);
                else if (Gh && (o && "KeyT" == m.code || !o && 84 == m.keyCode)) clearInterval(Yu), Yu = null;
                else if (Gh && (o && "KeyY" == m.code || !o && 89 == m.keyCode)) clearInterval(Hu);
                else if (Gh && (o && "KeyN" == m.code || !o && 78 == m.keyCode)) Yh(6);
                else if (Gh && (o && 77 == m.keyCode || !o && 77 == m.keyCode)) "none" == k.style.transform ? (document.getElementById("minimap").style.width = .375 * k.width + "px", document.getElementById("minimap").style.height = .375 * k.height + "px", k.style.transform = "scale(0.375)") : (document.getElementById("minimap").style.width = k.width + "px", document.getElementById("minimap").style.height = k.height + "px", k.style.transform = "none");
                else if (Gh && (o && 70 == m.keyCode || !o && 70 == m.keyCode)) {
                    var H = Math.min(window.innerWidth, window.innerHeight) - 32;
                    document.getElementById("minimap").style.width = H + "px", document.getElementById("minimap").style.height = H / k.width * k.height + "px", k.style.transform = "scale(" + H / 256 + ")"
                } else if (Gh && (o && "KeyH" == m.code || !o && 72 == m.keyCode)) document.getElementById("admin-player-list") ? document.body.removeChild(document.getElementById("admin-player-list")) : Yh(8);
                else {
                    13 == m.keyCode ? $h() : "KeyP" == m.code ? (_u("grid version = " + (Xh = (Xh + 1) % 2), 3e3), ch()) : "KeyO" != m.code || Wq || _u("interpolation = " + (MB = !MB), 3e3)
                }
            }
        }
    }
    function $h() {
        var m = document.getElementById("chat-input");
        if (!ha && (1 == Lm || 2 == Lm || 4 == Lm || Gh)) {
            if (!Om && !Tm) return void bu("Chat is disabled for anonymous players. Sign-in with an account to use the chat.", oa ? "info-dark" : "info");
            iu(), document.getElementById("chat-block").classList.add("typing"), document.getElementById("chat-history-full").scrollTop = document.getElementById("chat-history-full").scrollHeight, m.focus(), kh = [!1, !1, !1, !1], Ch(), 4 == Lm && document.getElementById("chat-block").classList.contains("gm-1v1-lobby") && anime.timeline({
                targets: "#chat-input",
                delay: 200,
                duration: 0,
                easing: "linear",
                loop: 2
            }).add({
                targets: "#chat-input",
                backgroundColor: "#b4d9fc"
            }).add({
                targets: "#chat-input",
                backgroundColor: "rgba(180, 217, 252, 0)"
            })
        }
    }
    function Zh(m) {}
    var Xh = 0;
    function ch() {
        P.resize(window.innerWidth, window.innerHeight), ma = fm, aa = Fm;
        var m = window.innerWidth / window.innerHeight;
        if (ma < aa * m ? aa = ma / m : ma = aa * m, Sy && (Py = Math.min(Ly().dpcm(), window.innerHeight / 6), ma *= .75, aa *= .75, D && (D.width = 1 * Py, D.height = 1 * Py, D.x = window.innerWidth - .75 * Py, D.y = window.innerHeight - .75 * Py, D.visible = !0)), 0 != F || Wq) {
            var a = PlayerList[localPlayerInde] || PlayerList[Em] || _;
            if (a) {
                var y = a.x - ma / 2,
                    u = a.y - aa / 2,
                    o = window.innerWidth / ma,
                    h = window.innerHeight / aa;
                M.setTransform(-y * o, -u * h, o, h, 0, 0, 0, 0, 0)
            }
            x.removeChildren();
            var B = 1 / o;
            if (B <= 1) {
                var q = Math.round(za / B) * B;
                q <= 0 && (q = 1e-6);
                var d = Math.floor(window.innerWidth / q / o) + 2,
                    G = Math.floor(window.innerHeight / q / h) + 2;
                if (0 == Xh) {
                    for (var Y = 0; Y <= d; Y++) {
                        (H = new PIXI.Sprite(E.gridpixel)).width = 1 / o, H.height = Math.min(pm, G * q), H.x = Y * q, H.y = 0, H.x <= Um && x.addChild(H), 0 != Xa || 0 != Y && Y != d && H.x != Um ? H.tint = oa ? 2236962 : 14540253 : H.tint = 4473924
                    }
                    for (Y = 0; Y <= G; Y++) {
                        var H;
                        (H = new PIXI.Sprite(E.gridpixel)).width = Math.min(Um, d * q), H.height = 1 / h, H.x = 0, H.y = Y * q, H.y <= pm && x.addChild(H), 0 != Xa || 0 != Y && Y != G && H.y != pm ? H.tint = oa ? 2236962 : 14540253 : H.tint = 4473924
                    }
                    var L = x.children[0];
                    x.removeChild(L), x.addChild(L)
                } else if (1 == Xh) {
                    var K = new PIXI.Graphics;
                    for (Y = 0; Y <= d; Y++) 0 != Xa || 0 != Y && Y != d ? K.lineStyle(1 / o / 2 / 2, oa ? 4473924 : 8947848) : K.lineStyle(1 / o, oa ? 8947848 : 4473924), K.moveTo(Y * q, 0).lineTo(Y * q, G * q);
                    for (Y = 0; Y <= G; Y++) 0 != Xa || 0 != Y && Y != G ? K.lineStyle(1 / o / 2 / 2, oa ? 4473924 : 8947848) : K.lineStyle(1 / o, oa ? 8947848 : 4473924), K.moveTo(0, Y * q).lineTo(d * q, Y * q);
                    x.addChild(K)
                }
            }
            if (0 == Xa) e.removeChildren();
            else if (1 == Xa) {
                e.removeChildren(), (A = new PIXI.Graphics).lineStyle(1 / o, 4473924, 1, .5), A.moveTo(0, pm / 2).lineTo(Um / 4, 0).lineTo(3 * Um / 4, 0).lineTo(Um, pm / 2).lineTo(3 * Um / 4, pm).lineTo(Um / 4, pm).lineTo(0, pm / 2), e.addChild(A)
            } else if (2 == Xa) {
                var A;
                e.removeChildren(), (A = new PIXI.Graphics).lineStyle(1 / o, 4473924, 1, .5), A.drawEllipse(Um / 2, pm / 2, Um / 2, pm / 2), e.addChild(A)
            }
            for (Y = 0; Y < S.children.length; Y++) S.children[Y] instanceof PIXI.Text && (S.children[Y].scale.set(1 / M.scale.x), S.children[Y].style.fontSize = Math.round(window.innerHeight / 60));
            Z && i.removeChild(Z), ua && ((Z = new PIXI.Sprite(E.shoot)).width = 4 * vm * 2 * M.scale.x, Z.height = 4 * vm * 2 * M.scale.y, Z.tint = oa ? 16777215 : 0, Z.alpha = .1, Z.anchor.set(.5), Z.position.set(window.innerWidth / 2, window.innerHeight / 2), i.addChild(Z))
        }
    }
    function Jh(m, a, y) {
        var u = new PIXI.Text(y, {
            fontFamily: "Arial",
            fontSize: 26,
            fontWeight: 700,
            fill: oa ? 16777215 : xy(oy(localPlayerInde), -.7),
            align: "center"
        });
        u.x = m, u.y = a, u.anchor.set(.5), u.scale.set(.03), K.addChild(u), anime({
            targets: u,
            y: a - 5,
            alpha: {
                value: 0,
                easing: "easeInQuad"
            },
            easing: "linear",
            duration: 1e3,
            complete: function (m) {
                return function () {
                    K.removeChild(m)
                }
            }(u)
        })
    }
    function vh() {}
    function th(m) {
        m
    }
    function jh(m) {
        for (; m < 2 * Math.PI;) m += 2 * Math.PI;
        for (; m > 2 * Math.PI;) m -= 2 * Math.PI;
        return m
    }
    var Uh = null;
    function ph(m, a, y) {
        this.gridSize = y;
        var u = Math.ceil((m + 1) / y),
            o = Math.ceil((a + 1) / y);
        this.grid = [];
        for (var h = 0; h < u; h++) {
            this.grid[h] = [];
            for (var B = 0; B < o; B++) this.grid[h][B] = new Set
        }
    }
    function fh(m, a, y, u) {
        var o = 0,
            h = Math.abs(y - m),
            B = Math.abs(u - a),
            q = 2 * h,
            d = 2 * B,
            G = m < y ? 1 : -1,
            Y = a < u ? 1 : -1,
            H = m,
            L = a,
            P = [];
        if (h >= B)
            for (; P.push(H, L), H != y;) H += G, (o += d) > h && (L += Y, o -= q);
        else
            for (; P.push(H, L), L != u;) L += Y, (o += q) > B && (H += G, o -= d);
        return P
    }
    function Fh(m, a, y, u, o) {
        var h = (y.x - m.x) * (a.x - m.x) + (y.y - m.y) * (a.y - m.y),
            B = m.dst(a);
        if ((h /= B * B) < 0) var q = new PIXI.Point(m.x, m.y);
        else if (h > 1) q = new PIXI.Point(a.x, a.y);
        else {
            var d = new PIXI.Point(a.x, a.y).sub(m);
            q = new PIXI.Point(m.x, m.y).add(d.scl(h))
        }
        return (B = q.dst(y)) < u ? (o.copy(q), o.sub(y).nor(), u - B) : 1 / 0
    }
    function Nh(m, a) {
        var y = new PIXI.Point;
        m.lastX = m.x, m.lastY = m.y;
        var u = a ? (1 + .3 * Km[0] / 8) * (1 == Sm && zm ? 1.5 : 1) : 1;
        if (m.moving) m.sx += Math.cos(m.moveDirection) * Ia * u * 1 / 60, m.sy += Math.sin(m.moveDirection) * Ia * u * 1 / 60;
        else {
            var o = Math.sqrt(m.sx * m.sx + m.sy * m.sy),
                h = Math.atan2(m.sy, m.sx) + Math.PI;
            m.sx += Math.cos(h) * Math.min(o, _a * u * 1 / 60), m.sy += Math.sin(h) * Math.min(o, _a * u * 1 / 60)
        }
        var B = Math.sqrt(m.sx * m.sx + m.sy * m.sy),
            q = Ea * u;
        if (B > q) {
            h = Math.atan2(m.sy, m.sx);
            m.sx = Math.cos(h) * q, m.sy = Math.sin(h) * q
        }
        if (m.x += 1 * m.sx / 60, m.y += 1 * m.sy / 60, Mu(m.position), m.moving && (Bm >= 1 || 2 == Lm) && 1 != Da[m.playerId])
            for (var d in DotsIng) {
                var G = DotsIng[d];
                if (1 == G.owner) {
                    var Y = Fh(G.dot1.position, G.dot2.position, m.position, vm / Ja * na, y);
                    if (isFinite(Y)) {
                        m.x = m.lastX + y.x * Wa * -.25, m.y = m.lastY + y.y * Wa * -.25;
                        break
                    }
                }
            }
    }
    function mB(m, a, y) {
        return (m.x - a.x) * (y.y - a.y) - (m.y - a.y) * (y.x - a.x)
    }
    function aB(m, a) {
        if (m.position.dst(a.position) < MaxIndexVal + jm && a.shield && 1 == a.shield.state && m.lastPosition) {
            var y = function (m, a, y, u) {
                var o = a.x - m.x,
                    h = a.y - m.y,
                    B = y.x - m.x,
                    q = y.y - m.y,
                    d = o * o + h * h,
                    G = (o * B + h * q) / d,
                    Y = G * G - (B * B + q * q - u * u) / d;
                if (Y < 0) return null;
                var H = Math.sqrt(Y),
                    L = -G + H,
                    P = -G - H,
                    M = new PIXI.Point(m.x - o * L, m.y - h * L);
                return M.dst(m) <= m.dst(a) ? M : 0 == Y ? (console.error("error getCircleSegmentIntersectionPoint", m, a, y, u), null) : (M.set(m.x - o * P, m.y - h * P), M)
            }(m.lastPosition, m.position, a.position, MaxIndexVal + jm);
            if (y) {
                var u = m.position.cpy().sub(m.lastPosition),
                    o = a.position.cpy().sub(y).nor(),
                    h = u.cpy().sub(o.cpy().scl(2 * u.dot(o))),
                    B = m.position.cpy();
                m.position.set(y.x, y.y), m.position.add(h.nor().scl(y.dst(B)));
                var q = Math.sqrt(m.sx * m.sx + m.sy * m.sy);
                return h.nor().scl(q), m.sx = h.x, m.sy = h.y, (Ya || Ha) && (m.rotation = Math.atan2(m.sy, m.sx)), !0
            }
        }
        return !1
    }
    ph.prototype.add = function (m, a) {
        this.grid[Math.floor(a.x / this.gridSize)][Math.floor(a.y / this.gridSize)].add(m)
    }, ph.prototype.addLine = function (m, a, y) {
        for (var u = fh(Math.floor(a.x / this.gridSize), Math.floor(a.y / this.gridSize), Math.floor(y.x / this.gridSize), Math.floor(y.y / this.gridSize)), o = 0; o < u.length; o += 2) this.grid[u[o]][u[o + 1]].add(m)
    }, ph.prototype.addZone = function (m, a, y, u, o) {
        for (var h = Math.floor(a / this.gridSize), B = Math.floor(u / this.gridSize), q = Math.floor(y / this.gridSize), d = Math.floor(o / this.gridSize), G = h; G <= q; G++)
            for (var Y = B; Y <= d; Y++) this.grid[G][Y].add(m)
    }, ph.prototype.remove = function (m, a) {
        this.grid[Math.floor(a.x / this.gridSize)][Math.floor(a.y / this.gridSize)].delete(m)
    }, ph.prototype.removeLine = function (m, a, y) {
        for (var u = fh(Math.floor(a.x / this.gridSize), Math.floor(a.y / this.gridSize), Math.floor(y.x / this.gridSize), Math.floor(y.y / this.gridSize)), o = 0; o < u.length; o += 2) this.grid[u[o]][u[o + 1]].delete(m)
    }, ph.prototype.removeZone = function (m, a, y, u, o) {
        for (var h = Math.floor(a / this.gridSize), B = Math.floor(u / this.gridSize), q = Math.floor(y / this.gridSize), d = Math.floor(o / this.gridSize), G = h; G <= q; G++)
            for (var Y = B; Y <= d; Y++) this.grid[G][Y].delete(m)
    }, ph.prototype.update = function (m, a, y) {
        var u = Math.floor(a.x / this.gridSize),
            o = Math.floor(a.y / this.gridSize),
            h = Math.floor(y.x / this.gridSize),
            B = Math.floor(y.y / this.gridSize);
        u == h && o == B || (this.grid[u][o].delete(m), this.grid[h][B].add(m))
    }, ph.prototype.getAllInRange = function (m, a, y) {
        for (var u = new Set, o = Math.floor(m.x / this.gridSize), h = Math.floor(m.y / this.gridSize), B = -a; B <= a; B++)
            for (var q = -y; q <= y; q++) o + B >= 0 && o + B < this.grid.length && h + q >= 0 && h + q < this.grid[0].length && this.grid[o + B][h + q].forEach(function (m) {
                u.add(m)
            });
        var d = [];
        return u.forEach(function (m) {
            d.push(m)
        }), d
    }, ph.prototype.getAllInRect = function (m, a, y, u) {
        for (var o = new Set, h = Math.floor(m / this.gridSize), B = Math.floor(y / this.gridSize), q = Math.floor(a / this.gridSize), d = Math.floor(u / this.gridSize), G = h; G <= q; G++)
            for (var Y = B; Y <= d; Y++) this.grid[G][Y].forEach(function (m) {
                o.add(m)
            });
        var H = [];
        return o.forEach(function (m) {
            H.push(m)
        }), H
    }, PIXI.ObservablePoint.prototype.dst = function (m) {
        var a = m.x - this.x,
            y = m.y - this.y;
        return Math.sqrt(a * a + y * y)
    }, PIXI.ObservablePoint.prototype.dst2 = function (m) {
        var a = m.x - this.x,
            y = m.y - this.y;
        return a * a + y * y
    }, PIXI.ObservablePoint.prototype.dst2XY = function (m, a) {
        var y = m - this.x,
            u = a - this.y;
        return y * y + u * u
    }, PIXI.ObservablePoint.prototype.sub = function (m) {
        return this.x -= m.x, this.y -= m.y, this
    }, PIXI.ObservablePoint.prototype.add = function (m) {
        return this.x += m.x, this.y += m.y, this
    }, PIXI.ObservablePoint.prototype.scl = function (m) {
        return this.x *= m, this.y *= m, this
    }, PIXI.ObservablePoint.prototype.len = function (m) {
        return Math.sqrt(this.x * this.x + this.y * this.y)
    }, PIXI.ObservablePoint.prototype.len2 = function (m) {
        return this.x * this.x + this.y * this.y
    }, PIXI.ObservablePoint.prototype.nor = function () {
        var m = this.len2();
        return 0 == m || 1 == m ? this : this.scl(1 / Math.sqrt(m))
    }, PIXI.ObservablePoint.prototype.cpy = function () {
        return new PIXI.Point(this.x, this.y)
    }, PIXI.ObservablePoint.prototype.rotate90 = function (m) {
        var a = this.x;
        return m >= 0 ? (this.x = -this.y, this.y = a) : (this.x = this.y, y = -a), this
    }, PIXI.ObservablePoint.prototype.dot = function (m) {
        return this.x * m.x + this.y * m.y
    }, PIXI.Point.prototype.dst = PIXI.ObservablePoint.prototype.dst, PIXI.Point.prototype.dst2 = PIXI.ObservablePoint.prototype.dst2, PIXI.Point.prototype.dst2XY = PIXI.ObservablePoint.prototype.dst2XY, PIXI.Point.prototype.sub = PIXI.ObservablePoint.prototype.sub, PIXI.Point.prototype.add = PIXI.ObservablePoint.prototype.add, PIXI.Point.prototype.scl = PIXI.ObservablePoint.prototype.scl, PIXI.Point.prototype.len = PIXI.ObservablePoint.prototype.len, PIXI.Point.prototype.len2 = PIXI.ObservablePoint.prototype.len2, PIXI.Point.prototype.nor = PIXI.ObservablePoint.prototype.nor, PIXI.Point.prototype.cpy = PIXI.ObservablePoint.prototype.cpy, PIXI.Point.prototype.rotate90 = PIXI.ObservablePoint.prototype.rotate90, PIXI.Point.prototype.dot = PIXI.ObservablePoint.prototype.dot;
    var yB = new PIXI.Point;
    function uB(m, a) {
        var y = function (m, a, y, u, o) {
            var h = (y.x - m.x) * (a.x - m.x) + (y.y - m.y) * (a.y - m.y),
                B = m.dst(a);
            if ((h /= B * B) < 0 || h > 1) return 1 / 0;
            var q = new PIXI.Point(a.x, a.y).sub(m),
                d = new PIXI.Point(m.x, m.y).add(q.scl(h));
            return (B = d.dst(y)) < u ? (o.copy(y), o.sub(d).nor(), B) : 1 / 0
        }(a.dot1.position, a.dot2.position, m.position, jm, yB);
        if (isFinite(y) && m.lastPosition) {
            var u = m.position.cpy().sub(m.lastPosition);
            if (Math.sign(mB(m.position, a.dot1.position, a.dot2.position)) != Math.sign(mB(m.lastPosition, a.dot1.position, a.dot2.position)) && yB.scl(-1), u.dot(yB) < 0) {
                var o = a.dot2.position.cpy().sub(a.dot1.position).rotate90(1).nor(),
                    h = u.cpy().sub(o.cpy().scl(2 * u.dot(o)));
                m.position.sub(u.scl(y / MaxIndexVal)).add(h.cpy().scl(MaxIndexVal - y / MaxIndexVal));
                var B = Math.sqrt(m.sx * m.sx + m.sy * m.sy);
                return h.nor().scl(B), m.sx = h.x, m.sy = h.y, (Ya || Ha) && (m.rotation = Math.atan2(m.sy, m.sx)), !0
            }
        }
        return !1
    }
    function oB(m, a) {
        var y = new PIXI.Point;
        if (m)
            for (var u in PlayerList)
                if (u != localPlayerInde) {
                    var o = PlayerList[u];
                    if (o.lastX = o.x, o.lastY = o.y, o.x += 1 * o.sx / 60, o.y += 1 * o.sy / 60, Mu(o.position), 2 == Lm && (0 != o.sx || 0 != o.sy))
                        for (var h in DotsIng) {
                            if (1 == (L = DotsIng[h]).owner && Da[u] != L.owner) {
                                var B = Fh(L.dot1.position, L.dot2.position, o.position, vm / Ja * na, y);
                                if (isFinite(B)) {
                                    o.x = o.lastX + y.x * Wa * -.25, o.y = o.lastY + y.y * Wa * -.25;
                                    break
                                }
                            }
                        }
                } if (a) {
            var q = {};
            for (var d in releatedToBullets) releatedToBullets[d].lifetime--, releatedToBullets[d].lifetime <= 0 ? q[d] = !0 : (releatedToBullets[d].lastPosition = releatedToBullets[d].position.cpy(), releatedToBullets[d].x += 1 * releatedToBullets[d].sx / 60, releatedToBullets[d].y += 1 * releatedToBullets[d].sy / 60, !releatedToBullets[d].endoflife && releatedToBullets[d].lifetime <= 20 && (releatedToBullets[d].endoflife = !0, anime({
                targets: releatedToBullets[d],
                alpha: 0,
                width: 1.25 * releatedToBullets[d].width,
                height: 1.25 * releatedToBullets[d].height,
                duration: 1e3 / 3,
                easing: "easeInCubic"
            })));
            for (var d in q) listofBullets.removeChild(releatedToBullets[d]), delete releatedToBullets[d];
            for (var d in releatedToBullets) {
                if (!((H = releatedToBullets[d]).initialTurn >= yisM))
                    if (X)
                        for (var G = X.getAllInRange(H.position, 0, 0), Y = 0; Y < G.length; Y++) {
                            if ((B = G[Y]).owner != H.owner && aB(H, B)) break
                        } else
                            for (var Y in GameObjects) {
                                if ((B = GameObjects[Y]).owner != H.owner && aB(H, B)) break
                            }
            }
            m: for (var d in releatedToBullets) {
                var H = releatedToBullets[d];
                if (c)
                    for (G = c.getAllInRange(H.position, 0, 0), Y = 0; Y < G.length; Y++) {
                        if ((L = G[Y]).owner != H.owner && uB(H, L)) continue m
                    } else
                        for (var Y in DotsIng) {
                            var L;
                            if ((L = DotsIng[Y]).owner != H.owner && uB(H, L)) continue m
                        }
            }
        }
    }
    function hB(m) {
        for (var a = 0; a < m.lines.length; a++) {
            var y = m.lines[a];
            if (y.leftZoneId && ia[y.leftZoneId] || y.rightZoneId && ia[y.rightZoneId]) return !0
        }
        return !1
    }
    function BB(m) {
        var a = (new Date).getTime();
        if (F > 0 || Wq) {
            yisM++;
            for (var y = !1; um.length > 0 && um[0].turn <= yisM;) Au(um[0].dv), y = !0, um.splice(0, 1);
            if (oB(!y && (2 != Lm || 1 != ka), !0), _) y || PlayerList[localPlayerInde] && !PlayerList[localPlayerInde].visible && Nh(PlayerList[localPlayerInde], !0);
            else {
                for (; dm.length > 0 && dm[0].turn <= yisM;) PlayerList[localPlayerInde] && (PlayerList[localPlayerInde].shooting = dm[0].input.shooting, PlayerList[localPlayerInde].moving = dm[0].input.moving, PlayerList[localPlayerInde].aimDirection = dm[0].input.aimDirection, PlayerList[localPlayerInde].moveDirection = dm[0].input.moveDirection), dm.splice(0, 1);
                y || YB || zm && 5 == Sm || 2 == Lm && 1 == ka || 4 == Lm && yisM < 300 || Nh(PlayerList[localPlayerInde], !0)
            }
        }
        var u = 3 == Lm && PlayerList[localPlayerInde];
        for (var o in GameObjects) {
            var h = GameObjects[o];
            if (h.shield) {
                var B = h.shield,
                    q = u && h.owner != localPlayerInde && h.owner != Em && h.position.dst2(PlayerList[localPlayerInde].position) <= 6.25;
                if (0 == B.state && B.lastAppearTurn <= yisM - 300 && hB(h) && !q) {
                    if (B.width = 2 * MaxIndexVal * 1.709089011247097, B.height = 2 * MaxIndexVal * 1.709089011247097, h.dotBlastAnim) {
                        try {
                            h.dotBlastAnim.pause()
                        } catch (m) {}
                        h.dotBlastAnim = null
                    }
                    sB ? B.alpha = 1 : h.shieldAppearAnim = anime({
                        targets: B,
                        alpha: 1,
                        duration: 250,
                        easing: "linear",
                        complete: function (m) {
                            return function () {
                                0 != m.state || h.dotBlastAnim || (m.alpha = 0), h.shieldAppearAnim = null
                            }
                        }(B)
                    }), B.state = 1, B.lastAppearTurn = h.creationTurn + 300 * Math.floor((yisM - h.creationTurn) / 300)
                }
                1 == B.state && yisM >= B.lastAppearTurn + 300 * B.appearPercent && B.appearPercent < 1 ? (sB ? B.alpha = 0 : anime({
                    targets: B,
                    alpha: 0,
                    duration: 250,
                    easing: "linear"
                }), B.state = 0) : 1 == B.state && q && (B.alpha = 0, B.state = 0, B.lastAppearTurn = 0, so(h))
            }
        }
        Sm >= 0 && (lm += 100 / (60 * yy[Sm]), zm || po());
        a = (new Date).getTime();
        if (Sh && a - Hh >= 20 ? Lh() : (Th || Qh) && PlayerList[localPlayerInde] && (Th && (I.aimDirection -= .05), Qh && (I.aimDirection += .05), PlayerList[localPlayerInde].rotation = I.aimDirection, Lh()), (!_ || Gh) && a - Hh > 500 && Lh(), nh && a - _h > 200 && (hh(), _h = a, 3 == Lm && (nh = !0)), 2 == Lm && Oa > 0 && (4 == ka && Oa > 20 && Oa - m / 1e3 <= 20 && (document.getElementById("countdown-value").className = "animated pulse huge"), 3 == ka & Oa > .5 && Oa - m / 1e3 <= .5 && nu(), Oa -= m / 1e3, mo(), I.moving && !_ && (2 == Ra && 4 == ka || 3 == Ra && 2 == ka)))
            for (var d = 0; d < ru.length; d++) {
                if (4 != ka || ru[d].progress.visible) Math.sqrt(Math.pow(ru[d].x - PlayerList[localPlayerInde].x, 2) + Math.pow(ru[d].y - PlayerList[localPlayerInde].y, 2)) < ru[d].radius && _u(2 == Ra ? "Stay still to defuse the bomb" : "Stay still to plant the bomb", 100)
            }
    }
    function qB(m, a, y) {
        var u = m * Math.PI * 2 * a,
            o = m * (2 * Math.PI * y + Math.PI / 2);
        return Math.sin(u) * Math.cos(o)
    }
    function dB(m) {
        return m * (2 - m)
    }
    var GB, YB = !1,
        HB = !1,
        LB = !1,
        PB = !1,
        MB = !1,
        xB = 0;
    function eB(m) {
        var a = performance.now(),
            y = xB ? a - xB : 0;
        xB = a;
        var u, o, h, B = PlayerList[Em] || PlayerList[localPlayerInde] || _;
        if (B) {
            var q = {
                x: B.x,
                y: B.y
            };
            if (_ && yisM - n <= 90) q = _;
            else if (_ && yisM - n > 90 && yisM - n < 120) {
                var d = (yisM - n - 90) / 30;
                q = {
                    x: _.x * (1 - d) + B.x * d,
                    y: _.y * (1 - d) + B.y * d
                }
            }
            if (MB) {
                var G = {
                    x: q.x,
                    y: q.y
                };
                GB && (q.x = q.x * m + GB.x * (1 - m), q.y = q.y * m + GB.y * (1 - m)), GB = G
            }
            var Y = q.x - ma / 2,
                H = q.y - aa / 2,
                L = 0,
                e = 0;
            if (rm) {
                var K = (new Date).getTime() - Rm;
                if (K > 1e3) rm = !1, M.rotation = 0;
                else {
                    var A = K / 1e3;
                    L = 1 * qB(A, Math.PI, Math.PI / 2) * dB(1 - A), e = 1 * qB(A, .33 * Math.PI, .66 * Math.PI) * dB(1 - A)
                }
            }
            if (M.position.set((-Y + L) * M.scale.x, (-H + e) * M.scale.y), x.position.set(Math.floor(Y / za) * za, Math.floor(H / za) * za), x.x < 0 && (x.x = 0), x.y < 0 && (x.y = 0), x.x + x.width > Um && (x.x = Um - x.width), x.y + x.height > pm && (x.y = pm - x.height), 0 == Xh) {
                var s = 1 / M.scale.x,
                    S = M.position.x % 1 * s,
                    l = M.position.y % 1 * s;
                x.position.x = Math.round(x.position.x / s) * s - S + s / 2 * 0, x.position.y = Math.round(x.position.y / s) * s - l + s / 2 * 0
            }
            var z = oh(q);
            if (Xm && Uh) {
                o = Uh, h = z, (u = Xm).rotation = Math.atan2(Fo(h.y) - o.y, Fo(h.x) - o.x), u.x = (o.x + Math.cos(u.rotation) * (.9 * o.size) + Fo(h.x) - Math.cos(u.rotation) * (.9 * cm.width / 2)) / 2, u.y = (o.y + Math.sin(u.rotation) * (.9 * o.size) + Fo(h.y) - Math.sin(u.rotation) * (.9 * cm.width / 2)) / 2, u.width = Math.sqrt(Math.pow(o.x - Fo(h.x), 2) + Math.pow(o.y - Fo(h.y), 2)) - .9 * (o.size + cm.width / 2);
                var w = Uh.position.dst(z);
                Xm.visible = !_ && !I.shooting && w < Nm, Xm.height = w > .8 * Nm ? (1 - w / Nm) / .2 * Wa : Wa
            }
            cm.visible = !_ && !I.shooting, cm.visible && cm.position.set(Fo(z.x), Fo(z.y))
        }
        if (MB) {
            for (var k in PlayerList) {
                (O = PlayerList[k]).realX = O.x, O.realY = O.y, O.lastVisualX && (O.x = O.x * m + O.lastVisualX * (1 - m), O.y = O.y * m + O.lastVisualY * (1 - m)), O.lastVisualX = O.realX, O.lastVisualY = O.realY
            }
            for (var k in releatedToBullets) {
                (g = releatedToBullets[k]).realX = g.x, g.realY = g.y, g.lastVisualX && (g.x = g.x * m + g.lastVisualX * (1 - m), g.y = g.y * m + g.lastVisualY * (1 - m)), g.lastVisualX = g.realX, g.lastVisualY = g.realY
            }
        }
        for (var k in PlayerList)
            for (var O = PlayerList[k], T = 0; T < O.rotors.length; T++) {
                var Q = O.rotors[T];
                if (Q.noRotation ? Q.sprite.rotation = -O.rotation : 0 != Q.speed && (Q.sprite.baseRotation -= Q.speed * y / 1e3, Q.fixedRotation ? Q.sprite.rotation = Q.sprite.baseRotation : Q.sprite.rotation = Q.sprite.baseRotation - O.rotation), 1 == Q.visibility) {
                    var b = k == localPlayerInde ? PlayerList[k].moving : 0 != PlayerList[k].sx || 0 != PlayerList[k].sy;
                    Q.sprite.visible = b, Ta && k != localPlayerInde && (PlayerList[k].usernameText.visible = b, PlayerList[k].badge && (PlayerList[k].badge.visible = b))
                } else if (2 == Q.visibility) {
                    b = k == localPlayerInde ? PlayerList[k].moving : 0 != PlayerList[k].sx || 0 != PlayerList[k].sy;
                    Q.sprite.visible = !b
                }
            }
        for (var k in PlayerList) PlayerList[k].shield.position.set(PlayerList[k].position.x, PlayerList[k].position.y), PlayerList[k].usernameText.position.set(PlayerList[k].position.x, PlayerList[k].position.y - 1.3 * vm), PlayerList[k].badge && PlayerList[k].badge.position.set(PlayerList[k].position.x - PlayerList[k].usernameText.width / 2 - PlayerList[k].badge.width / 2 - .5 * vm, PlayerList[k].usernameText.y);
        if (PlayerList[localPlayerInde] && yisM > 300 && (PlayerList[localPlayerInde].usernameText.alpha = yisM > 360 ? 0 : 1 - (yisM - 300) / 60, PlayerList[localPlayerInde].badge && (PlayerList[localPlayerInde].badge.alpha = PlayerList[localPlayerInde].usernameText.alpha)), 1 != Lm && 2 != Lm || function () {
                if (ah) {
                    for (var m in PlayerList)
                        if (Da[m] == Ra) {
                            for (var a = !1, y = 0; y < mh.length; y++)
                                if (mh[y].playerId == m) {
                                    a = !0;
                                    break
                                } if (!a) {
                                var u = new PIXI.Sprite(E.marker2);
                                u.width = vm, u.height = u.width / u.texture.width * u.texture.height, u.anchor.set(.5), u.tint = oy(m), u.playerId = m, V.addChild(u), mh.push(u);
                                var o = new PIXI.Text(arrayofOk[m] ? arrayofOk[m] : "", {
                                    fontFamily: "Arial",
                                    fontSize: Math.round(window.innerHeight / 60),
                                    fill: oa ? 16777215 : 0,
                                    align: "center"
                                });
                                o.anchor.set(.5), o.scale.set(1 / M.scale.x), u.playerText = o, V.addChild(o)
                            }
                        } for (y = 0; y < mh.length; y++) {
                        var h = mh[y],
                            B = PlayerList[h.playerId];
                        if (B) {
                            var q = M.localTransform.apply(B.position, new PIXI.Point);
                            if (q.x < 0 || q.y < 0 || q.x > window.innerWidth || q.y > window.innerHeight) {
                                var d = uh(q);
                                d && (h.visible = !0, h.playerText.visible = !0, M.localTransform.applyInverse(new PIXI.Point(d.x, d.y), h.position), h.rotation = Math.atan2(q.y - window.innerHeight / 2, q.x - window.innerWidth / 2), 0 == d.s ? (h.x -= h.width / 2, h.playerText.x = h.x - h.width / 2 - h.playerText.width / 2, h.playerText.y = h.y + Math.sin(h.rotation + Math.PI) * h.width * 1.2) : 1 == d.s ? (h.y += h.height / 2, h.playerText.x = h.x + Math.cos(h.rotation + Math.PI) * h.height * 1.2, h.playerText.y = h.y + h.height + h.playerText.height / 2) : 2 == d.s ? (h.x += h.width / 2, h.playerText.x = h.x + h.width / 2 + h.playerText.width / 2, h.playerText.y = h.y + Math.sin(h.rotation + Math.PI) * h.width * 1.2) : (h.y -= h.height / 2, h.playerText.x = h.x + Math.cos(h.rotation + Math.PI) * h.height * 1.2, h.playerText.y = h.y - h.height - h.playerText.height / 2))
                            } else h.visible = !1, h.playerText.visible = !1
                        } else V.removeChild(mh[y].playerText), V.removeChild(mh[y]), mh.splice(y, 1), y--
                    }
                }
            }(), P.render(M), P.render(C, void 0, !1), MB) {
            for (var k in PlayerList) {
                (O = PlayerList[k]).x = O.realX, O.y = O.realY
            }
            for (var k in releatedToBullets) {
                var g;
                (g = releatedToBullets[k]).x = g.realX, g.y = g.realY
            }
        }(Sy || ua) && P.render(i, void 0, !1), pu && P.render(pu, void 0, !1), F > 0 && !_ && (new Date).getTime() - su > 1e3 ? (YB = !0, document.getElementById("internet-issue").style.display = "block") : YB && (document.getElementById("internet-issue").style.display = "none", YB = !1), (0 == Lm || 3 == Lm) && Ym < 3 && yisM >= 600 && !Gh && (HB ? !LB && yisM >= 1800 ? _u("Level up by enclosing big areas with your towers", 100) : W >= 1 && !PB && _u("Upgrade your copter! " + (Sy ? "Tap" : "Click") + ' a <img src="img/plus-4-64.png">', 100) : _u(Sy ? "Build a tower by pressing the BUILD button" : "Build a tower with right-click or SPACE key", 100))
    }
    var KB = 60,
        AB = 0,
        sB = !1;
    function VB(m, a) {
        document.getElementById("fps").textContent = "server: " + j + " fps: " + Math.round(m) + " ping: " + Math.round(d), a && (console.log("panic: simulation is too late, dropping updates"), MainLoop.resetFrameDelta(), Wq || (yisM = probablyDelta)), yisM > KB && (KB += ++AB < 10 ? 600 : 3600, Math.round(m), Math.round(d)), sB = m < 30
    }
    var SB, lB, zB, EB;
    Om = !1, Tm = !1;
    function IB() {
        if (u = null, "undefined" != typeof Storage) try {
            localStorage.removeItem("sessionId")
        } catch (m) {
            console.log(m)
        }
    }
    function _B() {
        google.accounts.id.revoke(EB, function (m) {
            console.log("User signed out from google."), m.successful || (alert("Google logout error: " + m.error), console.error("Google logout error: " + m.error)), Om = !1, IB(), document.getElementById("account-warning").style.display = "none", google.accounts.id.disableAutoSelect();
            try {
                localStorage.removeItem("wasLoggedInWithGoogle")
            } catch (m) {}
        })
    }
    function nB(m) {
        if (console.log("Facebook login status", m), !Om)
            if ("connected" === m.status) {
                Tm = !0, lB = m.authResponse.accessToken, FB.api("/me?fields=picture,email&redirect=false", function (m) {
                    m && m.picture && m.picture.data && (zB = m.picture.data.url), m && m.email && (EB = m.email), wB()
                });
                try {
                    localStorage.removeItem("wasLoggedInWithGoogle")
                } catch (m) {}
            } else Tm && IB(), Tm = !1
    }
    function WB() {
        var m = new XMLHttpRequest;
        m.onreadystatechange = function () {
            if (4 == m.readyState && 200 == m.status)
                if (-1 != m.responseText.indexOf("ERROR")) console.error("loginOnServer returned ERROR"), kB();
                else {
                    var a = m.responseText.split("\n");
                    u = a[0];
                    var y = a[1];
                    iB = a[2].split(" ").map(Number);
                    a[3];
                    if (bB = new Number(a[4]), a.length >= 6 && (gB = new Number(a[5]) > 0) && (document.getElementById("curse-promo") && (document.getElementById("curse-promo").style.display = "none"), document.getElementById("banner-on-homepage") && (document.getElementById("banner-on-homepage").style.display = "none")), a.length >= 7 && (rB = parseInt(a[6])), document.getElementById("coins-owned").innerHTML = Math.floor(bB), "undefined" != typeof Storage) try {
                        localStorage.setItem("sessionId", u)
                    } catch (m) {
                        console.log(m)
                    }
                    E && jB(!0), window.location.search.startsWith("?my-account") ? Hq() : "?tourney-mgr" == window.location.search ? Zq() : 0 == window.location.search.indexOf("?tourney-join") && function () {
                        var m = document.getElementById("username").value.substring(0, 14);
                        if (m = window.prompt("Please enter your tournament username. Warning: this can't be changed afterwards: ", m)) {
                            var a = new XMLHttpRequest;
                            a.onreadystatechange = function () {
                                4 == a.readyState && 200 == a.status ? -1 != a.responseText.indexOf("ERROR") ? alert(a.responseText.replace("ERROR\n", "")) : Zq() : 4 == a.readyState && 200 != a.status && a.onerror(a.status)
                            }, a.onerror = function (m) {
                                Ou((new Date).toLocaleTimeString() + " - Error joining team", "error")
                            };
                            var y = window.location.search.replace("?tourney-join&c=", "");
                            a.open("GET", t + "/tourney/useInviteCode?s=" + (u || "") + "&c=" + encodeURIComponent(y) + "&n=" + encodeURIComponent(m), !0), a.send(null)
                        }
                    }(), y && void 0 !== also_token && also_token != u && Ou("Attention: your account was connected after you joined, your game won't be recorded and you won't earn coins", "error")
                }
            else 4 == m.readyState && 200 != m.status && m.onerror(m.status)
        }, m.onerror = function (m) {
            Ou((new Date).toLocaleTimeString() + " - Error at login on server", "error"), console.error("loginOnServer error"), kB()
        }, m.open("POST", t + "/login?s=" + (u || "") + (Om ? "&a=1" : "") + (!Om && Tm ? "&a=2" : "") + "&app=" + (document.getElementById("privacy-policy-checkbox").checked ? 1 : 0) + "&ecs=" + (document.getElementById("emailing-consent-checkbox").checked ? 1 : 0) + "&ect=" + encodeURIComponent(document.getElementById("emailing-consent-text").innerHTML), !0), Om ? m.send(SB) : Tm ? m.send(lB) : m.send(null)
    }
    function wB() {
        document.getElementById("login-popup").style.display = "none", document.getElementById("unconnected-block").style.display = "none", document.getElementById("connected-block").style.display = "block", document.getElementById("profile-picture").src = zB, document.getElementById("respawn-not-connected").style.display = "none", document.getElementById("respawn-not-connected-gm2").style.display = "none", document.getElementById("respawn-not-connected-gm4").style.display = "none", WB()
    }
    function kB() {
        return Om && _B(), Tm && FB.logout(nB), document.getElementById("connected-block").style.display = "none", document.getElementById("unconnected-block").style.display = "block", UB(1), pB(0), !1
    }
    function OB() {
        document.getElementById("login-popup").style.display = "block", void 0 !== window.google && void 0 !== window.google.accounts && void 0 !== window.google.accounts.id || (document.getElementById("google-login-button").innerHTML = '<div class="blocked">Your browser is blocking Google API. Unblock to sign-in with Google.</div>')
    }
    function TB(m) {
        return "rgb(" + [(16711680 & (m >>>= 0)) >>> 16, (65280 & m) >>> 8, 255 & m].join(",") + ")"
    }
    window.onGoogleLibraryLoad = function () {
        try {
            localStorage.getItem("wasLoggedInWithGoogle") && google.accounts.id.prompt(function (m) {
                0
            })
        } catch (m) {}
    };
    var QB = [],
        CB = {
            skinFacebookLiked: !1,
            skinTwitterTweet: !1,
            skinTwitterFollow: !1,
            skinYoutubeSubscribe: !1,
            skinFacebookShare: !1,
            skinDiscordJoin: !1
        },
        iB = [],
        bB = 0,
        gB = !1,
        rB = 0;
    function RB(m, a, y, u, o, h, B, q) {
        m.className += " locked";
        var d = document.createElement("a");
        y && (d.href = y, d.target = "_blank"), d.innerHTML = u, d.className = "button " + o, m.appendChild(d), q || d.addEventListener("click", function () {
            if (m.className = "card", m.getElementsByTagName("a")[0].style.display = "none", h) {
                CB[h] = !0;
                try {
                    localStorage.setItem(h, !0)
                } catch (m) {}
            }
            "undefined" != typeof gtag && gtag("event", B, {
                event_category: "Click"
            })
        })
    }
    function DB(m, a) {
        document.getElementById("skin-popup").style.pointerEvents = "none";
        var y = new XMLHttpRequest;
        y.onreadystatechange = function () {
            if (4 == y.readyState && 200 == y.status) {
                if (document.getElementById("skin-popup").style.pointerEvents = "auto", "OK" != y.responseText) return void alert("An error occured during the transation, please try again or contact us");
                bB -= a, iB.push(m), jB(!0), document.getElementById("coins-owned").innerHTML = Math.floor(bB)
            } else 4 == y.readyState && 200 != y.status && y.onerror(y.status)
        }, y.onerror = function (m) {
            document.getElementById("skin-popup").style.pointerEvents = "auto", console.log(m), alert("An error occured during the transation, please try again or contact us")
        }, y.open("POST", t + "/buyskin?s=" + u + "&skin=" + m, !0), y.send(null)
    }
    var $B = [{
            name: "Holidays",
            list: [68, 64, 65, 66, 67, 69, 70]
        }, {
            name: "Helicopter",
            list: [1, 3, 4, 5, 6, 21, 26]
        }, {
            name: "Drone",
            list: [2, 7, 14, 18, 19, 12, 27]
        }, {
            name: "Gyrocopter",
            list: [8, 9, 10, 13, 11, 20, 28]
        }, {
            name: "UFO",
            list: [15, 29, 24, 25, 30, 31, 32]
        }, {
            name: "Space",
            list: [17, 40, 41, 42, 43, 44, 45]
        }, {
            name: "Jet",
            list: [33, 34, 35, 36, 37, 38, 39]
        }, {
            name: "Beast",
            list: [16, 46, 47, 23, 48, 22, 49]
        }, {
            name: "Blades",
            list: [50, 51, 52, 53, 54, 55, 56]
        }, {
            name: "Mythical",
            list: [57, 58, 59, 60, 61, 62, 63]
        }, {
            name: "Insects",
            list: [89, 90, 91, 92, 93, 94, 95]
        }, {
            name: "Astrorace.io",
            list: [107, 108, 109, 110, 111, 112, 113]
        }, {
            name: "Crystals",
            list: [122, 123, 124, 125, 126, 127, 128]
        }, {
            name: "Premium",
            list: [81, 82, 83, 84, 85, 86, 87, 88, 100, 101, 102, 103, 104, 105, 106]
        }, {
            name: "Elite",
            list: [71, 79, 96, 97, 98, 99, 136]
        }],
        ZB = -1;
    function XB(m) {
        for (var a = 0; a < $B.length; a++)
            if (-1 !== $B[a].list.indexOf(m)) return a;
        return -1
    }
    function cB(m) {
        return 1 == m || (2 == m ? CB.skinFacebookLiked : 3 == m || (4 == m ? CB.skinTwitterFollow : 5 == m ? CB.skinTwitterTweet : 6 == m ? CB.skinYoutubeSubscribe : 7 == m ? Om || Tm : 8 == m ? CB.skinDiscordJoin : -1 !== iB.indexOf(m)))
    }
    function JB(m) {
        for (var a = XB(m), y = 0; y < $B[a].list.length; y++)
            if ($B[a].list[y] != m && !cB($B[a].list[y])) return !1;
        return !0
    }
    function vB(m) {
        document.getElementById("skin-tab-" + ZB).className = "skin-tab", document.getElementById("skin-tab-" + m).className = "skin-tab selected", ZB = m, jB(!0)
    }
    function tB(m, a, y) {
        var u = document.createElement("div");
        return u.setAttribute("id", "skin-tab-" + m), u.className = "skin-tab" + (y ? " selected" : ""), u.innerHTML = a, u.addEventListener("click", function () {
            vB(m)
        }), u
    }
    function jB(m) {
        m && (document.getElementById("skin-homepage-canvas").innerHTML = "", document.getElementById("skin-popup-canvas").innerHTML = "", document.getElementById("skin-list").innerHTML = ""), uy[-1] = va[wm >= 0 ? wm : 0], nm[-1] = playerSkin;
        var a = Bu(-1, 50);
        document.getElementById("skin-homepage-canvas").appendChild(a);
        var y = Bu(-1, 100);
        document.getElementById("skin-popup-canvas").appendChild(y), QB = [a, y];
        for (var u = document.getElementById("skin-tabs"); u.firstChild;) u.removeChild(u.firstChild);
        u.appendChild(tB(-1, "All", -1 == ZB));
        for (var o = 0; o < $B.length; o++) u.appendChild(tB(o, $B[o].name, ZB == o));
        var h, B, q, d, G = (h = new Date, B = h.getMonth() + 1, q = h.getDate(), d = [], 2 == B && d.push(64), (3 == B && q >= 15 || 4 == B && q <= 14) && d.push(65), 4 == B && d.push(66), (10 == B && q >= 15 || 11 == B && q <= 14) && d.push(67), 12 == B && d.push(68), 1 == B && d.push(69), d),
            Y = [71, 79, 80, 96, 97, 98, 99, 136],
            H = [64, 65, 66, 67, 68, 69],
            L = G.concat([1, 2, 3, 4, 5, 6, 8, 7, 9, 10, 107, 13, 14, 18, 108, 81, 19, 11, 12, 89, 109, 110, 90, 122, 123, 124, 91, 17, 40, 33, 34, 16, 50, 51, 111, 125, 92, 20, 21, 93, 15, 29, 41, 35, 46, 52, 53, 94, 112, 126, 127, 42, 43, 36, 37, 24, 25, 47, 54, 44, 38, 23, 30, 31, 55, 57, 58, 59, 60, 61, 62, 95, 113, 128, 48, 22, 26, 27, 28, 32, 45, 39, 49, 56, 63]); - 1 != ZB && (L = $B[ZB].list);
        for (o = 0; o < L.length; o++) {
            var P = L[o];
            if (au[P]) {
                uy[-1] = va[wm >= 0 ? wm : 0], nm[-1] = P;
                var M = Bu(-1, 64)
            } else {
                (M = document.createElement("div")).innerHTML = "?", M.style.width = "64px", M.style.height = M.style.width, M.style.position = "relative", M.style.display = "inline-block", M.style.lineHeight = M.style.height, M.style.fontSize = "3vh"
            }
            var x = document.createElement("div"),
                e = -1 !== [26, 27, 28, 32, 39, 45, 49, 56, 63, 70, 95, 113, 128].indexOf(P);
            x.className = "card" + (e ? " highlight" : "") + (P >= 64 && P <= 70 ? " season" : ""), x.style.cursor = "pointer", x.appendChild(M);
            var K = -1 == iB.indexOf(P);
            if (!au[P] || K && (-1 !== Y.indexOf(P) || -1 !== H.indexOf(P) && -1 === G.indexOf(P))) - 1 != Y.indexOf(P) ? RB(x, 0, void 0, "Tourney prize", "disabled", void 0, void 0, !0) : RB(x, 0, void 0, "Unavailable", "disabled", void 0, void 0, !0);
            else if (2 != P || CB.skinFacebookLiked)
                if (4 != P || CB.skinTwitterFollow)
                    if (5 != P || CB.skinTwitterTweet)
                        if (6 != P || CB.skinYoutubeSubscribe)
                            if (8 != P || CB.skinDiscordJoin)
                                if (7 != P || Om || Tm) {
                                    if ((P >= 81 && P <= 88 || P >= 100 && P <= 106) && K) Om || Tm ? gB ? function (m) {
                                        RB(x, 0, void 0, "Premium", "login", void 0, "SkinActivatePremiumSkin", !0), x.getElementsByTagName("a")[0].addEventListener("click", function () {
                                            return DB(m, 0), !1
                                        })
                                    }(P) : (RB(x, 0, void 0, "Premium", "login", void 0, "SkinShowAccount", !0), x.getElementsByTagName("a")[0].addEventListener("click", function () {
                                        return Hq(), !1
                                    })) : (RB(x, 0, void 0, "Premium", "login", void 0, "SkinCreateAccount", !0), x.getElementsByTagName("a")[0].addEventListener("click", function () {
                                        return OB(), !1
                                    }));
                                    else if (P >= 9 && K) {
                                        var A = 1e6;
                                        if (9 != P && 10 != P || (A = 500), 13 != P && 14 != P || (A = 1e3), 11 != P && 12 != P || (A = 2e3), 17 == P && (A = 5e3), 18 == P && (A = 1e3), 19 == P && (A = 2e3), 64 == P && (A = 5e3), 65 == P && (A = 5e3), 66 == P && (A = 5e3), 67 == P && (A = 5e3), 68 == P && (A = 5e3), 69 == P && (A = 5e3), 70 == P && (A = 1e4), 20 == P && (A = 7500), 21 == P && (A = 7500), 15 == P && (A = 1e4), 29 == P && (A = 1e4), 24 == P && (A = 15e3), 25 == P && (A = 15e3), 30 == P && (A = 2e4), 26 == P && (A = 2e4), 27 == P && (A = 2e4), 28 == P && (A = 2e4), 31 == P && (A = 2e4), 32 == P && (A = 3e4), 16 == P && (A = 5e3), 46 == P && (A = 1e4), 47 == P && (A = 15e3), 23 == P && (A = 2e4), 48 == P && (A = 25e3), 22 == P && (A = 25e3), 49 == P && (A = 3e4), 40 == P && (A = 5e3), 41 == P && (A = 1e4), 42 == P && (A = 15e3), 43 == P && (A = 15e3), 44 == P && (A = 2e4), 45 == P && (A = 3e4), 33 == P && (A = 5e3), 34 == P && (A = 5e3), 35 == P && (A = 1e4), 36 == P && (A = 15e3), 37 == P && (A = 15e3), 38 == P && (A = 2e4), 39 == P && (A = 3e4), 50 == P && (A = 5e3), 51 == P && (A = 5e3), 52 == P && (A = 1e4), 53 == P && (A = 1e4), 54 == P && (A = 15e3), 55 == P && (A = 2e4), 56 == P && (A = 25e3), P >= 57 && P <= 62 && (A = 2e4), 63 == P && (A = 2e4), 89 == P && (A = 2e3), 90 == P && (A = 3e3), 91 == P && (A = 4e3), 92 == P && (A = 6e3), 93 == P && (A = 8e3), 94 == P && (A = 1e4), 95 == P && (A = 2e4), 107 == P && (A = 500), 108 == P && (A = 1e3), 109 == P && (A = 2e3), 110 == P && (A = 2e3), 111 == P && (A = 5e3), 112 == P && (A = 1e4), 113 == P && (A = 2e4), 122 == P && (A = 3e3), 123 == P && (A = 3e3), 124 == P && (A = 3e3), 125 == P && (A = 5e3), 126 == P && (A = 1e4), 127 == P && (A = 1e4), 128 == P && (A = 2e4), e && !JB(P)) {
                                            ! function (m) {
                                                RB(x, 0, void 0, "Unavailable", "disabled", void 0, void 0, !0), x.getElementsByTagName("a")[0].addEventListener("click", function () {
                                                    alert("You must buy all skins in " + $B[XB(m)].name + " to unlock this skin")
                                                })
                                            }(P)
                                        } else RB(x, 0, void 0, '<img src="img/coin.png"> <span>' + A + "</span>", "buy", void 0, "SkinBuy", !0), x.getElementsByTagName("a")[0].addEventListener("click", function (m, a) {
                                            return function () {
                                                if (!Om && !Tm) return Wy("You must login first to buy skins", "", OB), !1;
                                                bB < a ? Wy("You don't have enough coins to buy this skin (you own " + Math.floor(bB) + " coins)") : wy("You own " + Math.floor(bB) + " coins. Buy skin for " + a + " coins?", "", function (y) {
                                                    y && DB(m, a)
                                                })
                                            }
                                        }(P, A))
                                    }
                                } else RB(x, 0, void 0, "Sign up", "login", void 0, "SkinCreateAccount", !0), x.getElementsByTagName("a")[0].addEventListener("click", function () {
                                    return OB(), !1
                                });
            else RB(x, 0, "https://discord.gg/NXuuhv7", "Join discord", "discord", "skinDiscordJoin", "SkinDiscordJoin");
            else RB(x, 0, "https://www.youtube.com/channel/UCJw-612ZzkWmZuU5QsP_T-g?sub_confirmation=1", "Subscribe", "youtube", "skinYoutubeSubscribe", "SkinYoutubeSubscribe");
            else {
                var s = ["I've played this game way too much today", "I'm loving this game!", "don't play this game it will ruin your social life", "this game is going to ruin my social life", "I'm addicted to this game", "This game is so addictive", "Best game ever!"];
                RB(x, 0, "https://twitter.com/intent/tweet?url=http%3A%2F%2Fdefly.io&hashtags=gaming,indiegames,deflyio&text=" + encodeURIComponent(s[Math.floor(Math.random() * s.length)]), "Tweet", "twitter", "skinTwitterTweet", "SkinTwitterTweet")
            } else RB(x, 0, "https://twitter.com/DeflyIo", "Follow", "twitter", "skinTwitterFollow", "SkinTwitterFollow");
            else RB(x, 0, "https://www.facebook.com/deflyiogame/", "Like", "facebook", "skinFacebookLiked", "SkinFacebookLiked");
            document.getElementById("skin-list").appendChild(x), QB.push(M), x.addEventListener("click", function (m) {
                return function () {
                    (2 != m || CB.skinFacebookLiked) && (4 != m || CB.skinTwitterFollow) && (5 != m || CB.skinTwitterTweet) && (6 != m || CB.skinYoutubeSubscribe) && (8 != m || CB.skinDiscordJoin) && (7 != m || Om || Tm) && (m >= 9 && !Om && !Tm || m >= 9 && -1 == iB.indexOf(m) || UB(m))
                }
            }(P))
        }
        if (!m)
            for (o = 0; o < va.length; o++) {
                var V = document.createElement("div");
                V.style.backgroundColor = TB(va[o]), V.style.width = "32px", V.style.height = "32px", V.style.display = "inline-block", V.style.cursor = "pointer", V.style.marginLeft = "2px", V.addEventListener("click", function (m) {
                    return function () {
                        pB(m)
                    }
                }(o)), document.getElementById("color-list").appendChild(V)
            }
    }
    function UB(m, a) {
        playerSkin = m;
        for (var y = 0; y < 2; y++) {
            nm[-1] = m;
            var u = QB[y],
                o = Bu(-1, u.offsetWidth);
            u.parentNode.replaceChild(o, u), QB[y] = o
        }
        if (!a && "undefined" != typeof Storage) try {
            localStorage.setItem("playerSkin", playerSkin)
        } catch (m) {
            console.log(m)
        }
        "undefined" != typeof gtag && gtag("event", "ChangeSkinModel", {
            event_category: "Click",
            value: m
        })
    }
    function pB(m, a) {
        wm = m;
        for (var y = 0; y < QB.length; y++)
            if (QB[y].skinId) {
                uy[-1] = va[wm >= 0 ? wm : 0], nm[-1] = QB[y].skinId;
                var u = QB[y],
                    o = Bu(-1, u.offsetWidth);
                u.parentNode.replaceChild(o, u), QB[y] = o
            } if (!a && "undefined" != typeof Storage) try {
            localStorage.setItem("playerSkinColor", wm)
        } catch (m) {
            console.log(m)
        }
        "undefined" != typeof gtag && gtag("event", "ChangeSkinColor", {
            event_category: "Click",
            value: m
        })
    }
    var fB, NB, mq = 999,
        aq = {};
    function yq(m) {
        var a = new FileReader;
        a.onload = function () {
            var y = "data:image/png;base64," + btoa(String.fromCharCode.apply(null, new Uint8Array(a.result)));
            aq[m.name] = y, E[m.name] = PIXI.Texture.fromImage(y), localStorage.setItem("skinEditorImages", JSON.stringify(aq)), hq()
        }, a.readAsArrayBuffer(m)
    }
    function uq() {
        if (delete PlayerList[-2], nm[-2] = mq, qu(-2), NB.stage.removeChildren(), NB.stage.addChild(PlayerList[-2]), document.getElementById("show-collision-circle").checked) {
            var m = new PIXI.Graphics;
            m.lineStyle(1, 16711680), m.drawCircle(0, 0, vm / Ja * na), PlayerList[-2].addChild(m)
        }
        NB.stage.setTransform(NB.width / 2 / NB.resolution, NB.height / 2 / NB.resolution, 1 / au[mq].size, 1 / au[mq].size, 0, 0, 0, 0, 0), localStorage.setItem("skinEditorSkinModel", JSON.stringify(au[mq]))
    }
    function oq(m, a) {
        var y = '<option name=""></option>';
        for (var u in aq) y += "<option " + (m.img == u ? "selected " : "") + 'name="' + u + '">' + u + "</option>";
        var o = document.createElement("div"),
            h = document.createElement("span");
        h.innerHTML = "Rotor: ";
        var B = document.createElement("select");
        B.innerHTML = y;
        var q = document.createElement("span");
        q.innerHTML = " X: ";
        var d = document.createElement("input");
        d.setAttribute("type", "number"), d.setAttribute("step", "0.1"), d.setAttribute("value", m.x);
        var G = document.createElement("span");
        G.innerHTML = " Y: ";
        var Y = document.createElement("input");
        Y.setAttribute("type", "number"), Y.setAttribute("step", "0.1"), Y.setAttribute("value", m.y);
        var H = document.createElement("span");
        H.innerHTML = " RPS: ";
        var L = document.createElement("input");
        L.setAttribute("type", "number"), L.setAttribute("step", "0.1"), L.setAttribute("value", m.speed / Math.PI / 2);
        var P = document.createElement("span");
        P.innerHTML = " Size: ";
        var M = document.createElement("input");
        M.setAttribute("type", "number"), M.setAttribute("step", "0.1"), M.setAttribute("value", m.size);
        var x = document.createElement("span");
        x.innerHTML = " Layer: ";
        var e = document.createElement("input");
        e.setAttribute("type", "number"), e.setAttribute("value", m.layer);
        var K = document.createElement("span");
        K.innerHTML = " Visibility: ";
        var A = document.createElement("input");
        A.setAttribute("type", "number"), A.setAttribute("title", "0=always\n1=only when moving\n2=only when standing still"), A.setAttribute("value", m.visibility);
        var s = document.createElement("span");
        s.innerHTML = " FixedRot";
        var V = document.createElement("input");
        V.setAttribute("type", "checkbox"), V.setAttribute("title", "on = rotation is not cumulative with copter hull"), m.fixedRotation && V.setAttribute("checked", "");
        var S = document.createElement("span");
        S.innerHTML = " NoRot";
        var l = document.createElement("input");
        l.setAttribute("type", "checkbox"), l.setAttribute("title", "on = the rotor does not rotate and has fixed direction independent from copter direction"), m.noRotation && l.setAttribute("checked", "");
        var z = document.createElement("span");
        z.innerHTML = " Tinted";
        var E = document.createElement("input");
        E.setAttribute("type", "checkbox"), E.setAttribute("title", "on = rotor is tinted with player color"), m.tinted && E.setAttribute("checked", "");
        var I = document.createElement("button");
        function _() {
            m.img = B.value, m.x = parseFloat(d.value), m.y = parseFloat(Y.value), m.speed = parseFloat(L.value) * Math.PI * 2, m.size = parseFloat(M.value), m.layer = Math.max(0, e.value), m.visibility = A.value, m.fixedRotation = V.checked, m.noRotation = l.checked, m.tinted = E.checked, uq()
        }
        return I.className = "button", I.innerHTML = "remove", o.appendChild(h), o.appendChild(B), o.appendChild(q), o.appendChild(d), o.appendChild(G), o.appendChild(Y), o.appendChild(H), o.appendChild(L), o.appendChild(P), o.appendChild(M), o.appendChild(x), o.appendChild(e), o.appendChild(K), o.appendChild(A), o.appendChild(s), o.appendChild(V), o.appendChild(S), o.appendChild(l), o.appendChild(z), o.appendChild(E), o.appendChild(I), B.addEventListener("change", _), d.addEventListener("input", _), Y.addEventListener("input", _), L.addEventListener("input", _), M.addEventListener("input", _), e.addEventListener("input", _), A.addEventListener("input", _), V.addEventListener("input", _), l.addEventListener("input", _), E.addEventListener("input", _), I.addEventListener("click", function () {
            au[mq].rotors.splice(a, 1), uq(), hq()
        }), o
    }
    function hq() {
        var m = '<option name=""></option>';
        for (var a in aq) m += '<option name="' + a + '">' + a + "</option>";
        document.getElementById("skin-editor-base").innerHTML = m, document.getElementById("skin-editor-notint").innerHTML = m, document.getElementById("skin-editor-size").value = au[mq].size;
        for (var y = document.getElementById("skin-editor-rotors"); y.firstChild;) y.removeChild(y.firstChild);
        for (var a in au[mq].rotors) {
            var u = oq(au[mq].rotors[a], a);
            y.appendChild(u)
        }
        var o = document.createElement("button");
        o.innerHTML = "Add rotor", o.className = "button", y.appendChild(o), o.addEventListener("click", function () {
            au[mq].rotors.push({
                img: "rotor1",
                x: 0,
                y: 0,
                speed: 4 * Math.PI,
                size: 1
            }), hq()
        }), document.getElementById("skin-editor-base").value = au[mq].base, document.getElementById("skin-editor-notint").value = au[mq].notint
    }
    function Bq() {
        vm = 64;
        var m = PIXI.autoDetectRenderer(128, 128, {
            antialias: !0,
            transparent: !1,
            resolution: mm * Hy
        });
        m.plugins.interaction && (m.plugins.interaction.destroy(), m.plugins.interaction = null), m.plugins.accessibility && (m.plugins.accessibility.destroy(), m.plugins.accessibility = null), m.backgroundColor = 15923199, NB = m;
        var a = new PIXI.Container;
        m.stage = a, a.setTransform(m.width / 2 / mm, m.height / 2 / mm, 1, 1, 0, 0, 0, 0, 0), document.getElementById("skin-editor-canvas").appendChild(m.view), au[mq] = {
            base: "",
            notint: "",
            rotors: [],
            size: 1
        };
        try {
            if (localStorage.getItem("skinEditorSkinModel") && (au[mq] = JSON.parse(localStorage.getItem("skinEditorSkinModel"))), localStorage.getItem("skinEditorImages"))
                for (var y in aq = JSON.parse(localStorage.getItem("skinEditorImages"))) E[y] = PIXI.Texture.fromImage(aq[y])
        } catch (m) {}
        hq(), nm[-2] = mq, uy[-2] = va[wm >= 0 ? wm : 0], setTimeout(uq, 0), NB.stance = 1, fB = setInterval(function () {
            for (var y = PlayerList[-2], u = 0; u < y.rotors.length; u++) {
                var o = y.rotors[u];
                o.noRotation ? o.sprite.rotation = -y.rotation : 0 != o.speed && (o.sprite.baseRotation -= o.speed * (1e3 / 60) / 1e3, o.fixedRotation ? o.sprite.rotation = o.sprite.baseRotation : o.sprite.rotation = o.sprite.baseRotation - y.rotation);
                var h = 0 != NB.stance;
                1 == o.visibility ? o.sprite.visible = h : 2 == o.visibility && (o.sprite.visible = !h)
            }
            m.render(a)
        }, 1e3 / 60), defly.closeSkinEditor = qq, defly.saveSkin = dq, defly.clearSkin = function () {
            localStorage.removeItem("skinEditorImages"), localStorage.removeItem("skinEditorSkinModel"), au[mq] = {
                base: "",
                notint: "",
                rotors: [],
                size: 1
            }, aq = {}, uq(), hq()
        }, document.getElementById("skin-upload-input").addEventListener("change", Gq), document.getElementById("skin-editor-input").addEventListener("change", function () {
            ! function (m) {
                for (var a = 0; a < m.files.length; a++) yq(m.files[a])
            }(document.getElementById("skin-editor-input"))
        }), document.getElementById("skin-editor-size").addEventListener("input", function () {
            au[mq].size = parseFloat(document.getElementById("skin-editor-size").value), uq()
        }), document.getElementById("skin-editor-base").addEventListener("change", function () {
            au[mq].base = document.getElementById("skin-editor-base").value, uq()
        }), document.getElementById("skin-editor-notint").addEventListener("change", function () {
            au[mq].notint = document.getElementById("skin-editor-notint").value, uq()
        }), document.getElementById("show-collision-circle").addEventListener("change", uq), document.getElementById("stance-idle").addEventListener("click", function () {
            NB.stance = 0, document.getElementById("stance-idle").classList.remove("back"), document.getElementById("stance-moving").classList.add("back")
        }), document.getElementById("stance-moving").addEventListener("click", function () {
            NB.stance = 1, document.getElementById("stance-idle").classList.add("back"), document.getElementById("stance-moving").classList.remove("back")
        });
        var u = "";
        for (var y in E) u += '<option name="' + y + '">' + y + "</option>";
        document.getElementById("skin-editor-game-sprites").innerHTML = u, document.getElementById("skin-editor-input2").addEventListener("change", function () {
            var m = document.getElementById("skin-editor-input2").files[0],
                a = new FileReader;
            a.onload = function () {
                var m = "data:image/png;base64," + btoa(String.fromCharCode.apply(null, new Uint8Array(a.result))),
                    y = document.createElement("img");
                y.src = m, E[document.getElementById("skin-editor-game-sprites").value] = PIXI.Texture.fromImage(y.src), document.getElementById("skin-editor-input2").value = ""
            }, a.readAsArrayBuffer(m)
        }), document.getElementById("skin-editor").style.display = "block"
    }
    function qq() {
        clearInterval(fB), document.getElementById("skin-editor").style.display = "none", UB(mq, !0)
    }
    function dq() {
        var m = {};
        for (var a in m[au[mq].base] = aq[au[mq].base], m[au[mq].notint] = aq[au[mq].notint], au[mq].rotors) m[au[mq].rotors[a].img] = aq[au[mq].rotors[a].img];
        var y = new Blob([JSON.stringify({
            spec: au[mq],
            images: m
        })], {
            type: "text/plain;charset=utf-8"
        });
        saveAs(y, (new Date).toISOString() + " defly.io skin.txt")
    }
    function Gq() {
        var m = document.getElementById("skin-upload-input").files[0],
            a = new FileReader;
        a.onload = function () {
            var m = JSON.parse(a.result);
            for (var y in console.log(m), au[mq] = m.spec, m.images) {
                var u = document.createElement("img");
                u.src = m.images[y], aq[y] = m.images[y], E[y] = PIXI.Texture.fromImage(u.src)
            }
            localStorage.setItem("skinEditorImages", JSON.stringify(aq)), uq(), hq(), document.getElementById("skin-upload-input").value = ""
        }, a.readAsText(m)
    }
    function Yq(m) {
        var a = m,
            y = new XMLHttpRequest;
        y.onreadystatechange = function () {
            4 == y.readyState && y.status
        }, y.onerror = function (m) {
            Wy("Error updating badge"), console.log(m)
        }, y.open("POST", t + "/account/updateBadge?s=" + u + "&b=" + a, !0), y.send(null)
    }
    function Hq() {
        if (Om || Tm) {
            var m = new XMLHttpRequest;
            m.onreadystatechange = function () {
                if (4 == m.readyState && 200 == m.status) {
                    var a = m.responseText.split("\n");
                    gB = parseInt(a[0]) > 0, bB = a[1], document.getElementById("ma-coins").innerHTML = Math.floor(bB), document.getElementById("account-premium").style.display = gB ? "block" : "none", document.getElementById("account-standard").style.display = gB ? "none" : "block", document.getElementById("reserved-nickname").value = a[2], document.getElementById("ma-player-name").innerHTML = document.getElementById("username").value;
                    var y = parseInt(a[3]);
                    a.length >= 5 && (document.getElementById("discord-id").value = a[4]);
                    for (var u = '<span class="empty' + (0 == y ? " selected" : "") + '">NONE</span>', o = 1; o <= 47; o++) u += "<img " + (o == y ? 'class="selected" ' : "") + 'src="img/badges/' + o + '.png">';
                    if (document.getElementById("badge-select").innerHTML = u, document.getElementById("badge-select").addEventListener("click", function (m) {
                            if (console.log(m), "IMG" == m.target.tagName) {
                                var a = m.target.src.split("/");
                                Yq(parseInt(a[a.length - 1]))
                            } else Yq(0);
                            document.getElementById("badge-select").childNodes.forEach(function (m) {
                                m.classList.remove("selected")
                            }), m.target.classList.add("selected")
                        }), document.getElementById("my-account-button") && (document.getElementById("my-account-button").enabled = !0, document.getElementById("my-account-button").innerHTML = Gy("My Account")), document.getElementById("my-account").style.display = "block", !gB) {
                        var h = document.getElementById("change-discord-id-block");
                        h.parentElement.removeChild(h), document.getElementById("change-discord-id-np").appendChild(h)
                    }
                } else 4 == m.readyState && 200 != m.status && m.onerror(m.status)
            }, m.onerror = function (m) {
                Ou((new Date).toLocaleTimeString() + " - Error getting account info", "error"), console.log(m)
            }, m.open("POST", t + "/account/myInfo?s=" + u, !0), m.send(null), document.getElementById("my-account-button") && (document.getElementById("my-account-button").enabled = !1, document.getElementById("my-account-button").innerHTML = Gy("Loading..."))
        } else OB()
    }
    function Lq(m, a, y, u) {
        switch (m) {
        case 0:
        case 3:
        case 2:
            return Math.floor(a / 100);
        case 1:
            return Math.floor(a / 200);
        case 4:
            return 10 * u
        }
    }
    var Pq = ["FFA", "Team", "Defuse", "E-FFA", "1v1"];
    var Mq = {
        3: "Break",
        8: "Backspace",
        9: "Tab",
        12: "Clear",
        13: "Enter",
        16: "Shift",
        17: "Ctrl",
        18: "Alt",
        19: "Pause",
        20: "Caps Lock",
        21: "Hangul",
        22: "Hanja",
        27: "Escape",
        28: "Conversion",
        29: "Non-conversion",
        32: "Space",
        33: "PgUp",
        34: "PgDown",
        35: "End",
        36: "Home",
        37: "ArrowLeft",
        38: "ArrowUp",
        39: "ArrowRight",
        40: "ArrowDown",
        41: "Select",
        42: "Print",
        43: "Execute",
        44: "PrtnScreen",
        45: "Insert",
        46: "Delete",
        47: "Help",
        48: "Digit0",
        49: "Digit1",
        50: "Digit2",
        51: "Digit3",
        52: "Digit4",
        53: "Digit5",
        54: "Digit6",
        55: "Digit7",
        56: "Digit8",
        57: "Digit9",
        58: ":",
        59: "=",
        60: "<",
        61: "=",
        63: "",
        64: "@",
        65: "a",
        66: "b",
        67: "c",
        68: "d",
        69: "e",
        70: "f",
        71: "g",
        72: "h",
        73: "i",
        74: "j",
        75: "k",
        76: "l",
        77: "m",
        78: "n",
        79: "o",
        80: "p",
        81: "q",
        82: "r",
        83: "s",
        84: "t",
        85: "u",
        86: "v",
        87: "w",
        88: "x",
        89: "y",
        90: "z",
        91: "MetaLeft",
        92: "MetaRight",
        93: "ContextMenu",
        95: "Sleep",
        96: "Numpad0",
        97: "Numpad1",
        98: "Numpad2",
        99: "Numpad3",
        100: "Numpad4",
        101: "Numpad5",
        102: "Numpad6",
        103: "Numpad7",
        104: "Numpad8",
        105: "Numpad9",
        106: "NumpadMultiply",
        107: "NumpadAdd",
        108: "Underscore",
        109: "NumpadSubtract",
        111: "NumpadDivide",
        112: "F1",
        113: "F2",
        114: "F3",
        115: "F4",
        116: "F5",
        117: "F6",
        118: "F7",
        119: "F8",
        120: "F9",
        121: "F10",
        122: "F11",
        123: "F12",
        144: "NumLock",
        145: "ScrollLock",
        160: "^",
        161: "!",
        162: "",
        163: "#",
        164: "$",
        165: "",
        166: "Page Backward",
        167: "Page Forward",
        168: "Refresh",
        173: "Mute",
        174: "Volume-",
        175: "Volume+",
        176: "Next",
        177: "Previous",
        178: "Stop",
        179: "Play/pause",
        180: "E-mail",
        181: "Mute",
        182: "Volume-",
        183: "Volume+",
        186: "BracketRight",
        187: "Equal",
        188: "Comma",
        189: "Minus",
        190: "Period",
        191: "Slash",
        192: "BackQuote",
        193: "?",
        194: "Numpad.",
        219: "BracketLeft",
        220: "Backslash",
        221: "BracketRight",
        222: "Quote",
        223: "`",
        224: "Cmd",
        225: "AltGr",
        226: "IntlBackslash"
    };
    function xq(m) {
        return m.code ? m.code.replace(/^Key/, "") : m.keyCode ? Mq[m.keyCode] ? Mq[m.keyCode] : m.keyCode : void 0 !== m.button ? 0 == m.button ? "Left Click" : 1 == m.button ? "Middle Click" : 2 == m.button ? "Right Click" : "Mouse button " + m.button : "&nbsp;"
    }
    var eq, Kq, Aq, sq = 0;
    function Vq(m, a, y) {
        (new Date).getTime() - sq < 500 || (m.innerHTML = "Press a key / click", m.className = "waiting", window.addEventListener("keydown", Sq, !0), window.addEventListener("mousedown", lq, !0), eq = m, Kq = a, Aq = y, qy[a][y] = {})
    }
    function Sq(m) {
        "KeyB" == m.code || "KeyI" == m.code || "KeyL" == m.code || "Enter" == m.code ? (Wy("This key is reserved"), zq({
            keyCode: 27
        })) : zq({
            code: m.code,
            keyCode: m.keyCode
        }), m.preventDefault(), m.stopPropagation(), m.returnValue = !1
    }
    function lq(m) {
        zq({
            button: m.button
        }), m.preventDefault(), m.stopPropagation(), m.returnValue = !1
    }
    function zq(m) {
        window.removeEventListener("keydown", Sq, !0), window.removeEventListener("mousedown", lq, !0), eq.className = "", sq = (new Date).getTime(), void 0 !== m.keyCode && 27 == m.keyCode ? eq.innerHTML = "&nbsp;" : (qy[Kq][Aq] = m, eq.innerHTML = xq(m)), localStorage.setItem("keyBindings", JSON.stringify(qy)), F > 0 && nq()
    }
    var Eq = {},
        Iq = {},
        _q = {};
    function nq() {
        for (var m in Eq = {}, Iq = {}, _q = {}, qy)
            for (var a = 0; a < qy[m].length; a++) {
                var y = qy[m][a];
                y && (void 0 !== y.code && (Eq[y.code] = m), void 0 !== y.keyCode && (Iq[y.keyCode] = m), void 0 !== y.button && (_q[y.button] = m))
            }
    }
    var Wq = !1,
        wq = 1,
        kq = [],
        Oq = [];
    function Tq(m, a, y) {
        kq[m] || (kq[m] = new PIXI.Sprite(E["capture-blue-" + (0 == m ? "A" : "B")]), kq[m].width = 12, kq[m].height = 12, kq[m].anchor.set(.5), K.addChild(kq[m])), kq[m].position.set(a, y)
    }
    function Qq(m, a, y) {
        Oq[m] || (Oq[m] = new PIXI.Graphics, Oq[m].beginFill(Ua[m], .5), Oq[m].drawRect(0, 0, 12, 12), K.addChild(Oq[m])), Oq[m].position.set(a, y)
    }
    function Cq(m, a, y) {
        var u = m.dst2(a);
        if (0 == u) return m;
        var o = ((y.x - m.x) * (a.x - m.x) + (y.y - m.y) * (a.y - m.y)) / u;
        return o < 0 ? m : o > 1 ? a : new PIXI.Point(m.x + o * (a.x - m.x), m.y + o * (a.y - m.y))
    }
    function mB(m, a, y) {
        return (m.x - a.x) * (y.y - a.y) - (m.y - a.y) * (y.x - a.x)
    }
    function iq(m, a) {
        return m.dot1 == a ? m.rotation : m.rotation > 0 ? m.rotation - Math.PI : m.rotation + Math.PI
    }
    function bq(m) {
        var a = [];
        for (var y in DotsIng) DotsIng[y].dot1 != m && DotsIng[y].dot2 != m || a.push(DotsIng[y]);
        return a.sort(function (a, y) {
            var u = jh(iq(a, m));
            return jh(iq(y, m)) - u
        }), a
    }
    function gq(m, a) {
        for (var y = bq(m), u = 0; u < y.length; u++)
            if (y[u].dot1 == a || y[u].dot2 == a) return !0;
        return !1
    }
    function rq(m, a, y) {
        void 0 === y && (y = []);
        for (var u = [], o = 0; o < m.length; o++) {
            var h = m[o],
                B = m[(o + 1) % m.length];
            if (void 0 !== a) var q = a[o];
            else
                for (var d in DotsIng)
                    if (DotsIng[d].dot1 == h && DotsIng[d].dot2 == B || DotsIng[d].dot1 == B && DotsIng[d].dot2 == h) {
                        q = DotsIng[d];
                        break
                    } u[o] = iq(q, h), y[o] = q.dot1 == h
        }
        var G = 0,
            Y = 0;
        for (o = 0; o < u.length; o++) G += jh(jh(u[o]) - jh(u[(o + 1) % u.length] + Math.PI)), Y += jh(jh(u[(o + 1) % u.length]) - jh(u[o] + Math.PI));
        return G > Y
    }
    function Rq(m) {
        for (var a = [], y = null, u = 0; u < m.length; u++) {
            var o = m[u];
            if (y)
                for (var h in DotsIng)
                    if (DotsIng[h].dot1 == o && DotsIng[h].dot2 == y || DotsIng[h].dot2 == o && DotsIng[h].dot1 == y) {
                        a.push(DotsIng[h]);
                        break
                    } y = o
        }
        for (var h in DotsIng)
            if (DotsIng[h].dot1 == m[0] && DotsIng[h].dot2 == y || DotsIng[h].dot2 == m[0] && DotsIng[h].dot1 == y) {
                a.push(DotsIng[h]);
                break
            } var B = [],
            q = rq(m, a, B),
            d = new DataView(new ArrayBuffer(15 + 5 * m.length));
        d.setInt32(1, wq++), d.setInt32(5, m[0].owner), d.setFloat32(9, 0), d.setInt16(13, m.length);
        for (u = 0; u < a.length; u++) {
            var G = a[u];
            d.setInt32(15 + 5 * u, G.lineId), d.setUint8(15 + 5 * u + 4, q && B[u] || !q && !B[u] ? 0 : 1)
        }
        Ho(d, !1)
    }
    function Dq() {
        var m, a;
        Wq = !0, nq(), ja.splice(0, 0, 5066061), fa.splice(0, 0, "Walls"), Um = 210, pm = 120, vm = 1, MaxIndexVal = .6, jm = .3, na = .6763066483560869, Wa = .6, Ea = 7, Ia = 96, _a = 48, 2 * (vm *= Ja), Nm = 1e3, fm = 70, Fm = 40, Ra = 1, E["tower-kh"] = PIXI.Texture.fromImage("img/tower-kh.png"), I = {
            shooting: !1,
            moving: !1,
            aimDirection: 0,
            moveDirection: 0
        }, (m = document.createElement("div")).setAttribute("id", "defuse-editor-help"), m.innerHTML = '<div style="text-align:center"><div id="defuse-help-hide" class="button" onclick="$(\'#defuse-help-content\').toggle();$(\'#defuse-help-hide\').toggle();$(\'#defuse-help-show\').toggle();">Hide menu</div><div style="display:none" id="defuse-help-show" class="button" onclick="$(\'#defuse-help-content\').toggle();$(\'#defuse-help-hide\').toggle();$(\'#defuse-help-show\').toggle();">Show menu</div></div><div id="defuse-help-content"><div onclick="defly.editor.downloadMap();" class="button">Download the map file</div><div onclick="defly.editor.loadMap();" class="button">Load a map file</div><div onclick="defly.editor.mapDim();" class="button">Change map dimensions</div><div onclick="defly.editor.mapShape();" class="button">Switch map shape</div><div onclick="defly.editor.kothBounds();" class="button">Edit KOTH Bounds</div><div style="margin-top:16px;">Key bindings:</div><ul><li> WASD: move</li><li>Right-Click/space: build a tower</li><li>Left-Click: remove tower/cancel wall</li><li>+/- and mouse wheel: zoom</li><li>=: Reset zoom</li><li>F: color grey enclosed area (grey areas appear on the minimap)</li><li>G: snap cursor to grid</li><li>X: view/hide helicopter</li><li>Y: (DEFUSE) place bomb spot A</li><li>U: (DEFUSE) place bomb spot B</li><li>R: (DEFUSE) place blue spawn area</li><li>T: (DEFUSE) place red spawn area</li><li>N: Change Team Color</li><li>B: Load background image trace</li></ul></div>', document.body.appendChild(m), (m = document.createElement("div")).setAttribute("id", "defuse-editor-position"), document.body.appendChild(m), MainLoop.start(), document.getElementById("homepage").style.display = "none", P.view.style.display = "block", Lm = 2, Da[localPlayerInde = 1] = 1, qu(localPlayerInde), PlayerList[localPlayerInde].visible = !1, PlayerList[localPlayerInde].position.set(Um / 2, pm / 2), (Xm = new PIXI.Sprite(E["wall-line"])).anchor.set(.5), Xm.height = Wa, Xm.alpha = .2, Xm.tint = oy(localPlayerInde), Xm.visible = !1, A.addChild(Xm), (cm = new PIXI.Sprite(E.dot1)).anchor.set(.5), cm.width = 2 * MaxIndexVal, cm.height = 2 * MaxIndexVal, cm.alpha = .2, cm.tint = oy(localPlayerInde), K.addChild(cm), Km = [128, 8, 8, 8, 2048, 8, 8], ch(), window.addEventListener("wheel", function (m) {
            m.deltaY < 0 && (fm /= 1.1, Fm /= 1.1, Ea /= 1.1, Ia /= 1.1, _a /= 1.1, ch()), m.deltaY > 0 && (fm *= 1.1, Fm *= 1.1, Ea *= 1.1, Ia *= 1.1, _a *= 1.1, ch())
        }, !0);
        var y = new PIXI.Container;
        M.addChildAt(y, 0), window.addEventListener("keydown", function (m) {
            if ("+" == m.key) fm /= 1.1, Fm /= 1.1, ch();
            else if ("-" == m.key) fm *= 1.1, Fm *= 1.1, ch();
            else if ("=" == m.key) fm = 70, Fm = 40, ch();
            else if ("g" == m.key) Mm = !Mm;
            else if ("x" == m.key) PlayerList[localPlayerInde].visible = !PlayerList[localPlayerInde].visible;
            else if ("n" == m.key) {
                var u = window.prompt("Team ID? 1=grey, 2 = blue, etc up to 13", Ra);
                u && (Ra = u, Xm.tint = hy(Ra), cm.tint = hy(Ra), Uh = null)
            } else if ("b" == m.key)(S = document.createElement("input")).setAttribute("type", "file"), S.setAttribute("accept", "image/*"), S.addEventListener("change", function () {
                var m = new FileReader;
                m.onload = function () {
                    var u = m.result,
                        o = new Image;
                    o.onload = function () {
                        var m = new PIXI.Texture(new PIXI.BaseTexture(o));
                        (a = new PIXI.Sprite(m)).anchor.set(.5, .5), a.width = Um, a.height = Um / m.width * m.height, a.height > pm && (a.height = pm, a.width = pm / m.height * m.width), a.x = Um / 2, a.y = pm / 2, y.removeChildren(), y.addChild(a)
                    }, o.src = u
                }, m.readAsDataURL(S.files[0])
            }), setTimeout(function () {
                S.click()
            }, 200);
            else if ("y" == m.key) {
                Tq(0, Fo((o = oh()).x), Fo(o.y))
            } else if ("u" == m.key) {
                Tq(1, Fo((o = oh()).x), Fo(o.y))
            } else if ("r" == m.key) {
                Qq(1, Fo((o = oh()).x) - 6, Fo(o.y) - 6)
            } else if ("t" == m.key) {
                Qq(2, Fo((o = oh()).x) - 6, Fo(o.y) - 6)
            } else if ("f" == m.key) {
                var o = oh(),
                    h = null,
                    B = Number.MAX_VALUE;
                for (var q in DotsIng) {
                    var d = Cq((H = DotsIng[q]).dot1.position, H.dot2.position, o).dst2(o);
                    d < B && (B = d, h = H)
                }
                if (h) {
                    var G, Y = mB(o, h.dot1.position, h.dot2.position) >= 0;
                    if (Y && h.leftZoneId > 0) return (G = new DataView(new ArrayBuffer(5))).setInt32(1, h.leftZoneId), void Xo(G);
                    if (!Y && h.rightZoneId > 0) return (G = new DataView(new ArrayBuffer(5))).setInt32(1, h.rightZoneId), void Xo(G);
                    for (var H, L = [(H = h).dot1], P = H, M = H.dot1, x = H.dot2, e = !1; x != M;)
                        if (x != M) {
                            var K = L.indexOf(x);
                            if (-1 != K)
                                for (; L.length > K;) L.splice(K, 1);
                            var A = bq(x),
                                s = A.indexOf(P);
                            if (-1 === s) return void console.error("currentLine not found");
                            if (Y) var V = A[(s - 1 + A.length) % A.length];
                            else V = A[(s + 1) % A.length];
                            if (L.push(x), P = V, (x = V.dot1 == x ? V.dot2 : V.dot1) == M)
                                if (Y == rq(L)) {
                                    e = !0;
                                    break
                                }
                        } x == M && L.length > 2 && e && Rq(L)
                }
            }
            var S
        }, !0), window.defly.editor = {
            downloadMap: function () {
                var m = "MAP_WIDTH " + Um + "\nMAP_HEIGHT " + pm + "\n";
                La && (m += "KOTH " + Pa.x1 + " " + Pa.y1 + " " + Pa.x2 + " " + Pa.y2 + "\n");
                for (var a = 0; a < kq.length; a++) kq[a] && (m += "t " + a + " " + kq[a].x + " " + kq[a].y + "\n");
                for (a = 0; a < Oq.length; a++) Oq[a] && (m += "s " + a + " " + Oq[a].x + " " + Oq[a].y + "\n");
                for (var y in GameObjects) m += "d " + y + " " + GameObjects[y].x + " " + GameObjects[y].y + (1 == GameObjects[y].owner ? "" : " " + GameObjects[y].owner) + "\n";
                for (var y in DotsIng) m += "l " + DotsIng[y].dot1.dotId + " " + DotsIng[y].dot2.dotId + "\n";
                for (var y in ia) {
                    m += "z";
                    var u = ia[y].linePath,
                        o = u[u.length - 1];
                    for (a = 0; a < u.length; a++) {
                        var h = u[a];
                        m += " " + (h.dot1 == o.dot1 || h.dot1 == o.dot2 ? h.dot1 : h.dot2).dotId, o = h
                    }
                    m += "\n"
                }
                var B = new Blob([m], {
                    type: "text/plain;charset=utf-8"
                });
                saveAs(B, (new Date).toISOString() + " defly.io defuse map.txt")
            },
            loadMap: function () {
                var m = document.createElement("input");
                m.setAttribute("type", "file"), m.setAttribute("accept", ".txt"), m.addEventListener("change", function () {
                    var a = new FileReader;
                    a.onload = function () {
                        var y = a.result.split(/\r?\n/);
                        K.removeChildren(), A.removeChildren(), s.removeChildren(), A.addChild(Xm), K.addChild(cm), GameObjects = {}, DotsIng = {}, ia = {}, Uh = null, cm.visible = !0, Xm.visible = !1, kq = [], Oq = [], wq = 1;
                        for (var u = 0; u < y.length; u++) {
                            var o = y[u].split(" ");
                            switch (o[0]) {
                            case "MAP_WIDTH":
                                Um = parseFloat(o[1]);
                                break;
                            case "MAP_HEIGHT":
                                pm = parseFloat(o[1]), 1 == Xa ? pm > Math.sqrt(3) * Um / 2 ? Um = pm / Math.sqrt(3) * 2 : Um > pm / Math.sqrt(3) * 2 && (pm = Math.sqrt(3) * Um / 2) : 2 == Xa && (Um >= pm ? pm = Um : Um = pm), Pu();
                                break;
                            case "KOTH":
                                Pa = {
                                    x1: parseFloat(o[1]),
                                    y1: parseFloat(o[2]),
                                    x2: parseFloat(o[3]),
                                    y2: parseFloat(o[4])
                                }, La = !0;
                                break;
                            case "t":
                                Tq(parseInt(o[1]), parseFloat(o[2]), parseFloat(o[3]));
                                break;
                            case "s":
                                Qq(parseInt(o[1]), parseFloat(o[2]), parseFloat(o[3]));
                                break;
                            case "d":
                                (h = new DataView(new ArrayBuffer(27))).setInt32(1, parseInt(o[1])), h.setInt32(5, o.length >= 5 ? parseInt(o[4]) : 1), h.setFloat32(9, parseFloat(o[2])), h.setFloat32(13, parseFloat(o[3])), h.setUint8(17, 1), h.setUint8(18, 1), h.setFloat32(19, 0), h.setInt32(23, 0), oo(h), wq = Math.max(wq, parseInt(o[1]) + 1);
                                break;
                            case "l":
                                var h, B = GameObjects[parseInt(o[1])],
                                    q = GameObjects[parseInt(o[2])];
                                gq(B, q) || ((h = new DataView(new ArrayBuffer(25))).setInt32(1, wq++), h.setInt32(5, B.owner), h.setInt32(9, B.dotId), h.setInt32(13, q.dotId), h.setInt32(17, 0), h.setInt32(21, 0), qo(h));
                                break;
                            case "z":
                                for (var d = [], G = 1; G < o.length; G++) {
                                    var Y = GameObjects[parseInt(o[G])];
                                    d.push(Y)
                                }
                                Rq(d)
                            }
                        }
                        PlayerList[localPlayerInde].position.set(Um / 2, pm / 2), ch(), Ou("File loaded: " + m.files[0].name)
                    }, a.readAsText(m.files[0])
                }), setTimeout(function () {
                    m.click()
                }, 200)
            },
            mapDim: function () {
                var m = parseInt(prompt("Map Width?", Um));
                if (m) {
                    var a = parseInt(prompt("Map Height?", pm));
                    a && (Um = m, pm = a, PlayerList[localPlayerInde].x > Um && (PlayerList[localPlayerInde].x = Um), PlayerList[localPlayerInde].y > pm && (PlayerList[localPlayerInde].y = pm), ch())
                }
            },
            mapShape: function () {
                1 == (Xa = (Xa + 1) % 3) ? pm = Math.sqrt(3) * Um / 2 : 2 == Xa && (pm = Um), Pu(), ch()
            },
            kothBounds: function () {
                var m = prompt("Upper-left X coordinate? (empty to remove KOTH bounds)", Pa ? Pa.x1 : "");
                if (m) {
                    var a = prompt("Upper-left Y coordinate?", Pa ? Pa.y1 : ""),
                        y = prompt("Lower-right X coordinate?", Pa ? Pa.x2 : ""),
                        u = prompt("Lower-right Y coordinate?", Pa ? Pa.y2 : "");
                    Pa = {
                        x1: parseFloat(m),
                        y1: parseFloat(a),
                        x2: parseFloat(y),
                        y2: parseFloat(u)
                    }, La = !0
                } else Pa = null, La = !1;
                for (var o in GameObjects) {
                    var h = GameObjects[o],
                        B = 15642415 == h.tint;
                    if (La && h.x >= Pa.x1 && h.x <= Pa.x2 && h.y >= Pa.y1 && h.y <= Pa.y2 ? (h.texture = E["tower-kh"], h.tint = 15642415) : (h.texture = E.dot1, h.tint = 5066061), B ^ 15642415 == h.tint)
                        for (var q = 0; q < h.lines.length; q++) h.lines[q].tint = h.tint
                }
            }
        }
    }
    function $q() {
        try {
            if (h && (document.getElementById("server-block").style.display = "block"), document.getElementById("preferred-server-block").style.display = "none", m = null, window.location.hash.length > 0) {
                var a = window.location.hash.replace(/^#/, "").split("-");
                a.length >= 2 && (Lm = parseInt(a.shift()), Xy(), m = a.join("-"), document.getElementById("server-block").style.display = "none", document.getElementById("preferred-server-block").style.display = "block", document.getElementById("preferred-server").innerHTML = m)
            }
        } catch (m) {
            console.error(m)
        }
    }
    function Zq() {
        document.getElementById("homepage-loading").style.display = "block", document.getElementById("homepage-loaded").style.display = "none";
        var m = new XMLHttpRequest;
        m.onreadystatechange = function () {
            if (4 == m.readyState && 200 == m.status) {
                var a = m.responseText.split("\n"),
                    y = document.createElement("div");
                y.className = "tourney-mgr", (o = document.createElement("div")).className = "title", o.innerHTML = "My Team", y.appendChild(o);
                for (var o, h = !1, B = 0; B < a.length - 1; B += 3) a[B] == rB && 1 == a[B + 2] && (h = !0);
                for (B = 0; B < a.length - 1; B += 3) {
                    var q = document.createElement("div");
                    if (q.className = "member", q.innerHTML = (1 == a[B + 2] ? "CAPTAIN - " : "") + a[B + 1], h && 1 != a[B + 2]) {
                        var d = document.createElement("span");
                        d.className = "button remove", d.innerHTML = "Remove", q.appendChild(d), d.addEventListener("click", function (m) {
                            return function () {
                                if (window.confirm("Really remove this player from the team?")) {
                                    var a = new XMLHttpRequest;
                                    a.onreadystatechange = function () {
                                        4 == a.readyState && 200 == a.status ? Zq() : 4 == a.readyState && 200 != a.status && a.onerror(a.status)
                                    }, a.onerror = function (m) {
                                        Ou((new Date).toLocaleTimeString() + " - Error removing member", "error")
                                    }, a.open("GET", t + "/tourney/remove?s=" + (u || "") + "&u=" + m, !0), a.send(null)
                                }
                            }
                        }(a[B]))
                    }
                    y.appendChild(q)
                }
                if (h)(o = document.createElement("div")).className = "bottom button", o.innerHTML = "Generate invite link", y.appendChild(o), o.addEventListener("click", function () {
                    var m = new XMLHttpRequest;
                    m.onreadystatechange = function () {
                        if (4 == m.readyState && 200 == m.status) {
                            y.removeChild(o);
                            var a = document.createElement("div");
                            a.className = "bottom link", a.innerHTML = "http://" + document.location.host + "?tourney-join&c=" + m.responseText, y.appendChild(a)
                        } else 4 == m.readyState && 200 != m.status && m.onerror(m.status)
                    }, m.onerror = function (m) {
                        Ou((new Date).toLocaleTimeString() + " - Error changing invite code", "error")
                    }, m.open("GET", t + "/tourney/changeInviteCode?s=" + (u || ""), !0), m.send(null)
                });
                document.body.appendChild(y)
            }
        }, m.onerror = function (m) {
            Ou((new Date).toLocaleTimeString() + " - Error fetching team members", "error")
        }, m.open("GET", t + "/tourney/members?s=" + (u || ""), !0), m.send(null)
    }
    function Xq() {
        var m = "none";
        P && P.view && (document.body.removeChild(P.view), m = P.view.style.display);
        PIXI.utils.isWebGLSupported(), (P = PIXI.autoDetectRenderer(256, 256, {
            antialias: !0,
            transparent: !1,
            resolution: mm * Hy
        })).plugins.interaction && (P.plugins.interaction.destroy(), P.plugins.interaction = null), P.plugins.accessibility && (P.plugins.accessibility.destroy(), P.plugins.accessibility = null), P.view.addEventListener("touchstart", Eh, !0), P.view.addEventListener("touchmove", Eh, !0), P.view.addEventListener("touchend", Eh, !0), P.view.addEventListener("touchcancel", Eh, !0), P.view.addEventListener("mousedown", Wh, !0), P.view.tabindex = 1, P.backgroundColor = oa ? 0 : 15923199, P.view.style.position = "fixed", P.view.style.top = 0, P.view.style.left = 0, P.autoResize = !0, P.view.style.display = m, P.view.oncontextmenu = function (m) {
            return m.preventDefault(), !1
        }, document.body.appendChild(P.view), ch(), P.view.addEventListener("webglcontextlost", function (m) {
            console.error("WebGL context lost", m), m.preventDefault(), MainLoop.stop(), setTimeout(function () {
                P.view.getContext("webgl").isContextLost() && (console.error("Context was not restored after 1 second, recreating"), Xq(), MainLoop.start())
            }, 1e3)
        }, !1), P.view.addEventListener("webglcontextrestored", function () {
            console.error("WebGL context restored, recreating"), Xq(), MainLoop.start()
        }, !1)
    }
    function cq() {
        if ("https:" === window.location.protocol.toLowerCase()) t = t.replace("http", "https");
        else {
            var m = document.getElementById("fb-login-button"),
                a = document.createElement("div");
            a.innerHTML = '<div>SSL is required <a class="button" style="color:white" href="' + window.location.href.replace("http", "https") + '">Reload with SSL</a></div>', m.parentNode.replaceChild(a, m)
        }
        "undefined" != typeof Raven && Raven.config && Raven.config(window.location.protocol + "//cac34828573e48f99770f28f2b29bd17@sentry.defly.io/7", {
            whitelistUrls: ["scripts.js", "game.js"]
        }).install();
        try {
            var y = localStorage.getItem("quality");
            y && My(y)
        } catch (m) {
            console.error(m)
        }
        try {
            if ("undefined" != typeof Storage) {
                if (localStorage.getItem("username") && (document.getElementById("username").value = localStorage.getItem("username")), localStorage.getItem("sessionId") && (u = localStorage.getItem("sessionId")), localStorage.getItem("keyBindings") ? qy = JSON.parse(localStorage.getItem("keyBindings")) : localStorage.getItem("trackPadFriendlyMode") && ("1" == localStorage.getItem("trackPadFriendlyMode") && (qy.MUP = [{
                        code: "KeyW",
                        keyCode: 87
                    }], qy.MDOWN = [{
                        code: "KeyS",
                        keyCode: 83
                    }], qy.MLEFT = [{
                        code: "KeyA",
                        keyCode: 65
                    }], qy.MRIGHT = [{
                        code: "KeyD",
                        keyCode: 68
                    }], qy.SHOOT = [{
                        button: 0
                    }, {
                        code: "ArrowUp",
                        keyCode: 38
                    }], qy.TLEFT = [{
                        code: "ArrowLeft",
                        keyCode: 37
                    }], qy.TRIGHT = [{
                        code: "ArrowRight",
                        keyCode: 39
                    }]), localStorage.removeItem("trackPadFriendlyMode"), localStorage.setItem("keyBindings", JSON.stringify(qy))), localStorage.getItem("moveWithMouse") && (ya = "1" == localStorage.getItem("moveWithMouse"), document.getElementById("controls-mwm").checked = ya, ua = ya), localStorage.getItem("colorBlindMode") && (Ma = "1" == localStorage.getItem("colorBlindMode"), document.getElementById("controls-colorblind").checked = Ma), localStorage.getItem("darkTheme") && (oa = "1" == localStorage.getItem("darkTheme"), document.getElementById("theme-radio1").checked = !oa, document.getElementById("theme-radio2").checked = oa), localStorage.getItem("chatDisabled") && (ha = "1" == localStorage.getItem("chatDisabled"), document.getElementById("settings-disablechat").checked = ha), localStorage.getItem("infologDisabled") && (Ba = "1" == localStorage.getItem("infologDisabled"), document.getElementById("settings-disableinfolog").checked = Ba), localStorage.getItem("chatSize")) {
                    qa = parseInt(localStorage.getItem("chatSize"));
                    for (var o = document.getElementsByName("settings-chat-size"), h = 0; h < o.length; h++) o[h].checked = o[h].value == qa;
                    document.getElementById("chat-history").className = "size" + qa
                }
                localStorage.getItem("gameMode") && (Lm = parseInt(localStorage.getItem("gameMode")), Xy()), localStorage.getItem("initialGameMode") ? la = parseInt(localStorage.getItem("initialGameMode")) : localStorage.getItem("gameMode") || (la = Math.random() < .5 ? 0 : 3, localStorage.setItem("initialGameMode", la), localStorage.setItem("gameMode", la), Lm = la, Xy());
                var B = document.getElementById("settings-bindings");
                for (var q in By) {
                    var d = document.createElement("div");
                    d.className = "binding";
                    var G = document.createElement("div");
                    G.className = "name", G.innerHTML = By[q], d.appendChild(G);
                    var Y = document.createElement("div");
                    Y.className = "value", d.appendChild(Y);
                    var H = document.createElement("div");
                    Y.appendChild(H);
                    var L = document.createElement("div");
                    L.className = "value", d.appendChild(L);
                    var I = document.createElement("div");
                    L.appendChild(I), B.appendChild(d);
                    var _ = qy[q];
                    H.innerHTML = _.length >= 1 && _[0] && Object.keys(_[0]).length > 0 ? xq(_[0]) : "&nbsp;", I.innerHTML = _.length >= 2 && _[1] && Object.keys(_[1]).length > 0 ? xq(_[1]) : "&nbsp;", H.addEventListener("click", function (m, a, y) {
                        return function () {
                            Vq(m, a, 0)
                        }
                    }(H, q), !1), I.addEventListener("click", function (m, a, y) {
                        return function () {
                            Vq(m, a, 1)
                        }
                    }(I, q), !1)
                }
            }
        } catch (m) {
            console.error(m)
        }
        PIXI.ticker.shared.stop(), Xq(), window.addEventListener("resize", ch, !0), window.addEventListener("mousemove", lh, !0), window.addEventListener("mouseup", wh, !0), window.addEventListener("wheel", Zh, !0), window.addEventListener("keydown", rh, !0), window.addEventListener("keyup", Dh, !0), window.oncontextmenu = function (m) {
            return m.preventDefault(), !1
        }, window.addEventListener("blur", function () {
            0 != F && (kh = [!1, !1, !1, !1], Ch())
        }, !0), document.getElementById("chat-input").onpaste = function (m) {
            m.preventDefault()
        }, M = new PIXI.Container, x = new PIXI.Container, M.addChild(x), e = new PIXI.Container, M.addChild(e), s = new PIXI.Container, M.addChild(s), A = new PIXI.Container, M.addChild(A), K = new PIXI.Container, M.addChild(K), S = new PIXI.Container, M.addChild(S), V = new PIXI.Container, M.addChild(V), listofBullets = new PIXI.Container, M.addChild(listofBullets), z = new PIXI.Container, M.addChild(z), i = new PIXI.Container, C = new PIXI.Container, MainLoop.setBegin(vh).setUpdate(BB).setDraw(eB).setEnd(VB), PIXI.loader.add("img/spritesheet9.json").add("img/spritesheet92.json").add("wall-line", "img/line1.png").add("gridpixel", "img/gridpixel.png").load(function (m, a) {
            for (var y in -1 == window.location.search.indexOf("playEpicTourney") && -1 == window.location.search.indexOf("streamEpicTourney") || (xa = !0, ea = !0, Lm = 1, document.getElementById("gamemode-0").style.display = "none", document.getElementById("gamemode-2").style.display = "none", document.getElementById("gamemode-3").style.display = "none", document.getElementById("gamemode-1").classList.add("selected"), document.getElementById("gamemode-4") && (document.getElementById("gamemode-4").style.display = "none")), "?streamTourney" != window.location.search && "?streamEpicTourney" != window.location.search || (Ka = !0, xa = !0), iy(), a)
                if (a[y].error) {
                    console.error("error loading asset", a[y].error), alert(Gy("Error loading game images, please reload the page. Clear your browser cache if this happens repeatedly.")), a[y].error;
                    break
                } for (var u in E = PIXI.loader.resources["img/spritesheet9.json"].textures, PIXI.loader.resources["img/spritesheet92.json"].textures) E[u] = PIXI.loader.resources["img/spritesheet92.json"].textures[u];
            var o;
            E.gridpixel = PIXI.loader.resources.gridpixel.texture, E.gridpixel.baseTexture.mipmap = !1, E["wall-line"] = PIXI.loader.resources["wall-line"].texture, -1 != window.location.search.indexOf("halloween") && (E.dot1 = PIXI.Texture.fromImage("img/dot1s.png"), E.debris = PIXI.Texture.fromImage("img/debrishw.png"), E.shoot = PIXI.Texture.fromImage("img/hwbullet.png"), E["death-blast"] = PIXI.Texture.fromImage("img/hwdeathblast.png"), da = !0, document.querySelector("#homepage .logo img").src = "img/logohw5.png"), (11 == (o = new Date).getMonth() && o.getDate() >= 21 && o.getDate() <= 27 || -1 != window.location.search.indexOf("winter")) && (E.dot1 = PIXI.Texture.fromImage("img/tower-gift.png"), E.shoot = PIXI.Texture.fromImage("img/bullet-snowflake.png"), E["death-blast"] = PIXI.Texture.fromImage("img/death-santa.png"), Ga = !0), -1 != window.location.search.indexOf("starwars") && (E.dot1 = PIXI.Texture.fromImage("img/tower-starwars.png"), E.shoot = PIXI.Texture.fromImage("img/bullet-laser.png"), E["death-blast"] = PIXI.Texture.fromImage("img/death-starwars.png"), Ya = !0, oa = !0, P.backgroundColor = oa ? 0 : 15923199, ch(), eu()), -1 != window.location.search.indexOf("paper") && (E.dot1 = PIXI.Texture.fromImage("img/tower-paper.png"), E.shoot = PIXI.Texture.fromImage("img/bullet-paper.png"), E["wall-line"] = PIXI.Texture.fromImage("img/wall-line-paper.png"), E["death-blast"] = PIXI.Texture.fromImage("img/explosion-paper.png"), Ha = !0), Sy && document.getElementById("youtube-live") && (document.getElementById("youtube-live").style.display = "none"), document.getElementById("homepage-loading").style.display = "none", document.getElementById("homepage-loaded").style.display = "block", $q(), jB(), (b = new PIXI.Sprite(E.shoot)).visible = !1, b.tint = 0, b.alpha = .1, b.anchor.set(.5), (g = new PIXI.Sprite(E.shoot)).visible = !1, g.tint = 0, g.alpha = .3, g.anchor.set(.5), i.addChild(b), i.addChild(g), (r = new PIXI.Sprite(E.shoot)).visible = !1, r.tint = 0, r.alpha = .1, r.anchor.set(.5), (R = new PIXI.Sprite(E.shoot)).visible = !1, R.tint = 0, R.alpha = .3, R.anchor.set(.5), i.addChild(r), i.addChild(R), (D = new PIXI.Sprite(E.build)).visible = !1, D.anchor.set(.5), D.alpha = .5, i.addChild(D), da && PIXI.loader.resources.pumpkin && (E.dot1 = PIXI.loader.resources.dot1s.texture, E.debris = PIXI.loader.resources.debris.texture, E.shoot = PIXI.loader.resources.pumpkin.texture), Ga && PIXI.loader.resources["tower-winter"] && (E.dot1 = PIXI.loader.resources["tower-winter"].texture, E.debris = PIXI.loader.resources["debris-winter"].texture), "?skin-editor" == window.location.search && Bq(), PIXI.loader.add("add-skins", "img/add-skins.js").load(function (m, a) {
                var y = JSON.parse(a["add-skins"].data),
                    u = [];
                for (var o in y.images) E[o] = PIXI.Texture.fromImage(y.images[o]);
                for (var h in y.specs) au[parseInt(h)] = y.specs[h], u.push(parseInt(h));
                setTimeout(function () {
                    for (var m in jB(!0), nm)
                        if (PlayerList[m] && -1 !== u.indexOf(nm[m])) {
                            var a = PlayerList[m];
                            z.removeChild(a), S.removeChild(a.usernameText), a.shield && z.removeChild(a.shield), a.badge && S.removeChild(a.badge), qu(m), PlayerList[m].x = a.x, PlayerList[m].y = a.y, PlayerList[m].sx = a.sx, PlayerList[m].sy = a.sy
                        }
                })
            }), "?defuse-editor" != window.location.search && "?map-editor" != window.location.search || Dq(), document.getElementById("preferred-server-block").getElementsByClassName("close")[0].addEventListener("click", function () {
                history.replaceState("", document.title, window.location.pathname + window.location.search), $q()
            }), document.getElementById("redo-last-upgrade-yes-button") && document.getElementById("redo-last-upgrade-yes-button").addEventListener("click", function () {
                xu(!0)
            }), document.getElementById("redo-last-upgrade-no-button") && document.getElementById("redo-last-upgrade-no-button").addEventListener("click", function () {
                xu(!1)
            })
        }), $(function () {
            $("#server").selectmenu().data("ui-selectmenu")._renderItem = function (m, a) {
                var y = $("<li>"),
                    u = $("<div>", {
                        text: a.label
                    });
                return a.element.attr("data-ping") && $("<span>", {
                    class: "ping",
                    text: "(ping: " + a.element.attr("data-ping") + ")"
                }).appendTo(u), y.append(u).appendTo(m)
            }
        });
        try {
            "undefined" != typeof Storage && (localStorage.getItem("gamesPlayed") && (Ym = localStorage.getItem("gamesPlayed")), localStorage.getItem("showTuto") && (km = "true" == localStorage.getItem("showTuto")), localStorage.getItem("playerSkin") && (playerSkin = parseInt(localStorage.getItem("playerSkin"))), localStorage.getItem("playerSkinColor") && (wm = parseInt(localStorage.getItem("playerSkinColor"))), localStorage.getItem("skinFacebookLiked") && (CB.skinFacebookLiked = "true" == localStorage.getItem("skinFacebookLiked")), localStorage.getItem("skinTwitterTweet") && (CB.skinTwitterTweet = "true" == localStorage.getItem("skinTwitterTweet")), localStorage.getItem("skinTwitterFollow") && (CB.skinTwitterFollow = "true" == localStorage.getItem("skinTwitterFollow")), localStorage.getItem("skinYoutubeSubscribe") && (CB.skinYoutubeSubscribe = "true" == localStorage.getItem("skinYoutubeSubscribe")), localStorage.getItem("skinFacebookShare") && (CB.skinFacebookShare = "true" == localStorage.getItem("skinFacebookShare")), localStorage.getItem("skinDiscordJoin") && (CB.skinDiscordJoin = "true" == localStorage.getItem("skinDiscordJoin")))
        } catch (m) {
            console.log(m)
        }
        Vy = function () {
            var m = !1,
                a = document.createElement("div");
            if (a.setAttribute("class", "pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links ad-text adSense adBlock adContent adBanner"), a.setAttribute("style", "width: 1px ! important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"), window.document.body.appendChild(a), null !== window.document.body.getAttribute("abp") || null === a.offsetParent || 0 == a.offsetHeight || 0 == a.offsetLeft || 0 == a.offsetTop || 0 == a.offsetWidth || 0 == a.clientHeight || 0 == a.clientWidth) m = !0;
            else if (void 0 !== window.getComputedStyle) {
                var y = window.getComputedStyle(a, null);
                !y || "none" != y.getPropertyValue("display") && "hidden" != y.getPropertyValue("visibility") || (m = !0)
            }
            return window.document.body.removeChild(a), m
        }(), document.getElementById("tuto-video").setAttribute("src", Sy ? "img/tutorial-mobile.mp4" : "img/tutorial.mp4"), k = document.getElementById("minimap-canvas"), O = document.getElementById("minimap-canvas").getContext("2d"), (Ey || Iy || ny || _y) && document.getElementById("portal-button") && (document.getElementById("portal-button").style.display = "none");
        try {
            (navigator.language.startsWith("ru") || navigator.language.startsWith("uk")) && (document.getElementById("portal-button").getElementsByTagName("a")[0].href = "http://vseigru.net", document.getElementById("portal-button").getElementsByTagName("a")[0].innerHTML = "More Games")
        } catch (m) {
            console.error(m)
        }
        document.getElementById("gsignin-blocker") && (document.getElementById("gsignin-blocker").addEventListener("click", function (m) {
            document.getElementById("privacy-policy-checkbox").checked || Wy("You must accept the terms of service and privacy policy")
        }, !0), document.getElementById("privacy-policy-checkbox").addEventListener("click", function () {
            document.getElementById("gsignin-blocker").style.pointerEvents = document.getElementById("privacy-policy-checkbox").checked ? "none" : "all"
        }))
    }
    "loading" !== document.readyState ? cq() : document.addEventListener("DOMContentLoaded", cq, !1), window.addEventListener("beforeunload", function (m) {
        if (0 != F && !_ && !Qm || Gh || Wq) {
            return m.returnValue = "Exit the game?", "Exit the game?"
        }
    });
    var Jq = {
        selectMode: function (a) {
            xa || "none" !== document.getElementById("play-button").style.display && (Lm = a, Xy(), iy(), m && (history.replaceState("", document.title, window.location.pathname + window.location.search), $q()))
        },
        clickPlay: function () {
            if (-1 == document.referrer.indexOf("deflyio.com") && -1 == document.referrer.indexOf("deflyio.net") && -1 == document.referrer.indexOf("deflyio.org") && -1 == document.referrer.indexOf("difly.io") && -1 == document.referrer.indexOf("defly-io.com") && -1 == document.referrer.indexOf("difly.io") || (window.top.location.href = "http://defly.io"), Ka || !xa || Om || Tm) {
                (function () {
                    try {
                        if (-1 === (WebSocket + "").indexOf("native code")) return !0;
                        if (-1 === (WebSocket.prototype.send + "").indexOf("native code")) return !0
                    } catch (m) {}
                    return !1
                })(), km ? (Dy = !0, ry(), "undefined" != typeof gtag && gtag("event", "PlayShowTuto", {
                    event_category: "Click",
                    gamesPlayed: Ym,
                    initialGameMode: -1 == la ? null : la
                })) : (Zy(), "undefined" != typeof gtag && gtag("event", "Play", {
                    event_category: "Click",
                    gamesPlayed: Ym,
                    initialGameMode: -1 == la ? null : la
                }));
                try {
                    localStorage.setItem("gameMode", Lm)
                } catch (m) {
                    console.error(m)
                }
            } else Wy("You must sign-in to participate the tournament", "", function () {
                OB()
            })
        },
        backToHomepage: ty,
        showTutorial: ry,
        clickTutoButton: function () {
            if (document.getElementById("homepage").classList.remove("blurred"), document.getElementById("tuto-popup").style.display = "none", km = !document.getElementById("tuto-checkbox").checked, "undefined" != typeof Storage) try {
                localStorage.setItem("showTuto", km)
            } catch (m) {
                console.log(m)
            }
            Dy && Zy(), Dy = !1, "undefined" != typeof gtag && gtag("event", km ? "CloseTutoShowAgain" : "CloseTutoDotNotShowAgain", {
                event_category: "Click"
            })
        },
        respawn: function () {
            Ry = qh, !xa && (Hm > 600 || 2 == Ym || Ym > 2 && (Ym - 2) % 2 == 0) && Jy() ? "undefined" != typeof gtag && gtag("event", "Respawn", {
                event_category: "Click",
                event_label: "VideoAd"
            }) : (qh(), "undefined" != typeof gtag && gtag("event", "Respawn", {
                event_category: "Click",
                event_label: "NoVideoAd"
            })), Cm = 0, document.getElementById("respawn-spinner").style.display = "inline-block", document.getElementById("respawn-button").style.display = "none", document.getElementById("xp-bar").style.display = "block"
        },
        spectate: function () {
            2 == Lm ? Oa >= 30 ? (Ry = dh, (2 == Ym || Ym > 2 && (Ym - 2) % 2 == 0) && Jy() ? "undefined" != typeof gtag && gtag("event", "Spectate", {
                event_category: "Click",
                event_label: "VideoAd"
            }) : dh()) : dh() : document.getElementById("respawn").style.display = "none"
        },
        upgrade: Bh,
        selectSuperpower: function (m) {
            document.getElementById("choose-superpower").style.display = "none";
            var a = new DataView(new ArrayBuffer(2));
            a.setUint8(0, 6), a.setUint8(1, m), H.send(a.buffer), Sm = m, lm = 0, document.getElementById("superpower-fuel").style.display = "block", window.event && window.event.preventDefault()
        },
        promoComplete: vy,
        setQuality: My,
        chooseSkin: function () {
            document.getElementById("skin-popup").style.display = "block", document.getElementById("homepage").classList.add("blurred"), "undefined" != typeof gtag && gtag("event", "SelectSkin", {
                event_category: "Click"
            })
        },
        closeSkinSelector: function () {
            document.getElementById("skin-popup").style.display = "none", document.getElementById("homepage").classList.remove("blurred"), "undefined" != typeof gtag && gtag("event", "CloseSkinPopup", {
                event_category: "Click",
                playerSkin: playerSkin,
                playerSkinColor: wm
            })
        },
        changeSkinColor: pB,
        changeSkinTab: vB,
        sac: Yh,
        onGoogleSignIn: function (m) {
            if (!Tm) {
                var a = (u = m.credential, o = u.split(".")[1].replace(/-/g, "+").replace(/_/g, "/"), h = decodeURIComponent(window.atob(o).split("").map(function (m) {
                    return "%" + ("00" + m.charCodeAt(0).toString(16)).slice(-2)
                }).join("")), JSON.parse(h));
                if (!a.email_verified) return void Wy("Your email for this google account is not verified", "");
                Om = !0, SB = m.credential, zB = a.picture, EB = a.email, wB(), EB.endsWith("@gmail.com") || EB.endsWith("@googlemail.com") || EB.endsWith("@icloud.com") || EB.endsWith("@hotmail.com") || EB.endsWith("@yahoo.com") || (document.getElementById("account-warning").style.display = "block");
                try {
                    var y = localStorage.getItem("wasLoggedInWithGoogle");
                    localStorage.setItem("wasLoggedInWithGoogle", a.sub), y && y != a.sub && google.accounts.id.revoke(y, function (m) {
                        console.log("User signed out from previous google account."), m.successful || console.error("Google logout error for previous sub: " + m.error)
                    })
                } catch (m) {}
            }
            var u, o, h
        },
        googleSignOut: _B,
        onFacebookLoginStatus: nB,
        logout: kB,
        clickFacebookLogin: function () {
            document.getElementById("privacy-policy-checkbox").checked ? FB.login(nB, {
                scope: "email"
            }) : Wy("You must accept the terms of service and privacy policy", "")
        },
        showMyStats: function () {
            var m = new XMLHttpRequest;
            m.onreadystatechange = function () {
                if (4 == m.readyState && 200 == m.status) {
                    for (var a = m.responseText.split("\n"), y = JSON.parse(a[0]), u = a[1], o = "<thead><th>GameMode<th>Start</th><th>Duration</th><th>Level reached/<br/>Rounds played</th><th>Towers destroyed</th><th>Players killed</th><th>Max Map %/<br/>Rounds win%</th><th>Max Score</th><th>Coins earnings</th><th>Kill reason</th></thead><tbody>", h = 0; h < y.length; h++) {
                        var B = y[h],
                            q = 4 == B.game_mode ? 100 * B.max_area : 2 == B.game_mode ? 100 * B.max_area : 100 * B.max_area / (B.map_area ? B.map_area : Math.pow(3 == B.game_mode ? 500 : 800, 2));
                        q = Ro(q);
                        var d = 4 == B.game_mode ? "" : "Disconnect";
                        switch (B.kill_reason) {
                        case 1:
                            d = "Bullet";
                            break;
                        case 2:
                            d = "Wall";
                            break;
                        case 3:
                            d = "Player collision";
                            break;
                        case 4:
                            d = "Victory";
                            break;
                        case 5:
                            d = "Grenade"
                        }
                        o += "<tr><td>" + Pq[B.game_mode] + "</td><td>" + new Date(B.start).toLocaleString() + "</td><td>" + (G = (B.end - B.start) / 1e3, Y = void 0, H = void 0, L = void 0, Y = Math.floor(G / 3600), H = Math.floor((G - 3600 * Y) / 60), L = Math.floor(G - 3600 * Y - 60 * H), Y < 10 && (Y = "0" + Y), H < 10 && (H = "0" + H), L < 10 && (L = "0" + L), Y + "h" + H + "m" + L + "s") + "</td><td>" + B.level + "</td><td>" + B.dot_kills + "</td><td>" + B.player_kills + "</td><td>" + q + "</td><td>" + Math.round(B.max_score) + "</td><td>" + Lq(B.game_mode, B.max_score, B.dot_kills, B.player_kills) + "</td><td>" + d + "</td></tr>"
                    }
                    o += "</tbody>", document.getElementById("my-statistics-table").innerHTML = o, document.getElementById("ms-coins").innerHTML = Math.floor(u), document.getElementById("ma-coins").innerHTML = Math.floor(u), document.getElementById("ms-player-name").innerHTML = document.getElementById("username").value, document.getElementById("my-statistics").style.display = "block", document.getElementById("my-stats-button").enabled = !0, document.getElementById("my-stats-button").innerHTML = Gy("My Statistics")
                } else 4 == m.readyState && 200 != m.status && m.onerror(m.status);
                var G, Y, H, L
            }, m.onerror = function (m) {
                Ou((new Date).toLocaleTimeString() + " - Error getting stats", "error"), console.log(m)
            }, m.open("POST", t + "/mystats?s=" + u, !0), m.send(null), document.getElementById("my-stats-button").enabled = !1, document.getElementById("my-stats-button").innerHTML = Gy("Loading...")
        },
        showMyAccount: Hq,
        selectTeam: bo,
        buyGear: function (m) {
            var a = new DataView(new ArrayBuffer(3));
            a.setUint8(0, 11), a.setUint8(1, m), a.setUint8(2, 0), H.send(a.buffer)
        },
        sellGear: function (m) {
            var a = new DataView(new ArrayBuffer(3));
            a.setUint8(0, 11), a.setUint8(1, m), a.setUint8(2, 1), H.send(a.buffer)
        },
        changeControls: function () {
            Ma = document.getElementById("controls-colorblind").checked, ya = document.getElementById("controls-mwm").checked, ua = ya;
            try {
                localStorage.setItem("moveWithMouse", ya ? 1 : 0), localStorage.setItem("colorBlindMode", Ma ? 1 : 0)
            } catch (m) {
                console.log(m)
            }
            if (F > 0)
                for (var m in GameObjects) GameObjects[m].texture = E[Bo(GameObjects[m].owner, GameObjects[m].hp, GameObjects[m].maxHP)]
        },
        changeTheme: function () {
            oa = document.getElementById("theme-radio2").checked, P.backgroundColor = oa ? 0 : 15923199;
            try {
                localStorage.setItem("darkTheme", oa ? 1 : 0)
            } catch (m) {
                console.log(m)
            }
            if (ch(), F > 0) {
                for (var m in PlayerList) PlayerList[m].usernameText._style.fill = oa ? 16777215 : 0;
                eu()
            }
        },
        changeChatSettings: function () {
            ha = document.getElementById("settings-disablechat").checked, Ba = document.getElementById("settings-disableinfolog").checked;
            for (var m = document.getElementsByName("settings-chat-size"), a = 0; a < m.length; a++) m[a].checked && (qa = m[a].value);
            document.getElementById("chat-history").className = "size" + qa;
            try {
                localStorage.setItem("chatDisabled", ha ? 1 : 0), localStorage.setItem("infologDisabled", Ba ? 1 : 0), localStorage.setItem("chatSize", qa)
            } catch (m) {
                console.log(m)
            }
        },
        showLoginPopup: OB,
        joinTourney: function () {
            if (Ka || Om || Tm) {
                if (!N) {
                    N = !0, xa = !0, Aa = !0, Lm = 0;
                    for (var m = 0; m <= 4; m++) document.getElementById("gamemode-" + m) && (document.getElementById("gamemode-" + m).style.display = "none");
                    document.getElementById("server-block").style.display = "none", document.getElementById("play-button").style.display = "none", document.getElementById("play-spinner").style.display = "block", iy()
                }
            } else Wy("Log-in first to participate the tournament", "", OB)
        },
        buyPremium: function (m) {
            if (3 == m || 4 == m || 5 == m) {
                var a = document.getElementById("buy-premium-button");
                a.textContent = "Please wait...", a.disabled = !0;
                var y = new XMLHttpRequest;
                return y.onreadystatechange = function () {
                    if (4 == y.readyState && 200 == y.status) {
                        var a = y.responseText.split("\n"),
                            u = a[0],
                            o = a[1];
                        console.log("Got xsolla token", o);
                        var h = {
                            access_token: o,
                            sandbox: -1 !== u.indexOf("sandbox")
                        };
                        if (5 == m) {
                            let m = "https://" + (-1 !== u.indexOf("sandbox") ? "sandbox-" : "") + "secure.xsolla.com/paystation3/?access_token=" + o;
                            var B = document.createElement("div");
                            B.style.marginTop = "3vh", B.innerHTML = 'Payment link (valid 24 hours): <div class="button" onclick="document.getElementById(\'xsolla-share-link\').select();        document.execCommand(\'copy\');alert(\'Link copied\');">Copy</div><input id="xsolla-share-link" value="' + m + '" size="85">';
                            let a = document.getElementById("after-buy-message");
                            return void a.parentNode.insertBefore(B, a)
                        }
                        var q = document.createElement("script");
                        q.type = "text/javascript", q.async = !0, q.src = "https://static.xsolla.com/embed/paystation/1.0.7/widget.min.js", q.addEventListener("load", function (m) {
                            XPayStationWidget.init(h), XPayStationWidget.on("close", function () {
                                window.location.search = "?my-account"
                            }), XPayStationWidget.open()
                        }, !1), document.getElementsByTagName("head")[0].appendChild(q)
                    } else 4 == y.readyState && 200 != y.status && y.onerror(y.status)
                }, y.onerror = function (m) {
                    console.log(m), alert("An error occured during the transation, please try again or contact us")
                }, y.open("GET", t + "/account/xsollaToken?s=" + u, !0), void y.send(null)
            }
            var o = rB > 0 ? rB : encodeURIComponent(EB);
            if (1 == m) var h = window.open("https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business=serial@defly.io&item_name=Premium%20Account%20for%20Defly.io%20%28inside%20EU%29&item_number=" + o + "&currency_code=EUR&country=GB&lc=US&no_shipping=1&amount=5");
            else h = window.open("https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business=serial@defly.io&item_name=Premium%20Account%20for%20Defly.io%20%28outside%20EU%29&item_number=" + o + "&currency_code=USD&country=US&lc=US&no_shipping=1&amount=5");
            var B = setInterval(function () {
                h.closed && (clearInterval(B), document.getElementById("after-buy-message").style.display = "block")
            }, 100)
        },
        updateReservedNickname: function () {
            var m = document.getElementById("reserved-nickname").value,
                a = document.getElementById("reserved-nickname-button");
            a.disabled = !0, a.innerHTML = "Updating...";
            var y = new XMLHttpRequest;
            y.onreadystatechange = function () {
                if (4 == y.readyState && 200 == y.status) {
                    a.disabled = !1, a.innerHTML = "Update";
                    var m = y.responseText.split("\n");
                    "ERROR" == m[0] && alert(m[1])
                } else 4 == y.readyState && 200 != y.status && y.onerror(y.status)
            }, y.onerror = function (m) {
                a.disabled = !1, a.innerHTML = "Update", Wy("Error updating reserved nickname"), console.log(m)
            }, y.open("POST", t + "/account/updateReserved?s=" + u + "&n=" + encodeURIComponent(m), !0), y.send(null)
        },
        updateDiscordID: function () {
            var m = document.getElementById("discord-id").value;
            if (m.match(/^[0-9]*$/)) {
                var a = document.getElementById("discord-id-button");
                a.disabled = !0, a.innerHTML = "Updating...";
                var y = new XMLHttpRequest;
                y.onreadystatechange = function () {
                    if (4 == y.readyState && 200 == y.status) {
                        a.disabled = !1, a.innerHTML = "Update";
                        var m = y.responseText.split("\n");
                        "ERROR" == m[0] && alert(m[1])
                    } else 4 == y.readyState && 200 != y.status && y.onerror(y.status)
                }, y.onerror = function (m) {
                    a.disabled = !1, a.innerHTML = "Update", Wy("Error updating discord ID"), console.log(m)
                }, y.open("POST", t + "/account/updateDiscordID?s=" + u + "&id=" + encodeURIComponent(m), !0), y.send(null)
            } else Wy("Invalid Discord ID")
        },
        showChatInput: $h,
        toggleChatInput: function () {
            document.getElementById("chat-block").classList.contains("typing") ? (document.getElementById("chat-input").blur(), document.getElementById("chat-block").classList.remove("typing")) : $h()
        },
        voteForMap: function (m) {
            document.getElementById("map-vote").style.display = "none";
            var a = new DataView(new ArrayBuffer(2));
            a.setUint8(0, 13), a.setUint8(1, Du[m].id), H.send(a.buffer)
        },
        addStatsFilters: function () {
            $(".button.filters").hide(), $.getScript("tablefilter/tablefilter.js", function () {
                new TableFilter(document.querySelector("#my-statistics-table"), {
                    base_path: "./tablefilter/"
                }, {
                    col_0: "select",
                    col_9: "select",
                    col_types: ["string", "date", "string", "number", "number", "number", {
                        type: "formatted-number",
                        decimal: "."
                    }, "number", "number", "string"],
                    extensions: [{
                        name: "sort"
                    }, {
                        name: "colOps",
                        id: ["dotkills-sum", "dotkills-mean", "kills-sum", "kills-mean", "maxarea-sum", "maxarea-mean", "maxscore-sum", "maxscore-mean"],
                        col: [4, 4, 5, 5, 6, 6, 7, 7],
                        operation: ["sum", "mean", "sum", "mean", "sum", "mean", "sum", "mean"],
                        decimal_precision: [0, 0, 0, 0, 2, 2, 0, 0]
                    }],
                    status_bar: !0,
                    rows_counter: {
                        text: "Games: "
                    },
                    alternate_rows: !0,
                    btn_reset: !0,
                    auto_filter: {
                        delay: 1e3
                    },
                    themes: [{
                        name: "default"
                    }]
                }).init(), $("#ms-sums").show()
            })
        },
        recreateRenderer: Xq,
        select1v1Player: function (m) {
            if (m && m != localPlayerInde) {
                Fu = m;
                var a = PlayersGiven[m];
                if (a.challenged) return !1;
                switch (a.status) {
                case 0:
                case 2:
                    document.getElementById("gm-1v1-confirm-duel-text").innerHTML = "Challenge " + ey(a.name) + " ?", Nu = !0;
                    break;
                case 1:
                    document.getElementById("gm-1v1-confirm-duel-text").innerHTML = "Spectate " + ey(a.name) + " ?", Nu = !1
                }
                document.getElementById("gm-1v1-confirm-duel").style.visibility = "visible"
            } else document.getElementById("gm-1v1-confirm-duel").style.visibility = "hidden";
            return !1
        },
        confirmChallenge: function (m) {
            if (Nu) {
                if (m) {
                    bu("You challenged " + ey(PlayersGiven[Fu].name), "bold");
                    var a = new DataView(new ArrayBuffer(5));
                    a.setUint8(0, 14), a.setInt32(1, Fu), H.send(a.buffer), PlayersGiven[Fu].challenged = !0, Parse1v1Data()
                }
            } else m && Ih(Fu);
            Fu = 0, document.getElementById("gm-1v1-confirm-duel").style.visibility = "hidden"
        },
        answerChallenge: function (m, a) {
            var y = new DataView(new ArrayBuffer(6));
            y.setUint8(0, 15), y.setInt32(1, m), y.setUint8(5, a ? 1 : 0), H.send(y.buffer), bu("You " + (a ? "accepted" : "rejected") + " the challenge from " + ey(PlayersGiven[m].name), "bold")
        }
    };
    return Jq
}();